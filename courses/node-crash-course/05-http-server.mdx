---
title: "05. HTTP Module & Web Server"
description: "Create a raw HTTP server in Node.js without frameworks."
---

# HTTP Module

The `http` module allows Node.js to transfer data over the Hyper Text Transfer Protocol (HTTP). It is the foundation for web servers in Node.js.

```javascript
const http = require('http');
```

## Creating a Server

The `http.createServer()` method includes a request listener function which is automatically added to the `'request'` event.

```javascript
const server = http.createServer((req, res) => {
  res.write('Hello World');
  res.end();
});

server.listen(5000, () => {
  console.log('Server running on port 5000...');
});
```

Run this script and navigate to `http://localhost:5000` in your browser.

## The Request and Response Objects

The callback function receives two arguments:
1.  `req` (Request): Contains information about the incoming request (URL, method, headers, etc.).
2.  `res` (Response): Used to send a response back to the client.

### Inspecting the Request

```javascript
const server = http.createServer((req, res) => {
  console.log(req.url, req.method);
  // ...
});
```

### Setting Headers and Status Code

```javascript
const server = http.createServer((req, res) => {
  res.statusCode = 200;
  res.setHeader('Content-Type', 'text/plain');
  res.end('Hello World');
});
```

## Basic Routing

You can use `req.url` to handle different routes.

```javascript
const server = http.createServer((req, res) => {
  if (req.url === '/') {
    res.write('Welcome to the Home Page');
    res.end();
  } else if (req.url === '/about') {
    res.write('Welcome to the About Page');
    res.end();
  } else {
    res.statusCode = 404;
    res.write('Page Not Found');
    res.end();
  }
});
```

## Serving JSON

To serve an API, you typically return JSON data.

```javascript
const server = http.createServer((req, res) => {
  if (req.url === '/api/users') {
    const users = [
      { name: 'Alice', age: 25 },
      { name: 'Bob', age: 30 }
    ];
    
    res.setHeader('Content-Type', 'application/json');
    res.end(JSON.stringify(users));
  }
});
```

## Serving HTML Files

To serve actual HTML files, we combine the `http` module with the `fs` module.

```javascript
const http = require('http');
const fs = require('fs');
const path = require('path');

const server = http.createServer((req, res) => {
  if (req.url === '/') {
    fs.readFile(path.join(__dirname, 'index.html'), (err, content) => {
      if (err) throw err;
      res.writeHead(200, { 'Content-Type': 'text/html' });
      res.end(content);
    });
  }
});
```

## Summary

- The `http` module allows you to create a web server.
- `createServer` takes a callback with `req` and `res` objects.
- You can inspect `req.url` and `req.method` to implement routing.
- You must set the correct `Content-Type` header (e.g., `text/html`, `application/json`).
- In the real world, frameworks like **Express.js** are used to simplify this process, which we will cover later.
