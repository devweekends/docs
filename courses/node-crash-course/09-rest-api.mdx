---
title: "09. Building a REST API"
description: "Learn how to build a complete RESTful API with Express.js."
---

# Building a REST API

In this chapter, we will build a simple REST API to manage a list of items. We will use standard HTTP methods: GET, POST, PUT, and DELETE.

## Setup

Create a new file `server.js` and install express if you haven't.

```javascript
const express = require('express');
const app = express();

app.use(express.json()); // Middleware to parse JSON bodies

const PORT = process.env.PORT || 5000;

// Mock Database
let items = [
  { id: 1, name: 'Item One' },
  { id: 2, name: 'Item Two' }
];

app.listen(PORT, () => console.log(`Server started on port ${PORT}`));
```

## GET: Read Data

```javascript
// Get all items
app.get('/api/items', (req, res) => {
  res.json(items);
});

// Get single item
app.get('/api/items/:id', (req, res) => {
  const found = items.some(item => item.id === parseInt(req.params.id));

  if (found) {
    res.json(items.filter(item => item.id === parseInt(req.params.id)));
  } else {
    res.status(404).json({ msg: `No item with the id of ${req.params.id}` });
  }
});
```

## POST: Create Data

```javascript
app.post('/api/items', (req, res) => {
  const newItem = {
    id: items.length + 1, // Simple ID generation
    name: req.body.name
  };

  if (!newItem.name) {
    return res.status(400).json({ msg: 'Please include a name' });
  }

  items.push(newItem);
  res.json(items); // Return all items (or just the new one)
});
```

## PUT: Update Data

```javascript
app.put('/api/items/:id', (req, res) => {
  const found = items.some(item => item.id === parseInt(req.params.id));

  if (found) {
    const updItem = req.body;
    items.forEach(item => {
      if (item.id === parseInt(req.params.id)) {
        item.name = updItem.name ? updItem.name : item.name;
        res.json({ msg: 'Item updated', item });
      }
    });
  } else {
    res.status(404).json({ msg: `No item with the id of ${req.params.id}` });
  }
});
```

## DELETE: Remove Data

```javascript
app.delete('/api/items/:id', (req, res) => {
  const found = items.some(item => item.id === parseInt(req.params.id));

  if (found) {
    items = items.filter(item => item.id !== parseInt(req.params.id));
    res.json({ msg: 'Item deleted', items });
  } else {
    res.status(404).json({ msg: `No item with the id of ${req.params.id}` });
  }
});
```

## Testing with Postman / Insomnia

Since we don't have a frontend yet, use tools like **Postman** or **Insomnia** to test your API.

1.  **GET** `http://localhost:5000/api/items` -> Should return list.
2.  **POST** `http://localhost:5000/api/items` with JSON body `{"name": "New Item"}` -> Should add item.
3.  **PUT** `http://localhost:5000/api/items/1` with JSON body `{"name": "Updated Item"}` -> Should update item 1.
4.  **DELETE** `http://localhost:5000/api/items/1` -> Should delete item 1.

## Summary

- **REST APIs** use standard HTTP methods to perform CRUD operations.
- **GET** for retrieving data.
- **POST** for creating data.
- **PUT** (or PATCH) for updating data.
- **DELETE** for removing data.
- Always validate input and handle errors (e.g., 404 Not Found, 400 Bad Request).
