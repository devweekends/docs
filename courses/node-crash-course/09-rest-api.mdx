---
title: "09. Building a REST API"
description: "Learn how to build a complete RESTful API with Express.js."
---

# Building a REST API

APIs (Application Programming Interfaces) are the backbone of modern web development. They allow different applications to communicate with each otherâ€”whether it's your frontend talking to your backend, or third-party services integrating with your app.

## What is REST?

**REST** (Representational State Transfer) is an architectural style for designing networked applications. It's not a protocol or standard, but a set of constraints that, when followed, create scalable and maintainable APIs.

### Core Principles of REST

| Principle | Description |
|-----------|-------------|
| **Stateless** | Each request contains all the information needed to process it. The server doesn't store client state between requests. |
| **Client-Server** | The client and server are separate, allowing them to evolve independently. |
| **Uniform Interface** | Resources are accessed using standard HTTP methods (GET, POST, PUT, DELETE). |
| **Resource-Based** | Everything is a resource (users, products, orders) identified by URLs. |

### HTTP Methods and Their Meanings

| Method | Purpose | Example |
|--------|---------|--------|
| `GET` | Retrieve data | Get all users, get user by ID |
| `POST` | Create new data | Create a new user |
| `PUT` | Update existing data (replace) | Update a user's information |
| `PATCH` | Partial update | Update only user's email |
| `DELETE` | Remove data | Delete a user |

### Why REST?

- **Universal**: Works with any programming language that can make HTTP requests
- **Scalable**: Statelessness allows easy horizontal scaling
- **Cacheable**: GET requests can be cached for better performance
- **Simple**: Uses familiar HTTP concepts developers already know

In this chapter, we will build a simple REST API to manage a list of items, demonstrating these principles in action.

## Setup

Create a new file `server.js` and install express if you haven't.

```javascript
const express = require('express');
const app = express();

app.use(express.json()); // Middleware to parse JSON bodies

const PORT = process.env.PORT || 5000;

// Mock Database
let items = [
  { id: 1, name: 'Item One' },
  { id: 2, name: 'Item Two' }
];

app.listen(PORT, () => console.log(`Server started on port ${PORT}`));
```

## GET: Read Data

```javascript
// Get all items
app.get('/api/items', (req, res) => {
  res.json(items);
});

// Get single item
app.get('/api/items/:id', (req, res) => {
  const found = items.some(item => item.id === parseInt(req.params.id));

  if (found) {
    res.json(items.filter(item => item.id === parseInt(req.params.id)));
  } else {
    res.status(404).json({ msg: `No item with the id of ${req.params.id}` });
  }
});
```

## POST: Create Data

```javascript
app.post('/api/items', (req, res) => {
  const newItem = {
    id: items.length + 1, // Simple ID generation
    name: req.body.name
  };

  if (!newItem.name) {
    return res.status(400).json({ msg: 'Please include a name' });
  }

  items.push(newItem);
  res.json(items); // Return all items (or just the new one)
});
```

## PUT: Update Data

```javascript
app.put('/api/items/:id', (req, res) => {
  const found = items.some(item => item.id === parseInt(req.params.id));

  if (found) {
    const updItem = req.body;
    items.forEach(item => {
      if (item.id === parseInt(req.params.id)) {
        item.name = updItem.name ? updItem.name : item.name;
        res.json({ msg: 'Item updated', item });
      }
    });
  } else {
    res.status(404).json({ msg: `No item with the id of ${req.params.id}` });
  }
});
```

## DELETE: Remove Data

```javascript
app.delete('/api/items/:id', (req, res) => {
  const found = items.some(item => item.id === parseInt(req.params.id));

  if (found) {
    items = items.filter(item => item.id !== parseInt(req.params.id));
    res.json({ msg: 'Item deleted', items });
  } else {
    res.status(404).json({ msg: `No item with the id of ${req.params.id}` });
  }
});
```

## Testing with Postman / Insomnia

Since we don't have a frontend yet, use tools like **Postman** or **Insomnia** to test your API.

1.  **GET** `http://localhost:5000/api/items` -> Should return list.
2.  **POST** `http://localhost:5000/api/items` with JSON body `{"name": "New Item"}` -> Should add item.
3.  **PUT** `http://localhost:5000/api/items/1` with JSON body `{"name": "Updated Item"}` -> Should update item 1.
4.  **DELETE** `http://localhost:5000/api/items/1` -> Should delete item 1.

## Summary

- **REST APIs** use standard HTTP methods to perform CRUD operations.
- **GET** for retrieving data.
- **POST** for creating data.
- **PUT** (or PATCH) for updating data.
- **DELETE** for removing data.
- Always validate input and handle errors (e.g., 404 Not Found, 400 Bad Request).
