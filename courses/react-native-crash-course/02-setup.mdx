---
title: "02. Setup & Architecture"
description: "Understand React Native architecture and set up your development environment"
---

<Frame>
  <img src="/images/courses/react-native-crash-course/react-native-architecture.svg" alt="React Native Architecture" />
</Frame>

## Module Overview

<Info>
**Estimated Time**: 2-3 hours | **Difficulty**: Beginner | **Prerequisites**: JavaScript, React basics
</Info>

Before writing any code, it's crucial to understand how React Native works under the hood. This knowledge will help you debug issues, optimize performance, and make better architectural decisions.

**What You'll Learn:**
- How React Native bridges JavaScript to native code
- The new architecture (Fabric + TurboModules)
- Expo vs React Native CLI comparison
- Complete development environment setup
- Creating and running your first app

---

## How React Native Works

React Native allows you to build mobile apps using JavaScript and React. But unlike web apps that render to a DOM, React Native renders to actual native views.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    React Native Rendering Pipeline                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚   Your React Code                                                        â”‚
â”‚         â”‚                                                                â”‚
â”‚         â–¼                                                                â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚   â”‚   React     â”‚      â”‚   Bridge/   â”‚      â”‚   Native    â”‚             â”‚
â”‚   â”‚ Components  â”‚ â”€â”€â”€â–º â”‚    JSI      â”‚ â”€â”€â”€â–º â”‚   Views     â”‚             â”‚
â”‚   â”‚   (JSX)     â”‚      â”‚             â”‚      â”‚             â”‚             â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                                                                          â”‚
â”‚   <View>         â†’     Serialization  â†’     UIView (iOS)                â”‚
â”‚   <Text>         â†’     / JSI calls    â†’     TextView (Android)          â”‚
â”‚   <Image>        â†’                    â†’     UIImageView / ImageView     â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### The JavaScript Thread

Your React code runs in a JavaScript engine (Hermes or JavaScriptCore):

```javascript
// This runs on the JavaScript thread
const App = () => {
  const [count, setCount] = useState(0);
  
  return (
    <View style={styles.container}>
      <Text>Count: {count}</Text>
      <Button 
        title="Increment" 
        onPress={() => setCount(count + 1)} 
      />
    </View>
  );
};
```

### The Native Thread

Native modules and UI rendering run on the native thread:

- **iOS**: Objective-C/Swift code using UIKit
- **Android**: Java/Kotlin code using Android SDK

### The Bridge (Legacy Architecture)

The old architecture used a "bridge" for JS-Native communication:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Legacy Bridge Architecture                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚   JavaScript Thread          Bridge          Native Thread          â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€          â”€â”€â”€â”€â”€â”€          â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€          â”‚
â”‚                                                                     â”‚
â”‚   setCount(5)        â†’    JSON.stringify()   â†’    Update UI        â”‚
â”‚                           { type: "update",                        â”‚
â”‚                             data: { count: 5 }}                    â”‚
â”‚                                                                     â”‚
â”‚   Problems:                                                         â”‚
â”‚   â€¢ Async by default (can't be synchronous)                        â”‚
â”‚   â€¢ Serialization overhead for large data                          â”‚
â”‚   â€¢ Single-threaded bottleneck                                     â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## The New Architecture

React Native's new architecture (Fabric + TurboModules + JSI) solves legacy bridge limitations:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     New Architecture (RN 0.74+)                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚   â”‚                  JavaScript Interface (JSI)                    â”‚    â”‚
â”‚   â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚    â”‚
â”‚   â”‚  â€¢ Direct C++ bindings - no serialization needed              â”‚    â”‚
â”‚   â”‚  â€¢ Synchronous calls possible                                 â”‚    â”‚
â”‚   â”‚  â€¢ Enables Fabric and TurboModules                            â”‚    â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                         â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚   Fabric Renderer    â”‚    â”‚         TurboModules                â”‚   â”‚
â”‚   â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚    â”‚         â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                â”‚   â”‚
â”‚   â”‚   â€¢ New UI rendering â”‚    â”‚   â€¢ Lazy-loaded native modules     â”‚   â”‚
â”‚   â”‚   â€¢ Concurrent mode  â”‚    â”‚   â€¢ Type-safe (CodeGen)            â”‚   â”‚
â”‚   â”‚   â€¢ Improved perf    â”‚    â”‚   â€¢ Direct JS-Native calls         â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                         â”‚
â”‚   Benefits:                                                             â”‚
â”‚   âœ“ Up to 10x faster startup                                           â”‚
â”‚   âœ“ Synchronous native calls when needed                               â”‚
â”‚   âœ“ Better memory usage                                                â”‚
â”‚   âœ“ Concurrent React features                                          â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Hermes JavaScript Engine

Hermes is a JavaScript engine optimized for React Native:

```javascript
// app.json or app.config.js - Hermes is now enabled by default
{
  "expo": {
    "jsEngine": "hermes"  // Default in Expo SDK 48+
  }
}

// Benefits of Hermes:
// âœ“ Faster app startup (bytecode compilation ahead-of-time)
// âœ“ Lower memory usage
// âœ“ Smaller app size
// âœ“ Better garbage collection
```

<Note>
**Hermes is now the default** in both Expo and React Native CLI projects. It provides significant performance improvements, especially for app startup time.
</Note>

---

## Expo vs React Native CLI

<Frame>
  <img src="/images/courses/react-native-crash-course/expo-vs-cli.svg" alt="Expo vs React Native CLI" />
</Frame>

### Expo (Recommended for Most Projects)

```bash
# Create a new Expo project
npx create-expo-app@latest my-app
cd my-app
npx expo start
```

**Advantages:**
- Zero configuration to get started
- Expo Go app for instant testing
- Managed build service (EAS)
- Over-the-air updates
- Pre-built native modules
- Web support included

**When to use:**
- Starting a new project
- Rapid prototyping
- Teams without native experience
- Most production apps

### React Native CLI

```bash
# Create a new React Native CLI project
npx react-native init MyApp
cd MyApp
npx react-native run-ios # or run-android
```

**Advantages:**
- Full native code access
- Custom native modules
- Integration with existing native apps
- More control over build process

**When to use:**
- Need custom native code
- Integrating into existing native app
- Specific native SDK requirements

<Warning>
**Recommendation**: Start with Expo. You can always "eject" or use development builds for native code access. Most apps never need to leave Expo.
</Warning>

---

## Development Environment Setup

### Step 1: Install Node.js

```bash
# Check if Node.js is installed
node --version  # Should be 18.x or higher

# Install via nvm (recommended)
# Windows: https://github.com/coreybutler/nvm-windows
# macOS/Linux:
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash
nvm install 20
nvm use 20
```

### Step 2: Install Expo CLI

```bash
# Install Expo CLI globally (optional - npx works too)
npm install -g expo-cli

# Or use npx (recommended)
npx create-expo-app@latest
```

### Step 3: Install Expo Go (Mobile Testing)

Download Expo Go on your phone:
- **iOS**: [App Store](https://apps.apple.com/app/expo-go/id982107779)
- **Android**: [Google Play](https://play.google.com/store/apps/details?id=host.exp.exponent)

### Step 4: Install VS Code Extensions

```json
// Recommended VS Code extensions for React Native
{
  "recommendations": [
    "dsznajder.es7-react-js-snippets",      // React snippets
    "esbenp.prettier-vscode",                // Code formatting
    "dbaeumer.vscode-eslint",               // Linting
    "expo.vscode-expo-tools",               // Expo support
    "naumovs.color-highlight",              // Color preview
    "formulahendry.auto-rename-tag"         // Auto rename JSX tags
  ]
}
```

### Step 5: iOS Setup (macOS only)

```bash
# Install Xcode from App Store, then:
sudo xcode-select --switch /Applications/Xcode.app
sudo xcodebuild -license accept

# Install CocoaPods
sudo gem install cocoapods

# Install iOS simulator
# Open Xcode â†’ Preferences â†’ Platforms â†’ Add iOS simulator
```

### Step 6: Android Setup

```bash
# Install Android Studio
# Download from: https://developer.android.com/studio

# Set environment variables (add to ~/.bashrc or ~/.zshrc)
export ANDROID_HOME=$HOME/Android/Sdk
export PATH=$PATH:$ANDROID_HOME/emulator
export PATH=$PATH:$ANDROID_HOME/platform-tools

# Create an Android Virtual Device (AVD)
# Android Studio â†’ Device Manager â†’ Create Device
```

---

## Your First React Native App

### Create the Project

```bash
# Create a new Expo project
npx create-expo-app@latest my-first-app
cd my-first-app

# Start the development server
npx expo start
```

### Project Structure

```
my-first-app/
â”œâ”€â”€ app/                    # App Router screens (Expo Router)
â”‚   â”œâ”€â”€ (tabs)/            # Tab navigation group
â”‚   â”‚   â”œâ”€â”€ index.tsx      # Home tab
â”‚   â”‚   â”œâ”€â”€ explore.tsx    # Explore tab
â”‚   â”‚   â””â”€â”€ _layout.tsx    # Tab layout config
â”‚   â”œâ”€â”€ _layout.tsx        # Root layout
â”‚   â””â”€â”€ +not-found.tsx     # 404 screen
â”œâ”€â”€ assets/                 # Static assets (images, fonts)
â”‚   â”œâ”€â”€ fonts/
â”‚   â””â”€â”€ images/
â”œâ”€â”€ components/            # Reusable components
â”œâ”€â”€ constants/             # App constants (colors, etc.)
â”œâ”€â”€ hooks/                 # Custom hooks
â”œâ”€â”€ app.json               # App configuration
â”œâ”€â”€ package.json           # Dependencies
â””â”€â”€ tsconfig.json          # TypeScript config
```

### Understanding app.json

```json
{
  "expo": {
    "name": "my-first-app",
    "slug": "my-first-app",
    "version": "1.0.0",
    "orientation": "portrait",
    "icon": "./assets/images/icon.png",
    "scheme": "myapp",
    "userInterfaceStyle": "automatic",
    "splash": {
      "image": "./assets/images/splash.png",
      "resizeMode": "contain",
      "backgroundColor": "#ffffff"
    },
    "ios": {
      "supportsTablet": true,
      "bundleIdentifier": "com.yourcompany.myfirstapp"
    },
    "android": {
      "adaptiveIcon": {
        "foregroundImage": "./assets/images/adaptive-icon.png",
        "backgroundColor": "#ffffff"
      },
      "package": "com.yourcompany.myfirstapp"
    },
    "web": {
      "bundler": "metro",
      "output": "static",
      "favicon": "./assets/images/favicon.png"
    },
    "plugins": [
      "expo-router"
    ]
  }
}
```

### Your First Component

```tsx
// app/index.tsx
import { StyleSheet, Text, View, Button, Alert } from 'react-native';
import { useState } from 'react';

export default function HomeScreen() {
  const [count, setCount] = useState(0);

  const handlePress = () => {
    setCount(count + 1);
  };

  return (
    <View style={styles.container}>
      <Text style={styles.title}>Welcome to React Native! ğŸ‰</Text>
      <Text style={styles.subtitle}>
        You've pressed the button {count} times
      </Text>
      <View style={styles.buttonContainer}>
        <Button 
          title="Press Me" 
          onPress={handlePress}
          color="#007AFF"
        />
      </View>
      <Text style={styles.hint}>
        Open app/index.tsx to start editing
      </Text>
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: '#fff',
    alignItems: 'center',
    justifyContent: 'center',
    padding: 20,
  },
  title: {
    fontSize: 24,
    fontWeight: 'bold',
    marginBottom: 10,
  },
  subtitle: {
    fontSize: 18,
    color: '#666',
    marginBottom: 20,
  },
  buttonContainer: {
    marginVertical: 20,
    width: 200,
  },
  hint: {
    fontSize: 14,
    color: '#999',
    marginTop: 40,
  },
});
```

---

## Running Your App

### Option 1: Expo Go (Fastest)

```bash
npx expo start

# Scan the QR code with:
# - iOS: Camera app
# - Android: Expo Go app
```

### Option 2: iOS Simulator (macOS)

```bash
npx expo start --ios

# Or press 'i' in the terminal after starting
```

### Option 3: Android Emulator

```bash
npx expo start --android

# Or press 'a' in the terminal after starting
```

### Development Server Commands

```bash
# In the Metro bundler terminal:
# r - Reload the app
# m - Open the menu
# j - Open debugger
# i - Open iOS simulator
# a - Open Android emulator
# w - Open in web browser
```

---

## Hot Reloading & Fast Refresh

React Native supports **Fast Refresh** - your changes appear instantly without losing component state:

```tsx
// Edit this and watch it update instantly!
export default function App() {
  const [count, setCount] = useState(0);
  
  return (
    <View style={styles.container}>
      {/* Change this text - state (count) is preserved! */}
      <Text style={styles.title}>Fast Refresh Demo</Text>
      <Text>Count: {count}</Text>
      <Button title="+" onPress={() => setCount(c => c + 1)} />
    </View>
  );
}
```

<Tip>
**Fast Refresh preserves state** for function components with hooks. If you need to reset state, add `// @refresh reset` comment at the top of the file.
</Tip>

---

## Debugging

### React Native Debugger Menu

```bash
# Shake device or Cmd+D (iOS) / Cmd+M (Android) to open menu

# Options:
# - Reload: Full reload
# - Open Debugger: Chrome DevTools
# - Show Performance Monitor: FPS, memory
# - Show Inspector: Element inspector
```

### Console Logging

```tsx
// Logs appear in Metro bundler terminal
console.log('Debug info:', { count });
console.warn('Warning message');
console.error('Error message');

// Use JSON.stringify for objects
console.log(JSON.stringify(complexObject, null, 2));
```

### React DevTools

```bash
# Install React DevTools
npm install -g react-devtools

# Run it
react-devtools

# Connect by pressing 'j' in Metro bundler
```

---

## Common Setup Issues

### Issue: "Unable to resolve module"

```bash
# Clear caches and restart
npx expo start --clear
```

### Issue: "watchman" errors on macOS

```bash
brew install watchman
```

### Issue: Android emulator not found

```bash
# List available emulators
emulator -list-avds

# Start specific emulator
emulator -avd Pixel_6_API_33
```

### Issue: iOS build fails

```bash
cd ios
pod install --repo-update
cd ..
npx expo run:ios
```

---

## Summary

<CardGroup cols={2}>
  <Card title="Key Concepts" icon="brain">
    - React Native renders to native views
    - JSI enables direct JS-Native communication
    - Hermes provides better performance
    - Expo simplifies development
  </Card>
  <Card title="Next Steps" icon="arrow-right">
    - Explore the project structure
    - Modify the default app
    - Test on physical device
    - Learn core components
  </Card>
</CardGroup>

---

## Next Module

<Card title="Core Components & Styling" icon="layer-group" href="/courses/react-native-crash-course/03-components">
  Master React Native's core components and Flexbox styling system
</Card>
