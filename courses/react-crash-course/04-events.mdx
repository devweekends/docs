---
title: "04. Handling Events"
description: "Master user interactions including clicks, forms, keyboard, and touch events."
---

# Handling Events

Events are how users interact with your application. React provides a consistent, cross-browser event system called **Synthetic Events**.

## React Events vs DOM Events

| Feature | HTML/DOM | React |
|---------|----------|-------|
| Naming | lowercase (`onclick`) | camelCase (`onClick`) |
| Handler | String (`"handleClick()"`) | Function (`{handleClick}`) |
| Prevent default | `return false;` | `e.preventDefault()` |
| Event object | Browser-specific | Normalized (Synthetic) |

**HTML:**
```html
<button onclick="handleClick()">Click</button>
```

**React:**
```javascript
<button onClick={handleClick}>Click</button>
```

---

## Basic Event Handling

### Defining Event Handlers

```javascript
function Button() {
  // Method 1: Separate function (recommended for complex logic)
  const handleClick = () => {
    console.log('Button clicked!');
  };

  return <button onClick={handleClick}>Click Me</button>;
}

// Method 2: Inline function (ok for simple cases)
function Button() {
  return (
    <button onClick={() => console.log('Clicked!')}>
      Click Me
    </button>
  );
}
```

<Tip>
**Best Practice**: Define handlers as separate functions for:
- Better readability
- Easier debugging
- Potential performance benefits with `useCallback`
</Tip>

### Don't Call the Function!

```javascript
// ‚ùå WRONG - Function is called immediately on render
<button onClick={handleClick()}>Click</button>

// ‚úÖ CORRECT - Function reference passed, called on click
<button onClick={handleClick}>Click</button>

// ‚úÖ CORRECT - Arrow function called on click
<button onClick={() => handleClick()}>Click</button>
```

---

## The Event Object

React wraps native browser events in a **SyntheticEvent** for cross-browser compatibility.

```javascript
function Form() {
  const handleSubmit = (event) => {
    event.preventDefault(); // Stop form from refreshing page
    console.log('Form submitted');
  };

  const handleChange = (event) => {
    console.log('Target element:', event.target);
    console.log('Input value:', event.target.value);
    console.log('Input name:', event.target.name);
  };

  return (
    <form onSubmit={handleSubmit}>
      <input 
        name="email" 
        onChange={handleChange}
        placeholder="Email"
      />
      <button type="submit">Submit</button>
    </form>
  );
}
```

### Common Event Properties

| Property | Description |
|----------|-------------|
| `event.target` | Element that triggered the event |
| `event.currentTarget` | Element the handler is attached to |
| `event.type` | Event type (`'click'`, `'change'`, etc.) |
| `event.preventDefault()` | Prevents default browser behavior |
| `event.stopPropagation()` | Stops event bubbling |
| `event.nativeEvent` | Underlying native browser event |

---

## Passing Arguments to Event Handlers

Often you need to pass data (like an item ID) to the handler.

```javascript
function ProductList({ products }) {
  const handleDelete = (productId) => {
    console.log('Deleting product:', productId);
  };

  const handleEdit = (productId, currentName) => {
    console.log('Editing:', productId, currentName);
  };

  return (
    <ul>
      {products.map(product => (
        <li key={product.id}>
          {product.name}
          {/* Arrow function wrapper */}
          <button onClick={() => handleDelete(product.id)}>
            Delete
          </button>
          <button onClick={() => handleEdit(product.id, product.name)}>
            Edit
          </button>
        </li>
      ))}
    </ul>
  );
}
```

### Accessing Event AND Custom Arguments

```javascript
const handleClick = (productId, event) => {
  event.preventDefault();
  console.log('Product:', productId);
  console.log('Button:', event.target);
};

<button onClick={(e) => handleClick(product.id, e)}>
  Click
</button>
```

---

## Mouse Events

```javascript
function InteractiveBox() {
  const [isHovered, setIsHovered] = useState(false);

  return (
    <div
      style={{
        backgroundColor: isHovered ? 'lightblue' : 'lightgray',
        padding: '20px',
        cursor: 'pointer'
      }}
      onClick={() => console.log('Clicked!')}
      onDoubleClick={() => console.log('Double clicked!')}
      onMouseEnter={() => setIsHovered(true)}
      onMouseLeave={() => setIsHovered(false)}
      onMouseMove={(e) => console.log(`Position: ${e.clientX}, ${e.clientY}`)}
      onContextMenu={(e) => {
        e.preventDefault(); // Prevent right-click menu
        console.log('Right clicked!');
      }}
    >
      Hover and Click Me
    </div>
  );
}
```

### Mouse Event Types

| Event | Triggers When |
|-------|---------------|
| `onClick` | Mouse button clicked |
| `onDoubleClick` | Mouse button double-clicked |
| `onMouseEnter` | Cursor enters element (doesn't bubble) |
| `onMouseLeave` | Cursor leaves element (doesn't bubble) |
| `onMouseOver` | Cursor over element (bubbles) |
| `onMouseOut` | Cursor leaves element (bubbles) |
| `onMouseMove` | Cursor moves over element |
| `onMouseDown` | Mouse button pressed |
| `onMouseUp` | Mouse button released |
| `onContextMenu` | Right-click (context menu) |

---

## Keyboard Events

```javascript
function SearchInput() {
  const [query, setQuery] = useState('');

  const handleKeyDown = (event) => {
    // Check for specific keys
    if (event.key === 'Enter') {
      console.log('Searching for:', query);
      // Perform search
    }
    
    if (event.key === 'Escape') {
      setQuery('');
    }

    // Keyboard shortcuts with modifiers
    if (event.ctrlKey && event.key === 'k') {
      event.preventDefault();
      console.log('Ctrl+K pressed - Open command palette');
    }
  };

  return (
    <input
      type="text"
      value={query}
      onChange={(e) => setQuery(e.target.value)}
      onKeyDown={handleKeyDown}
      placeholder="Search... (Enter to submit, Esc to clear)"
    />
  );
}
```

### Key Event Properties

| Property | Description |
|----------|-------------|
| `event.key` | The key value (`'Enter'`, `'a'`, `'ArrowUp'`) |
| `event.code` | Physical key code (`'KeyA'`, `'Enter'`) |
| `event.altKey` | Alt key held |
| `event.ctrlKey` | Ctrl key held |
| `event.shiftKey` | Shift key held |
| `event.metaKey` | Meta key held (Cmd on Mac) |

### Building Keyboard Shortcuts

```javascript
function App() {
  useEffect(() => {
    const handleGlobalKeyDown = (event) => {
      // Ctrl/Cmd + S to save
      if ((event.ctrlKey || event.metaKey) && event.key === 's') {
        event.preventDefault();
        saveDocument();
      }
      
      // Ctrl/Cmd + Shift + P for command palette
      if ((event.ctrlKey || event.metaKey) && event.shiftKey && event.key === 'P') {
        event.preventDefault();
        openCommandPalette();
      }
    };

    window.addEventListener('keydown', handleGlobalKeyDown);
    return () => window.removeEventListener('keydown', handleGlobalKeyDown);
  }, []);

  return <div>...</div>;
}
```

---

## Form Events

### Input Change Event

```javascript
function FormExample() {
  const [formData, setFormData] = useState({
    name: '',
    email: '',
    agree: false
  });

  const handleChange = (event) => {
    const { name, value, type, checked } = event.target;
    setFormData(prev => ({
      ...prev,
      [name]: type === 'checkbox' ? checked : value
    }));
  };

  return (
    <form>
      <input
        name="name"
        value={formData.name}
        onChange={handleChange}
      />
      <input
        name="email"
        type="email"
        value={formData.email}
        onChange={handleChange}
      />
      <input
        name="agree"
        type="checkbox"
        checked={formData.agree}
        onChange={handleChange}
      />
    </form>
  );
}
```

### Focus Events

```javascript
function FocusExample() {
  const [isFocused, setIsFocused] = useState(false);

  return (
    <div>
      <input
        onFocus={() => setIsFocused(true)}
        onBlur={() => setIsFocused(false)}
        style={{
          borderColor: isFocused ? 'blue' : 'gray',
          outline: 'none'
        }}
      />
      {isFocused && <p>Input is focused!</p>}
    </div>
  );
}
```

---

## Event Propagation

Events bubble up through the DOM tree. You can stop this behavior.

```javascript
function Card() {
  const handleCardClick = () => {
    console.log('Card clicked');
  };

  const handleButtonClick = (event) => {
    event.stopPropagation(); // Prevents handleCardClick from firing
    console.log('Button clicked');
  };

  return (
    <div onClick={handleCardClick} className="card">
      <h2>Card Title</h2>
      <button onClick={handleButtonClick}>
        Click Me (doesn't trigger card click)
      </button>
    </div>
  );
}
```

### Event Capturing

React also supports the capture phase (rarely needed):

```javascript
<div onClickCapture={() => console.log('Capture phase')}>
  <button onClick={() => console.log('Bubble phase')}>
    Click
  </button>
</div>
// Logs: "Capture phase" then "Bubble phase"
```

---

## Touch Events (Mobile)

```javascript
function SwipeableCard() {
  const [touchStart, setTouchStart] = useState(null);
  const [touchEnd, setTouchEnd] = useState(null);

  const minSwipeDistance = 50;

  const onTouchStart = (e) => {
    setTouchEnd(null);
    setTouchStart(e.targetTouches[0].clientX);
  };

  const onTouchMove = (e) => {
    setTouchEnd(e.targetTouches[0].clientX);
  };

  const onTouchEnd = () => {
    if (!touchStart || !touchEnd) return;
    
    const distance = touchStart - touchEnd;
    const isLeftSwipe = distance > minSwipeDistance;
    const isRightSwipe = distance < -minSwipeDistance;
    
    if (isLeftSwipe) console.log('Swiped left');
    if (isRightSwipe) console.log('Swiped right');
  };

  return (
    <div
      onTouchStart={onTouchStart}
      onTouchMove={onTouchMove}
      onTouchEnd={onTouchEnd}
      className="swipeable-card"
    >
      Swipe me!
    </div>
  );
}
```

---

## Drag and Drop Events

```javascript
function DragDropExample() {
  const [draggedItem, setDraggedItem] = useState(null);
  const [items, setItems] = useState(['Item 1', 'Item 2', 'Item 3']);

  const handleDragStart = (e, index) => {
    setDraggedItem(index);
    e.dataTransfer.effectAllowed = 'move';
  };

  const handleDragOver = (e) => {
    e.preventDefault();
    e.dataTransfer.dropEffect = 'move';
  };

  const handleDrop = (e, dropIndex) => {
    e.preventDefault();
    const newItems = [...items];
    const [removed] = newItems.splice(draggedItem, 1);
    newItems.splice(dropIndex, 0, removed);
    setItems(newItems);
    setDraggedItem(null);
  };

  return (
    <ul>
      {items.map((item, index) => (
        <li
          key={item}
          draggable
          onDragStart={(e) => handleDragStart(e, index)}
          onDragOver={handleDragOver}
          onDrop={(e) => handleDrop(e, index)}
          style={{
            opacity: draggedItem === index ? 0.5 : 1,
            cursor: 'move'
          }}
        >
          {item}
        </li>
      ))}
    </ul>
  );
}
```

---

## üéØ Practice Exercises

<Accordion title="Exercise 1: Like Button with Double-Click to Super Like">
```javascript
function LikeButton() {
  const [likes, setLikes] = useState(0);
  const [superLiked, setSuperLiked] = useState(false);

  const handleClick = () => {
    if (!superLiked) {
      setLikes(prev => prev + 1);
    }
  };

  const handleDoubleClick = () => {
    setSuperLiked(true);
    setLikes(prev => prev + 10);
  };

  return (
    <button
      onClick={handleClick}
      onDoubleClick={handleDoubleClick}
      style={{
        backgroundColor: superLiked ? 'gold' : 'pink',
        border: 'none',
        padding: '10px 20px',
        borderRadius: '20px',
        cursor: 'pointer'
      }}
    >
      {superLiked ? '‚≠ê' : '‚ù§Ô∏è'} {likes}
    </button>
  );
}
```
</Accordion>

<Accordion title="Exercise 2: Keyboard-Controlled Character">
```javascript
function Character() {
  const [position, setPosition] = useState({ x: 50, y: 50 });
  const step = 10;

  useEffect(() => {
    const handleKeyDown = (e) => {
      switch (e.key) {
        case 'ArrowUp':
        case 'w':
          setPosition(p => ({ ...p, y: Math.max(0, p.y - step) }));
          break;
        case 'ArrowDown':
        case 's':
          setPosition(p => ({ ...p, y: Math.min(90, p.y + step) }));
          break;
        case 'ArrowLeft':
        case 'a':
          setPosition(p => ({ ...p, x: Math.max(0, p.x - step) }));
          break;
        case 'ArrowRight':
        case 'd':
          setPosition(p => ({ ...p, x: Math.min(90, p.x + step) }));
          break;
      }
    };

    window.addEventListener('keydown', handleKeyDown);
    return () => window.removeEventListener('keydown', handleKeyDown);
  }, []);

  return (
    <div style={{
      position: 'relative',
      width: '300px',
      height: '300px',
      border: '1px solid black'
    }}>
      <div style={{
        position: 'absolute',
        left: `${position.x}%`,
        top: `${position.y}%`,
        width: '20px',
        height: '20px',
        backgroundColor: 'blue',
        borderRadius: '50%',
        transition: 'all 0.1s'
      }} />
      <p>Use WASD or Arrow keys to move</p>
    </div>
  );
}
```
</Accordion>

<Accordion title="Exercise 3: Click Outside to Close">
```javascript
function Dropdown() {
  const [isOpen, setIsOpen] = useState(false);
  const dropdownRef = useRef(null);

  useEffect(() => {
    const handleClickOutside = (event) => {
      if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {
        setIsOpen(false);
      }
    };

    document.addEventListener('mousedown', handleClickOutside);
    return () => document.removeEventListener('mousedown', handleClickOutside);
  }, []);

  return (
    <div ref={dropdownRef} className="dropdown">
      <button onClick={() => setIsOpen(!isOpen)}>
        {isOpen ? 'Close' : 'Open'} Menu
      </button>
      {isOpen && (
        <ul className="dropdown-menu">
          <li>Option 1</li>
          <li>Option 2</li>
          <li>Option 3</li>
        </ul>
      )}
    </div>
  );
}
```
</Accordion>

---

## Summary

| Concept | Description |
|---------|-------------|
| **Event Handlers** | Functions that respond to user interactions |
| **SyntheticEvent** | React's cross-browser event wrapper |
| **event.target** | Element that triggered the event |
| **event.preventDefault()** | Stop default browser behavior |
| **event.stopPropagation()** | Stop event bubbling |
| **Mouse Events** | click, doubleClick, mouseEnter, mouseLeave, etc. |
| **Keyboard Events** | keyDown, keyUp, keyPress (use key property) |
| **Form Events** | onChange, onSubmit, onFocus, onBlur |
| **Touch Events** | touchStart, touchMove, touchEnd (mobile) |

<Card title="Next Steps" icon="arrow-right">
In the next chapter, you'll learn about **Lists & Keys** ‚Äî efficiently rendering collections of data!
</Card>
