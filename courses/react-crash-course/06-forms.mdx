---
title: "06. Forms & Controlled Components"
description: "Handle form inputs and manage form state using Controlled Components."
---

# Forms & Controlled Components

HTML form elements work a bit differently from other DOM elements in React, because form elements naturally keep some internal state.

## Controlled Components

In React, mutable state is typically kept in the state property of components, and only updated with `setState()`.
We can make the React state be the "single source of truth". Then the React component that renders a form also controls what happens in that form on subsequent user input. An input form element whose value is controlled by React in this way is called a "controlled component".

### Basic Input

```javascript
import { useState } from 'react';

function NameForm() {
  const [value, setValue] = useState('');

  const handleChange = (event) => {
    setValue(event.target.value);
  };

  const handleSubmit = (event) => {
    alert('A name was submitted: ' + value);
    event.preventDefault();
  };

  return (
    <form onSubmit={handleSubmit}>
      <label>
        Name:
        <input type="text" value={value} onChange={handleChange} />
      </label>
      <input type="submit" value="Submit" />
    </form>
  );
}
```

## Handling Multiple Inputs

When you need to handle multiple controlled input elements, you can add a `name` attribute to each element and let the handler function choose what to do based on the value of `event.target.name`.

```javascript
function ReservationForm() {
  const [formData, setFormData] = useState({
    isGoing: true,
    numberOfGuests: 2
  });

  const handleInputChange = (event) => {
    const target = event.target;
    const value = target.type === 'checkbox' ? target.checked : target.value;
    const name = target.name;

    setFormData({
      ...formData,
      [name]: value
    });
  };

  return (
    <form>
      <label>
        Is going:
        <input
          name="isGoing"
          type="checkbox"
          checked={formData.isGoing}
          onChange={handleInputChange} />
      </label>
      <br />
      <label>
        Number of guests:
        <input
          name="numberOfGuests"
          type="number"
          value={formData.numberOfGuests}
          onChange={handleInputChange} />
      </label>
    </form>
  );
}
```

## Textarea and Select

### Textarea

In HTML, a `<textarea>` defines its text by its children. In React, it uses a `value` attribute.

```javascript
<textarea value={value} onChange={handleChange} />
```

### Select

In React, uses a `value` attribute on the root `select` tag.

```javascript
<select value={value} onChange={handleChange}>
  <option value="grapefruit">Grapefruit</option>
  <option value="lime">Lime</option>
  <option value="coconut">Coconut</option>
</select>
```

## Summary

- **Controlled Components**: React state controls the input value.
- Use `value={state}` and `onChange={handler}`.
- For multiple inputs, use the `name` attribute to distinguish them in a single handler.
- `textarea` and `select` also use the `value` attribute in React.
