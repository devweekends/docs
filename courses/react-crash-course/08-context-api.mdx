---
title: "08. Context API"
description: "Manage global state and avoid prop drilling with the Context API."
---

# Context API

Context provides a way to pass data through the component tree without having to pass props down manually at every level.

## The Problem: Prop Drilling

If you have a global setting (like a theme or user authentication) that many components need, passing it down 5 levels deep via props is tedious. This is called "prop drilling".

## Creating Context

```javascript
import { createContext } from 'react';

const ThemeContext = createContext('light'); // Default value
```

## Providing Context

Use the `Context.Provider` component to wrap the part of your app that needs access to the context.

```javascript
function App() {
  return (
    <ThemeContext.Provider value="dark">
      <Toolbar />
    </ThemeContext.Provider>
  );
}

function Toolbar() {
  return (
    <div>
      <ThemedButton />
    </div>
  );
}
```

## Consuming Context (useContext Hook)

The `useContext` hook makes it easy to access the context value.

```javascript
import { useContext } from 'react';

function ThemedButton() {
  const theme = useContext(ThemeContext);
  
  return (
    <button style={{ background: theme === 'dark' ? '#333' : '#fff' }}>
      I am styled by theme context!
    </button>
  );
}
```

## Real World Example: Auth Context

It's common to create a custom provider component to manage state.

**AuthContext.js**
```javascript
import { createContext, useState, useContext } from 'react';

const AuthContext = createContext(null);

export const AuthProvider = ({ children }) => {
  const [user, setUser] = useState(null);

  const login = (userData) => {
    setUser(userData);
  };

  const logout = () => {
    setUser(null);
  };

  return (
    <AuthContext.Provider value={{ user, login, logout }}>
      {children}
    </AuthContext.Provider>
  );
};

export const useAuth = () => useContext(AuthContext);
```

**App.js**
```javascript
import { AuthProvider } from './AuthContext';
import Navbar from './Navbar';

function App() {
  return (
    <AuthProvider>
      <Navbar />
      {/* Other components */}
    </AuthProvider>
  );
}
```

**Navbar.js**
```javascript
import { useAuth } from './AuthContext';

function Navbar() {
  const { user, login, logout } = useAuth();

  return (
    <nav>
      {user ? (
        <>
          <span>Welcome, {user.name}</span>
          <button onClick={logout}>Logout</button>
        </>
      ) : (
        <button onClick={() => login({ name: 'Alice' })}>Login</button>
      )}
    </nav>
  );
}
```

## Summary

- **Context** solves prop drilling.
- `createContext()` creates a context object.
- `Provider` component allows consuming components to subscribe to context changes.
- `useContext` hook allows functional components to read the context value.
- Use it for global data like themes, user auth, or language settings.
