---
title: "Docker Fundamentals"
sidebarTitle: "Fundamentals"
description: "Core Docker concepts and commands"
icon: "book"
---

# Docker Fundamentals

Master the core concepts of Docker containerization and understand how containers revolutionized software deployment.

---

## What is Docker?

Docker is a platform for developing, shipping, and running applications in **containers**. Containers package your application with all its dependencies, ensuring it runs consistently across different environments.

<CardGroup cols={2}>
  <Card title="Lightweight" icon="feather">
    Containers share the host OS kernel, using MBs instead of GBs
  </Card>
  <Card title="Portable" icon="truck">
    Run anywhere - laptop, server, cloud
  </Card>
  <Card title="Fast" icon="bolt">
    Start in seconds, not minutes
  </Card>
  <Card title="Isolated" icon="box">
    Each container runs independently
  </Card>
</CardGroup>

---

## Images vs Containers

Understanding the difference is crucial:

### Docker Images
- **Blueprint** for containers (like a class in OOP)
- Read-only template
- Contains application code, runtime, libraries, dependencies
- Stored in registries (Docker Hub, private registries)
- Built from Dockerfile

### Docker Containers
- **Running instance** of an image (like an object in OOP)
- Writable layer on top of image
- Isolated process with own filesystem, network, process tree
- Can be started, stopped, deleted
- Multiple containers from same image

```bash
# Analogy
Image = Recipe
Container = Cake baked from recipe

# You can bake many cakes (containers) from one recipe (image)
```

---

## Docker Architecture

Docker uses a client-server architecture:

```
┌─────────────┐         ┌──────────────────┐         ┌─────────────┐
│   Docker    │  REST   │  Docker Daemon   │         │   Docker    │
│   Client    │────────▶│    (dockerd)     │◀────────│  Registry   │
│   (CLI)     │   API   │                  │  Pull/  │ (Docker Hub)│
└─────────────┘         └──────────────────┘  Push   └─────────────┘
                               │
                               │ Manages
                               ▼
                        ┌──────────────┐
                        │  Containers  │
                        │    Images    │
                        │   Networks   │
                        │   Volumes    │
                        └──────────────┘
```

### Components

**Docker Client (`docker`)**:
- Command-line interface
- Sends commands to Docker daemon
- Can communicate with remote daemons

**Docker Daemon (`dockerd`)**:
- Background service
- Builds, runs, manages containers
- Listens for Docker API requests

**Docker Registry**:
- Stores Docker images
- Docker Hub (public)
- Private registries (AWS ECR, Google GCR, Azure ACR)

---

## Installing Docker

<Tabs>
  <Tab title="Windows">
    ```bash
    # Download Docker Desktop from docker.com
    # Or use winget
    winget install Docker.DockerDesktop
    
    # Verify installation
    docker --version
    docker run hello-world
    ```
  </Tab>
  
  <Tab title="macOS">
    ```bash
    # Download Docker Desktop from docker.com
    # Or use Homebrew
    brew install --cask docker
    
    # Verify
    docker --version
    docker run hello-world
    ```
  </Tab>
  
  <Tab title="Linux (Ubuntu)">
    ```bash
    # Update package index
    sudo apt update
    
    # Install dependencies
    sudo apt install apt-transport-https ca-certificates curl software-properties-common
    
    # Add Docker GPG key
    curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg
    
    # Add Docker repository
    echo "deb [arch=amd64 signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null
    
    # Install Docker
    sudo apt update
    sudo apt install docker-ce docker-ce-cli containerd.io
    
    # Add user to docker group (avoid sudo)
    sudo usermod -aG docker $USER
    
    # Verify
    docker --version
    docker run hello-world
    ```
  </Tab>
</Tabs>

---

## Essential Docker Commands

### Working with Images

```bash
# Search for images
docker search nginx

# Pull image from Docker Hub
docker pull nginx
docker pull nginx:1.21  # Specific version

# List local images
docker images
docker image ls

# Inspect image
docker inspect nginx

# Remove image
docker rmi nginx
docker image rm nginx

# Remove unused images
docker image prune
docker image prune -a  # Remove all unused
```

### Working with Containers

```bash
# Run container
docker run nginx
docker run -d nginx  # Detached mode (background)
docker run -d --name my-nginx nginx  # With name
docker run -d -p 8080:80 nginx  # Port mapping (host:container)

# List containers
docker ps  # Running only
docker ps -a  # All (including stopped)

# Stop container
docker stop my-nginx
docker stop $(docker ps -q)  # Stop all running

# Start stopped container
docker start my-nginx

# Restart container
docker restart my-nginx

# Remove container
docker rm my-nginx
docker rm -f my-nginx  # Force remove (even if running)

# Remove all stopped containers
docker container prune
```

### Container Interaction

```bash
# View logs
docker logs my-nginx
docker logs -f my-nginx  # Follow (live)
docker logs --tail 100 my-nginx  # Last 100 lines

# Execute command in running container
docker exec my-nginx ls /usr/share/nginx/html
docker exec -it my-nginx bash  # Interactive shell

# Copy files
docker cp my-nginx:/etc/nginx/nginx.conf ./nginx.conf
docker cp ./index.html my-nginx:/usr/share/nginx/html/

# View container stats
docker stats
docker stats my-nginx

# Inspect container
docker inspect my-nginx
```

---

## Practical Examples

### Example 1: Running Nginx Web Server

```bash
# Pull and run nginx
docker run -d \
  --name web-server \
  -p 8080:80 \
  nginx:alpine

# Verify it's running
curl http://localhost:8080

# View logs
docker logs web-server

# Stop and remove
docker stop web-server
docker rm web-server
```

### Example 2: Running a Database

```bash
# Run PostgreSQL
docker run -d \
  --name postgres-db \
  -e POSTGRES_PASSWORD=mysecret \
  -e POSTGRES_DB=myapp \
  -p 5432:5432 \
  postgres:14

# Connect to database
docker exec -it postgres-db psql -U postgres -d myapp

# Stop and remove (data is lost!)
docker stop postgres-db
docker rm postgres-db
```

### Example 3: Interactive Container

```bash
# Run Ubuntu container interactively
docker run -it ubuntu:22.04 bash

# Inside container:
apt update
apt install curl
curl https://example.com
exit

# Container stops when you exit
```

---

## Container Lifecycle

```
┌─────────┐
│ Created │  docker create
└────┬────┘
     │
     ▼
┌─────────┐
│ Running │  docker start / docker run
└────┬────┘
     │
     ├──▶ Paused   (docker pause)
     │      │
     │      └──▶ Running (docker unpause)
     │
     ▼
┌─────────┐
│ Stopped │  docker stop
└────┬────┘
     │
     ▼
┌─────────┐
│ Removed │  docker rm
└─────────┘
```

---

## Common Flags and Options

```bash
# -d, --detach          Run in background
# -p, --publish         Port mapping (host:container)
# --name               Assign name to container
# -e, --env            Set environment variables
# -v, --volume         Mount volume
# --rm                 Remove container when stopped
# -it                  Interactive terminal
# --network            Connect to network
# --restart            Restart policy

# Example with multiple flags
docker run -d \
  --name my-app \
  -p 3000:3000 \
  -e NODE_ENV=production \
  -v $(pwd):/app \
  --restart unless-stopped \
  node:18
```

---

## Environment Variables

```bash
# Set single variable
docker run -e DATABASE_URL=postgres://localhost:5432/db myapp

# Set multiple variables
docker run \
  -e NODE_ENV=production \
  -e PORT=3000 \
  -e DATABASE_URL=postgres://db:5432/mydb \
  myapp

# From file
docker run --env-file .env myapp
```

---

## Docker System Commands

```bash
# View Docker disk usage
docker system df

# Clean up everything
docker system prune  # Remove stopped containers, unused networks, dangling images
docker system prune -a  # Also remove unused images
docker system prune -a --volumes  # Also remove unused volumes

# View Docker info
docker info

# View Docker version
docker version
```

---

## Best Practices

<AccordionGroup>
  <Accordion title="Use Specific Image Tags" icon="tag">
    ```bash
    # Bad
    docker pull nginx
    
    # Good
    docker pull nginx:1.21-alpine
    ```
    Avoid `latest` tag in production - it's unpredictable.
  </Accordion>
  
  <Accordion title="Name Your Containers" icon="signature">
    ```bash
    # Bad
    docker run -d nginx
    
    # Good
    docker run -d --name web-server nginx
    ```
    Makes management easier.
  </Accordion>
  
  <Accordion title="Clean Up Regularly" icon="broom">
    ```bash
    # Remove stopped containers
    docker container prune
    
    # Remove unused images
    docker image prune
    
    # Remove everything unused
    docker system prune -a
    ```
  </Accordion>
  
  <Accordion title="Use --rm for Temporary Containers" icon="trash">
    ```bash
    # Container auto-removes when stopped
    docker run --rm -it ubuntu bash
    ```
  </Accordion>
</AccordionGroup>

---

## Troubleshooting

### Container Won't Start

```bash
# Check logs
docker logs container-name

# Inspect container
docker inspect container-name

# Check if port is already in use
netstat -an | grep 8080  # Linux/Mac
netstat -an | findstr 8080  # Windows
```

### Permission Denied

```bash
# Linux: Add user to docker group
sudo usermod -aG docker $USER
# Log out and back in

# Or run with sudo
sudo docker ps
```

### Container Keeps Restarting

```bash
# Check logs
docker logs container-name

# Run without restart policy
docker run -d --name test nginx
# Debug the issue
```

---

## Key Takeaways

- Docker containers are lightweight, portable, and fast
- Images are blueprints, containers are running instances
- Use `docker run` to create and start containers
- Use `docker ps` to list containers
- Use `docker logs` to debug
- Clean up regularly with `docker system prune`

---

Next: [Building Docker Images →](/courses/devops-tools/docker-images)
