---
title: "Pointers & Memory"
sidebarTitle: "2. Pointers"
icon: "memory"
---


# Pointers & Memory

Memory management is a core part of C++. Understanding pointers and references is essential for writing safe and efficient code.

---

## What is a Pointer?
A pointer is a variable that stores the memory address of another variable. Think of it as a signpost pointing to a house (the variable).

```cpp
int x = 42;
int* ptr = &x; // ptr holds the address of x
std::cout << *ptr; // Dereference: prints 42
```

**Tip:** Use `*` to declare and dereference pointers. Use `&` to get the address.

---

## References
A reference is an alias for another variable. Once set, it cannot be changed to refer to something else.

```cpp
int x = 10;
int& ref = x; // ref is another name for x
ref = 20; // x is now 20
```

**Analogy:** A reference is like a nickname; a pointer is like a GPS coordinate.

---

## Dynamic Memory
You can allocate memory at runtime using `new` and free it with `delete`. But manual memory management is error-prone!

```cpp
int* p = new int(42); // Allocate
// ... use *p ...
delete p; // Free
```

**Common Mistake:** Forgetting to `delete` leads to memory leaks.

### Smart Pointers (Modern C++)
Prefer smart pointers from `<memory>`:

```cpp
#include <memory>
std::unique_ptr<int> up = std::make_unique<int>(42); // Exclusive ownership
std::shared_ptr<int> sp = std::make_shared<int>(42); // Shared ownership
```

---

## RAII (Resource Acquisition Is Initialization)
RAII is a C++ idiom: acquire resources in constructors, release them in destructors. This ensures no leaks!

```cpp
class File {
    FILE* file;
public:
    File(const char* name) { file = fopen(name, "r"); }
    ~File() { if (file) fclose(file); }
};
```

**Best Practice:** Use RAII for all resources (files, memory, locks).

---


## Mini-Exercise
- Write a function that swaps two integers using pointers.
- Use a smart pointer to manage a dynamically allocated array.

---

## Advanced: Pointer Arithmetic

Pointers can be incremented/decremented to traverse arrays.

```cpp
int arr[5] = {1,2,3,4,5};
int* p = arr;
for (int i = 0; i < 5; ++i) {
    std::cout << *(p + i) << " ";
}
```

---

## Practical: Dynamic Arrays

```cpp
int n;
std::cin >> n;
int* arr = new int[n];
// ... use arr ...
delete[] arr;
```

---

## Challenge: Double Pointers

Write a function that takes a pointer to a pointer and modifies the original value.

---

**Next:** [OOP](./oop)
};
```
