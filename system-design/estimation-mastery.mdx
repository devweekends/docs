---
title: "Estimation Mastery"
description: "Master back-of-envelope calculations for system design interviews"
icon: "calculator"
---

<Warning>
**Interview Critical**: Every system design interview starts with capacity estimation. Master these calculations to ace the first 5 minutes and build credibility.
</Warning>

## The Art of Estimation

Good estimates aren't about being exactâ€”they're about:
1. Showing structured thinking
2. Understanding orders of magnitude
3. Identifying bottlenecks early
4. Making reasonable assumptions

## ğŸ§  Numbers You Must Memorize

### Time Constants

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    TIME REFERENCE CARD                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Seconds in a day:      86,400      â‰ˆ 100,000 (10^5)           â”‚
â”‚  Seconds in a month:    2.6 million â‰ˆ 2.5 Ã— 10^6               â”‚
â”‚  Seconds in a year:     31.5 million â‰ˆ 30 Ã— 10^6               â”‚
â”‚                                                                 â”‚
â”‚  Quick Conversion:                                              â”‚
â”‚  â€¢ 1 day = 86,400s â‰ˆ 10^5 s                                    â”‚
â”‚  â€¢ 1 week = 604,800s â‰ˆ 6 Ã— 10^5 s                              â”‚
â”‚  â€¢ 1 month = 2.6Ms â‰ˆ 2.5 Ã— 10^6 s                              â”‚
â”‚  â€¢ 1 year = 31.5Ms â‰ˆ 3 Ã— 10^7 s                                â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Latency Numbers (Jeff Dean's Famous List)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    LATENCY NUMBERS (2024)                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  L1 cache reference                     0.5 ns                  â”‚
â”‚  L2 cache reference                     7 ns                    â”‚
â”‚  Main memory (RAM) reference            100 ns                  â”‚
â”‚  Send 1KB over 1 Gbps network          10 Î¼s                   â”‚
â”‚  SSD random read                        100 Î¼s (0.1 ms)        â”‚
â”‚  Read 1 MB sequentially from memory     250 Î¼s                 â”‚
â”‚  Round trip same datacenter             500 Î¼s (0.5 ms)        â”‚
â”‚  Read 1 MB sequentially from SSD        1 ms                   â”‚
â”‚  HDD seek                               10 ms                  â”‚
â”‚  Read 1 MB sequentially from HDD        20 ms                  â”‚
â”‚  Send packet CA â†’ Netherlands â†’ CA      150 ms                 â”‚
â”‚                                                                 â”‚
â”‚  Rule of Thumb:                                                 â”‚
â”‚  â€¢ Memory: 100 ns = 10^-7 s                                    â”‚
â”‚  â€¢ SSD: 100 Î¼s = 10^-4 s                                       â”‚
â”‚  â€¢ Network (same DC): 1 ms = 10^-3 s                           â”‚
â”‚  â€¢ Network (cross-continent): 100 ms = 10^-1 s                 â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Data Size Reference

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DATA SIZE REFERENCE                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  1 char (ASCII)                    1 byte                      â”‚
â”‚  1 char (UTF-8, avg)               2-3 bytes                   â”‚
â”‚  1 Integer (32-bit)                4 bytes                     â”‚
â”‚  1 Long/Timestamp (64-bit)         8 bytes                     â”‚
â”‚  1 UUID                            16 bytes                    â”‚
â”‚                                                                 â”‚
â”‚  Tweet (280 chars + metadata)      ~500 bytes - 1 KB           â”‚
â”‚  Average web page                  2-5 MB                      â”‚
â”‚  Average photo (compressed)        200 KB - 2 MB               â”‚
â”‚  Average short video (1 min)       10-50 MB                    â”‚
â”‚  HD Video (1 hour)                 1-4 GB                      â”‚
â”‚                                                                 â”‚
â”‚  Memory Tiers:                                                  â”‚
â”‚  â€¢ 1 KB = 10^3 bytes                                           â”‚
â”‚  â€¢ 1 MB = 10^6 bytes                                           â”‚
â”‚  â€¢ 1 GB = 10^9 bytes                                           â”‚
â”‚  â€¢ 1 TB = 10^12 bytes                                          â”‚
â”‚  â€¢ 1 PB = 10^15 bytes                                          â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Capacity Numbers

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SERVER CAPACITY REFERENCE                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Single Web Server:                                             â”‚
â”‚  â€¢ Simple API: 1,000 - 10,000 QPS                              â”‚
â”‚  â€¢ Complex API: 100 - 500 QPS                                  â”‚
â”‚  â€¢ Concurrent connections: 10K - 100K                          â”‚
â”‚                                                                 â”‚
â”‚  Database Server:                                               â”‚
â”‚  â€¢ MySQL/Postgres simple queries: 1,000 - 5,000 QPS            â”‚
â”‚  â€¢ MySQL/Postgres complex joins: 100 - 500 QPS                 â”‚
â”‚  â€¢ Redis in-memory: 100,000+ QPS                               â”‚
â”‚  â€¢ Cassandra write-heavy: 10,000+ QPS                          â”‚
â”‚                                                                 â”‚
â”‚  Message Queue:                                                 â”‚
â”‚  â€¢ Kafka per partition: 10,000+ msg/sec                        â”‚
â”‚  â€¢ RabbitMQ per queue: 1,000 - 10,000 msg/sec                  â”‚
â”‚                                                                 â”‚
â”‚  Network:                                                       â”‚
â”‚  â€¢ 1 Gbps = 125 MB/s                                           â”‚
â”‚  â€¢ 10 Gbps = 1.25 GB/s                                         â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“ Estimation Formulas

### Query Per Second (QPS)

```python
# Basic QPS Formula
QPS = (Daily_Active_Users Ã— Actions_Per_User_Per_Day) / Seconds_Per_Day

# With Peak Factor (typically 2x-3x average)
Peak_QPS = QPS Ã— Peak_Factor

# Example: Instagram-like app
# 500M DAU, 20 feed views/day, Peak 3x
QPS = (500M Ã— 20) / 86,400
    = 10B / 86,400
    â‰ˆ 10B / 100K
    = 100,000 QPS

Peak_QPS = 100,000 Ã— 3 = 300,000 QPS
```

### Storage Estimation

```python
# Storage Formula
Daily_Storage = Users Ã— Actions_Per_Day Ã— Size_Per_Action
Yearly_Storage = Daily_Storage Ã— 365
Total_Storage = Yearly_Storage Ã— Years Ã— Replication_Factor

# Example: Twitter-like app
# 200M DAU, 2 tweets/day, 500 bytes/tweet, 3x replication, 5 years
Daily = 200M Ã— 2 Ã— 500 bytes = 200 GB
Yearly = 200 GB Ã— 365 = 73 TB
Total = 73 TB Ã— 5 Ã— 3 = 1.1 PB
```

### Bandwidth Estimation

```python
# Bandwidth Formula
Bandwidth = QPS Ã— Average_Response_Size

# Example: Video streaming
# 100K concurrent users, 5 Mbps per stream
Total_Bandwidth = 100K Ã— 5 Mbps = 500 Gbps

# For a service:
# 10K QPS, 100 KB average response
Bandwidth = 10K Ã— 100 KB = 1 GB/s = 8 Gbps
```

## ğŸ¯ Step-by-Step Estimation Framework

### Step 1: Identify Key Metrics

```
For any system, estimate these:
1. QPS (read and write separately)
2. Storage requirements
3. Bandwidth requirements
4. Memory requirements (for caching)
```

### Step 2: Make Assumptions Clear

```
"Let me make some assumptions..."

Users:
â€¢ Total users: X
â€¢ Daily Active Users (DAU): Y% of X
â€¢ Concurrent users: Z% of DAU

Actions:
â€¢ Actions per user per day: N
â€¢ Read:Write ratio: R:W

Data:
â€¢ Average data size: S bytes
â€¢ Retention period: T years
```

### Step 3: Round Smartly

```
Good rounding (powers of 10):
â€¢ 86,400 â†’ 100,000 (10^5)
â€¢ 31,536,000 â†’ 30,000,000 (3 Ã— 10^7)
â€¢ 2.6M â†’ 2.5M or 3M

Always round to make mental math easier!
```

## ğŸ”¥ Practice Problems

### Problem 1: Design a URL Shortener

<Accordion title="Work through the estimation">

**Given assumptions:**
- 100M new URLs per month
- 10:1 read-to-write ratio
- 5 years of data retention
- Average URL: 500 bytes

**Write QPS:**
```
100M URLs / month
= 100M / (30 days Ã— 24 hours Ã— 3600 seconds)
= 100M / 2.6M seconds
â‰ˆ 100M / 3M
â‰ˆ 33 QPS

Peak (3x): ~100 QPS
```

**Read QPS:**
```
10:1 ratio = 10 Ã— 33 = 330 QPS
Peak: ~1000 QPS
```

**Storage (5 years):**
```
URLs = 100M Ã— 12 months Ã— 5 years = 6 Billion URLs
Storage = 6B Ã— 500 bytes = 3 TB

With 3x replication: 9 TB
```

**Short URL Length:**
```
62 characters (a-z, A-Z, 0-9)
62^6 = 56 billion combinations (enough for 6B URLs)
62^7 = 3.5 trillion (very safe)

â†’ Use 7 characters for safety
```

</Accordion>

### Problem 2: Design Twitter

<Accordion title="Work through the estimation">

**Given assumptions:**
- 500M total users
- 200M DAU
- Average user follows 200 people
- 10% of users tweet daily
- Average tweet: 500 bytes
- Read:Write ratio: 50:1

**Tweet Write QPS:**
```
Tweets/day = 200M Ã— 10% Ã— 2 tweets = 40M tweets
Write QPS = 40M / 86,400 â‰ˆ 40M / 100K = 400 QPS
Peak: 1,200 QPS
```

**Timeline Read QPS:**
```
Timeline views = 200M DAU Ã— 5 views = 1B views/day
Read QPS = 1B / 86,400 â‰ˆ 1B / 100K = 10,000 QPS
Peak: 30,000 QPS
```

**Storage (5 years):**
```
Daily tweets: 40M Ã— 500 bytes = 20 GB
Yearly: 20 GB Ã— 365 = 7.3 TB
5 years: 36.5 TB

Media (10% with images):
4M images Ã— 1 MB = 4 TB/day = 7.3 PB over 5 years
```

**Timeline Fanout:**
```
Celebrity with 50M followers:
1 tweet â†’ 50M timeline updates
This is the "celebrity problem" â†’ hybrid approach needed
```

</Accordion>

### Problem 3: Design YouTube

<Accordion title="Work through the estimation">

**Given assumptions:**
- 2B monthly active users
- 500M DAU watching videos
- Average video watch: 5 min, 5 videos/day
- 500K creators uploading daily
- Average video: 10 min, 100 MB (compressed)

**Video Watch QPS:**
```
Views = 500M Ã— 5 videos = 2.5B views/day
View QPS = 2.5B / 86,400 â‰ˆ 2.5B / 100K = 25,000 QPS
Peak: 75,000 QPS
```

**Video Upload QPS:**
```
Uploads = 500K / 86,400 â‰ˆ 6 uploads/second
Peak: 20 uploads/second
```

**Storage (per year):**
```
Videos/year = 500K Ã— 365 = 182.5M videos
Storage = 182.5M Ã— 100 MB = 18.25 PB/year

Multiple resolutions (4x): ~75 PB/year
```

**Bandwidth:**
```
Concurrent streams: 50M users
Average bitrate: 5 Mbps
Total: 50M Ã— 5 Mbps = 250 Pbps

Need massive CDN infrastructure!
```

</Accordion>

### Problem 4: Design WhatsApp

<Accordion title="Work through the estimation">

**Given assumptions:**
- 2B users total
- 500M DAU
- Average: 50 messages/day/user
- Average message: 200 bytes
- 5% with images (100 KB avg)

**Message QPS:**
```
Messages/day = 500M Ã— 50 = 25B messages
QPS = 25B / 86,400 â‰ˆ 25B / 100K = 250,000 QPS
Peak: 750,000 QPS

This is why WhatsApp uses Erlang for concurrency!
```

**Storage (5 years):**
```
Text: 25B Ã— 200 bytes = 5 TB/day
Images: 25B Ã— 5% Ã— 100 KB = 125 TB/day
Total: 130 TB/day = 47 PB/year = 235 PB over 5 years
```

**Concurrent Connections:**
```
500M DAU, 20% online at any time = 100M concurrent
WebSocket connections are long-lived!
```

</Accordion>

## ğŸ“ Interview Tips

### Do's âœ…

```
1. State assumptions CLEARLY
   "I'll assume we have 100 million DAU..."

2. Round numbers for easier math
   "I'll round 86,400 to 100,000..."

3. Work through calculations out loud
   "So that's 100 million divided by 100,000..."

4. Sanity check your answers
   "Let me verify: 1 PB seems reasonable for 5 years..."

5. Identify bottlenecks early
   "At 300K QPS, we'll definitely need caching..."
```

### Don'ts âŒ

```
1. Don't be overly precise
   Bad: "That's 11,574.074 QPS"
   Good: "About 12K QPS, let's say 15K with buffer"

2. Don't skip the estimation
   It shows you understand scale!

3. Don't forget peak traffic
   Usually 2x-3x average, more during events

4. Don't forget replication
   Storage usually needs 3x for fault tolerance

5. Don't confuse MB and Mb (megabytes vs megabits)
   1 MB = 8 Mb
```

## ğŸ“Š Quick Reference Tables

### Scale Levels

| Scale | DAU | QPS | Storage/Year | Complexity |
|-------|-----|-----|--------------|------------|
| Small | 100K | 10-100 | 100 GB | Single server |
| Medium | 10M | 1K-10K | 10 TB | Multi-server |
| Large | 100M | 10K-100K | 100 TB | Distributed |
| Massive | 1B+ | 100K+ | 1 PB+ | Global infrastructure |

### Common Patterns by QPS

| QPS | Architecture | Examples |
|-----|-------------|----------|
| < 100 | Single server | Small SaaS apps |
| 100-1K | Load balancer + servers | Medium businesses |
| 1K-10K | + Caching layer | Social apps |
| 10K-100K | + Sharding + CDN | Large platforms |
| 100K+ | Global distribution | FAANG scale |

### Storage Growth Rates

| Data Type | Per Item | Daily (10M users) | Yearly |
|-----------|----------|-------------------|--------|
| Text message | 200 B | 20 GB | 7 TB |
| Tweet | 500 B | 50 GB | 18 TB |
| Photo | 500 KB | 500 TB | 182 PB |
| Video (1 min) | 50 MB | 5 PB | 1.8 EB |

## ğŸ“ Estimation Template

Use this template in interviews:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ESTIMATION TEMPLATE                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  1. USERS                                                       â”‚
â”‚     Total: _______    DAU: _______    Concurrent: _______      â”‚
â”‚                                                                 â”‚
â”‚  2. TRAFFIC                                                     â”‚
â”‚     Actions/day/user: _______                                  â”‚
â”‚     Total/day: _______                                         â”‚
â”‚     QPS: _______ / 86,400 = _______                           â”‚
â”‚     Peak QPS (Ã—3): _______                                     â”‚
â”‚                                                                 â”‚
â”‚  3. STORAGE                                                     â”‚
â”‚     Size per item: _______                                     â”‚
â”‚     Items/day: _______                                         â”‚
â”‚     Daily storage: _______                                     â”‚
â”‚     Yearly storage: _______                                    â”‚
â”‚     5-year storage: _______                                    â”‚
â”‚     With replication (Ã—3): _______                             â”‚
â”‚                                                                 â”‚
â”‚  4. BANDWIDTH                                                   â”‚
â”‚     Response size: _______                                     â”‚
â”‚     Bandwidth = QPS Ã— Size = _______                          â”‚
â”‚                                                                 â”‚
â”‚  5. MEMORY (Cache)                                             â”‚
â”‚     Hot data %: _______                                        â”‚
â”‚     Cache size: _______                                        â”‚
â”‚                                                                 â”‚
â”‚  6. KEY INSIGHTS                                                â”‚
â”‚     Read:Write ratio: _______                                  â”‚
â”‚     Primary bottleneck: _______                                â”‚
â”‚     Scaling strategy: _______                                  â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
