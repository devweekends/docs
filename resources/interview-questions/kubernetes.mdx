---
title: "Kubernetes"
description: "Orchestration, GKE, Networking, and Troubleshooting"
icon: "network-wired"
---

# Kubernetes Interview Questions (50+ Detailed Q&A)

## 1. Architecture & Components

<AccordionGroup>
<Accordion title="1. K8s Architecture Diagram">
**Answer**:
*   **Control Plane (Master)**:
    *   **API Server**: Gateway. Only component talking to etcd.
    *   **Etcd**: Key-Value store. Source of truth.
    *   **Scheduler**: Assigns Pods to Nodes.
    *   **Controller Manager**: Reconciles state (ReplicaSet, Node).
    *   **Cloud Controller**: Talks to AWS/GCP (LBs, Disk).
*   **Worker Node**:
    *   **Kubelet**: Agent talking to API Server. Manages Pods.
    *   **Kube-proxy**: Network rules (IPTables).
    *   **Runtime**: Docker/Containerd.
</Accordion>

<Accordion title="2. Role of Etcd">
**Answer**:
Distributed KV Store.
Stores Cluster State (Config, Secrets, Metadata).
Consistent (Raft Consensus).
**Critical**: If etcd is lost, cluster is lost. Needs High Availability (3-5 nodes).
</Accordion>

<Accordion title="3. Kube-proxy modes">
**Answer**:
*   **IPTables**: Default. Fast. Linux Kernel routing.
*   **IPVS**: For massive scale (thousands of services). Hash table based.
*   **Userspace**: Old, slow.
</Accordion>

<Accordion title="4. API Server Role">
**Answer**:
Authentication -> Authorization -> Admission Control -> Write to Etcd.
Stateless. Can be scaled horizontally.
</Accordion>

<Accordion title="5. Scheduler Logic">
**Answer**:
1.  **Filtering**: Which nodes meet requirements? (RAM, CPU, Taints).
2.  **Scoring**: Rank valid nodes (Least load, Image affinity).
3.  **Binding**: Notify API Server.
</Accordion>

<Accordion title="6. Controller Pattern">
**Answer**:
Infinite Loop: Watch Current State -> Compare with Desired State -> Make changes.
Example: ReplicaSet sees 2 pods, wants 3. Creates 1.
</Accordion>

<Accordion title="7. CRI, CNI, CSI">
**Answer**:
Interfaces to make K8s modular.
*   **CRI** (Runtime): Swap Docker for Containerd/CRI-O.
*   **CNI** (Network): Swap Flannel for Calico.
*   **CSI** (Storage): Swap EBS for PD-SSD.
</Accordion>

<Accordion title="8. Pause Container">
**Answer**:
Small container holding the Network Namespace for the Pod.
If app container dies, Pause stays alive so IP is kept.
</Accordion>

<Accordion title="9. Pod Lifecycle">
**Answer**:
Pending -> ContainerCreating -> Running -> Succeeded/Failed.
**CrashLoopBackOff**: Repeated failure.
</Accordion>

<Accordion title="10. Static Pods">
**Answer**:
Managed directly by Kubelet (Manifests in `/etc/kubernetes/manifests`).
Not managed by API Server/scheduler.
Used for Control Plane components (etcd, apiserver) in self-hosted clusters.
</Accordion>
</AccordionGroup>

## 2. Workloads & Scheduling

<AccordionGroup>
<Accordion title="11. Deployment vs StatefulSet vs DaemonSet">
**Answer**:
*   **Deployment**: Stateless. Random names (`app-xyz`). Easy update/rollback.
*   **StatefulSet**: Sticky identity (`app-0`, `app-1`). Ordered startup. Persistent storage attachment.
*   **DaemonSet**: One pod per Node. (Logs, Monitoring).
</Accordion>

<Accordion title="12. Jobs vs CronJobs">
**Answer**:
*   **Job**: Run to completion (Batch). Retries on failure.
*   **CronJob**: Time-based schedule.
</Accordion>

<Accordion title="13. Taints & Tolerations">
**Answer**:
Node says "Stay away" (Taint). Pod says "I can handle it" (Toleration).
**Use**: Dedicated hardware (GPU nodes), Master nodes (NoSchedule).
</Accordion>

<Accordion title="14. Node Affinity vs Selector">
**Answer**:
*   **Selector**: Simple equality (`disk=ssd`). Hard rule.
*   **Affinity**: Expressive (`Not In`, `Exists`). Soft rules (`preferredDuringScheduling`).
</Accordion>

<Accordion title="15. Init Containers">
**Answer**:
Run *before* main container. Sequential.
**Use**: Wait for DB service, Download assets.
If fails, Pod restarts.
</Accordion>

<Accordion title="16. Sidecar Pattern">
**Answer**:
Helper container running alongside main app.
**Use**: Log shipping (Fluentd), Proxy (Envoy/Istio), Config watcher.
</Accordion>

<Accordion title="17. Resource Requests vs Limits">
**Answer**:
*   **Request**: Guaranteed. Used for Scheduling.
*   **Limit**: Max cap. If CPU exceeded -> Throttle. If RAM exceeded -> OOMKill.
</Accordion>

<Accordion title="18. Pod Disruption Budget (PDB)">
**Answer**:
Limit how many pods can be down simultaneously during voluntary disruptions (Node Drain/Upgrade).
"Always keep min 2 pods up".
</Accordion>

<Accordion title="19. Rolling Update vs Recreate">
**Answer**:
*   **Rolling**: New pod up -> Old pod down. Zero downtime.
*   **Recreate**: All old down -> All new up. Downtime.
</Accordion>

<Accordion title="20. QoS Classes">
**Answer**:
1.  **Guaranteed**: Limit == Request for all. (Last to be evicted).
2.  **Burstable**: Request < Limit.
3.  **BestEffort**: No requests. (First to be evicted).
</Accordion>
</AccordionGroup>

## 3. Networking & Service Discovery

<AccordionGroup>
<Accordion title="21. Pod-to-Pod Networking Rules">
**Answer**:
1.  Every Pod gets an IP.
2.  All Pods can talk to all Pods without NAT.
</Accordion>

<Accordion title="22. Service Types">
**Answer**:
*   **ClusterIP**: Internal VIP.
*   **NodePort**: Random port (30000+) on Node IP.
*   **LoadBalancer**: Cloud LB.
*   **ExternalName**: DNS alias to external service.
</Accordion>

<Accordion title="23. How does Service Discovery work?">
**Answer**:
**CoreDNS**.
Watches API for new Services. Adds A-record: `my-svc.my-ns.svc.cluster.local`.
</Accordion>

<Accordion title="24. Ingress vs Ingress Controller">
**Answer**:
*   **Ingress**: The Rule (Resource). "Route /api to Service B".
*   **Controller**: The Implementation (Nginx Pod). Reads Rule, updates `nginx.conf`.
</Accordion>

<Accordion title="25. Network Policies">
**Answer**:
K8s Firewall. Deny all by default. Allow specific traffic.
Implemented by CNI (Calico).
</Accordion>

<Accordion title="26. Headless Service">
**Answer**:
`ClusterIP: None`.
DNS returns List of Pod IPs directly, not VIP.
Used for StatefulSets (Direct peering).
</Accordion>

<Accordion title="27. Service Mesh (Istio)">
**Answer**:
Sidecar proxy (Envoy) in every pod.
Features: mTLS, Canary, Circuit Breaking, Tracing.
</Accordion>

<Accordion title="28. CNI Plugins (Flannel vs Calico)">
**Answer**:
*   **Flannel**: VXLAN Overlay. Simple. No NetPol.
*   **Calico**: Layer 3 BGP. Complex. Supports NetPol.
</Accordion>

<Accordion title="29. Gateway API">
**Answer**:
Next-gen Ingress. Standardization. Role separation (Infra vs App).
</Accordion>

<Accordion title="30. Port Forwarding">
**Answer**:
Dev tool. Tunnels local machine port to Pod port via API Server.
</Accordion>
</AccordionGroup>

## 4. Storage & Config

<AccordionGroup>
<Accordion title="31. PV vs PVC">
**Answer**:
*   **PV**: Physical volume (Disk). Admin creates it.
*   **PVC**: Claim (Request). User creates it.
</Accordion>

<Accordion title="32. StorageClass">
**Answer**:
Dynamic Provisioning.
PVC asks for "Standard". StorageClass talks to AWS -> Creates EBS -> Creates PV -> Binds.
</Accordion>

<Accordion title="33. Access Modes">
**Answer**:
*   **RWO**: ReadWriteOnce (1 Node). Block storage.
*   **RWX**: ReadWriteMany (Multiple Nodes). NFS/EFS.
</Accordion>

<Accordion title="34. ConfigMap vs Secret">
**Answer**:
*   **Conf**: Plain text. Env vars, files.
*   **Secret**: Base64. Encrypted at rest (if configured).
</Accordion>

<Accordion title="35. Downward API">
**Answer**:
Expose Pod info (Name, IP, Namespace) to container as Env/File.
</Accordion>

<Accordion title="36. EmptyDir">
**Answer**:
Ephemeral volume. Starts empty. Dies with Pod. Good for cache.
</Accordion>
</AccordionGroup>

## 5. Troubleshooting & Security (Deep Dive)

<AccordionGroup>
<Accordion title="37. `CrashLoopBackOff` Debugging">
**Answer**:
1.  `kubectl logs` (App error).
2.  `kubectl describe` (Liveness probe failed? OOM?).
3.  `kubectl get events`.
</Accordion>

<Accordion title="38. `ImagePullBackOff`">
**Answer**:
Bad tag? Private registry auth missing (ImagePullSecrets)? Network?
</Accordion>

<Accordion title="39. `Pending` State">
**Answer**:
Scheduler cannot find a node.
Insufficient CPU/RAM? Taints? Affinity Rules? PVC pending?
</Accordion>

<Accordion title="40. `Terminating` Stuck">
**Answer**:
Finalizers? Unresponsive Storage?
**Force**: `delete pod --grace-period=0 --force`.
</Accordion>

<Accordion title="41. RBAC (Role vs ClusterRole)">
**Answer**:
*   **Role**: Namespaced (Can read Pods in 'dev').
*   **ClusterRole**: Global (Can read Nodes).
*   **Binding**: Connects User to Role.
</Accordion>

<Accordion title="42. ServiceAccount">
**Answer**:
Identity for Pods.
Pods use SA token to talk to API Server.
</Accordion>

<Accordion title="43. Security Context">
**Answer**:
`runAsUser: 1000`. `readOnlyRootFilesystem`.
Defines privileges at Pod/Container level.
</Accordion>

<Accordion title="44. Admission Controllers">
**Answer**:
Interceptors before persistence.
*   **Validating**: "No, wrong schema". (OPA Gatekeeper).
*   **Mutating**: "I'll add a sidecar automatically".
</Accordion>

<Accordion title="45. OPA (Open Policy Agent)">
**Answer**:
Policy as Code. "Registry must be internal", "Ingress must be HTTPS".
</Accordion>

<Accordion title="46. Etcd Encryption">
**Answer**:
Secrets are base64 by default. Must enable EncryptionAtRest provider to encrypt etcd data.
</Accordion>

<Accordion title="47. Network Policies Default">
**Answer**:
Apps are insecure by default (Allow All).
First step: Deny All Ingress. Then whitelist.
</Accordion>

<Accordion title="48. Container Runtime Security">
**Answer**:
gVisor / Kata Containers. Sandbox containers with distinct Kernel for high isolation.
</Accordion>

<Accordion title="49. Upgrading Cluster">
**Answer**:
1.  Upgrade Master components.
2.  Drain Node (Evict pods).
3.  Upgrade Kubelet.
4.  Uncordon.
</Accordion>

<Accordion title="50. Helm vs Kustomize">
**Answer**:
*   **Helm**: Templating ({{ .Values }}). Package Management. Complex.
*   **Kustomize**: Overlay/Patching. Native to Kubectl. Cleaner (No templates).
</Accordion>
</AccordionGroup>
