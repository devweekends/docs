<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 550">
  <defs>
    <linearGradient id="bg-grad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#0f172a"/>
      <stop offset="100%" style="stop-color:#1e293b"/>
    </linearGradient>
  </defs>
  
  <!-- Background -->
  <rect width="900" height="550" fill="url(#bg-grad)"/>
  
  <!-- Title -->
  <text x="450" y="30" font-family="system-ui, sans-serif" font-size="20" font-weight="bold" fill="white" text-anchor="middle">Azure Virtual Network Architecture</text>
  
  <!-- Internet -->
  <g transform="translate(400, 50)">
    <ellipse cx="50" cy="20" rx="60" ry="25" fill="#1e293b" stroke="#94a3b8" stroke-width="1"/>
    <text x="50" y="25" font-family="system-ui, sans-serif" font-size="12" fill="#94a3b8" text-anchor="middle">Internet</text>
  </g>
  
  <!-- VNet Container -->
  <rect x="40" y="100" width="820" height="430" rx="12" fill="none" stroke="#0078D4" stroke-width="2" stroke-dasharray="8,4"/>
  <text x="60" y="125" font-family="system-ui, sans-serif" font-size="14" fill="#0078D4">Virtual Network: prod-vnet (10.0.0.0/16)</text>
  
  <!-- Public Subnet -->
  <rect x="60" y="145" width="380" height="170" rx="8" fill="#1e293b" stroke="#50E6FF" stroke-width="1"/>
  <text x="80" y="170" font-family="system-ui, sans-serif" font-size="12" fill="#50E6FF">Public Subnet: 10.0.1.0/24</text>
  
  <!-- Application Gateway -->
  <g transform="translate(80, 185)">
    <rect x="0" y="0" width="160" height="60" rx="6" fill="#0f172a" stroke="#0078D4" stroke-width="2"/>
    <text x="80" y="25" font-family="system-ui, sans-serif" font-size="10" fill="#0078D4" text-anchor="middle">Application Gateway</text>
    <text x="80" y="42" font-family="system-ui, sans-serif" font-size="8" fill="#94a3b8" text-anchor="middle">WAF + Load Balancer</text>
    <text x="80" y="55" font-family="system-ui, sans-serif" font-size="8" fill="#64748b" text-anchor="middle">Public IP: 52.x.x.x</text>
  </g>
  
  <!-- Bastion Host -->
  <g transform="translate(260, 185)">
    <rect x="0" y="0" width="160" height="60" rx="6" fill="#0f172a" stroke="#FFB900" stroke-width="2"/>
    <text x="80" y="25" font-family="system-ui, sans-serif" font-size="10" fill="#FFB900" text-anchor="middle">Azure Bastion</text>
    <text x="80" y="42" font-family="system-ui, sans-serif" font-size="8" fill="#94a3b8" text-anchor="middle">Secure RDP/SSH</text>
    <text x="80" y="55" font-family="system-ui, sans-serif" font-size="8" fill="#64748b" text-anchor="middle">No Public IPs on VMs</text>
  </g>
  
  <!-- NSG for Public -->
  <g transform="translate(80, 260)">
    <rect x="0" y="0" width="340" height="40" rx="4" fill="#0f172a" stroke="#50E6FF" stroke-width="1" stroke-dasharray="4,2"/>
    <text x="170" y="18" font-family="system-ui, sans-serif" font-size="9" fill="#50E6FF" text-anchor="middle">NSG: public-nsg</text>
    <text x="170" y="32" font-family="system-ui, sans-serif" font-size="8" fill="#64748b" text-anchor="middle">Allow: 80, 443 | Deny: All Other</text>
  </g>
  
  <!-- Private Subnet -->
  <rect x="460" y="145" width="380" height="170" rx="8" fill="#1e293b" stroke="#0078D4" stroke-width="1"/>
  <text x="480" y="170" font-family="system-ui, sans-serif" font-size="12" fill="#0078D4">Private Subnet: 10.0.2.0/24</text>
  
  <!-- VMs in Private -->
  <g transform="translate(480, 185)">
    <rect x="0" y="0" width="100" height="60" rx="6" fill="#0f172a" stroke="#0078D4" stroke-width="1"/>
    <text x="50" y="22" font-family="system-ui, sans-serif" font-size="9" fill="#0078D4" text-anchor="middle">VM: web-01</text>
    <text x="50" y="38" font-family="system-ui, sans-serif" font-size="8" fill="#94a3b8" text-anchor="middle">10.0.2.4</text>
    <text x="50" y="52" font-family="system-ui, sans-serif" font-size="7" fill="#64748b" text-anchor="middle">Ubuntu 22.04</text>
  </g>
  
  <g transform="translate(600, 185)">
    <rect x="0" y="0" width="100" height="60" rx="6" fill="#0f172a" stroke="#0078D4" stroke-width="1"/>
    <text x="50" y="22" font-family="system-ui, sans-serif" font-size="9" fill="#0078D4" text-anchor="middle">VM: web-02</text>
    <text x="50" y="38" font-family="system-ui, sans-serif" font-size="8" fill="#94a3b8" text-anchor="middle">10.0.2.5</text>
    <text x="50" y="52" font-family="system-ui, sans-serif" font-size="7" fill="#64748b" text-anchor="middle">Ubuntu 22.04</text>
  </g>
  
  <g transform="translate(720, 185)">
    <rect x="0" y="0" width="100" height="60" rx="6" fill="#0f172a" stroke="#0078D4" stroke-width="1"/>
    <text x="50" y="22" font-family="system-ui, sans-serif" font-size="9" fill="#0078D4" text-anchor="middle">VM: web-03</text>
    <text x="50" y="38" font-family="system-ui, sans-serif" font-size="8" fill="#94a3b8" text-anchor="middle">10.0.2.6</text>
    <text x="50" y="52" font-family="system-ui, sans-serif" font-size="7" fill="#64748b" text-anchor="middle">Ubuntu 22.04</text>
  </g>
  
  <!-- NSG for Private -->
  <g transform="translate(480, 260)">
    <rect x="0" y="0" width="340" height="40" rx="4" fill="#0f172a" stroke="#0078D4" stroke-width="1" stroke-dasharray="4,2"/>
    <text x="170" y="18" font-family="system-ui, sans-serif" font-size="9" fill="#0078D4" text-anchor="middle">NSG: private-nsg</text>
    <text x="170" y="32" font-family="system-ui, sans-serif" font-size="8" fill="#64748b" text-anchor="middle">Allow: VNet Traffic | Deny: Internet Direct</text>
  </g>
  
  <!-- Database Subnet -->
  <rect x="60" y="335" width="380" height="180" rx="8" fill="#1e293b" stroke="#FF6B6B" stroke-width="1"/>
  <text x="80" y="360" font-family="system-ui, sans-serif" font-size="12" fill="#FF6B6B">Database Subnet: 10.0.3.0/24</text>
  
  <!-- Azure SQL -->
  <g transform="translate(80, 380)">
    <rect x="0" y="0" width="160" height="70" rx="6" fill="#0f172a" stroke="#FF6B6B" stroke-width="2"/>
    <text x="80" y="22" font-family="system-ui, sans-serif" font-size="10" fill="#FF6B6B" text-anchor="middle">Azure SQL Database</text>
    <text x="80" y="40" font-family="system-ui, sans-serif" font-size="8" fill="#94a3b8" text-anchor="middle">Private Endpoint</text>
    <text x="80" y="55" font-family="system-ui, sans-serif" font-size="8" fill="#64748b" text-anchor="middle">10.0.3.10</text>
  </g>
  
  <!-- Redis Cache -->
  <g transform="translate(260, 380)">
    <rect x="0" y="0" width="160" height="70" rx="6" fill="#0f172a" stroke="#FF6B6B" stroke-width="2"/>
    <text x="80" y="22" font-family="system-ui, sans-serif" font-size="10" fill="#FF6B6B" text-anchor="middle">Azure Redis Cache</text>
    <text x="80" y="40" font-family="system-ui, sans-serif" font-size="8" fill="#94a3b8" text-anchor="middle">Private Endpoint</text>
    <text x="80" y="55" font-family="system-ui, sans-serif" font-size="8" fill="#64748b" text-anchor="middle">10.0.3.20</text>
  </g>
  
  <!-- NSG for DB -->
  <g transform="translate(80, 465)">
    <rect x="0" y="0" width="340" height="35" rx="4" fill="#0f172a" stroke="#FF6B6B" stroke-width="1" stroke-dasharray="4,2"/>
    <text x="170" y="15" font-family="system-ui, sans-serif" font-size="9" fill="#FF6B6B" text-anchor="middle">NSG: database-nsg</text>
    <text x="170" y="28" font-family="system-ui, sans-serif" font-size="8" fill="#64748b" text-anchor="middle">Allow: 10.0.2.0/24 | Deny: All Other</text>
  </g>
  
  <!-- Azure Services Subnet -->
  <rect x="460" y="335" width="380" height="180" rx="8" fill="#1e293b" stroke="#9333EA" stroke-width="1"/>
  <text x="480" y="360" font-family="system-ui, sans-serif" font-size="12" fill="#9333EA">Service Endpoints / Private Link</text>
  
  <!-- Storage -->
  <g transform="translate(480, 380)">
    <rect x="0" y="0" width="100" height="60" rx="6" fill="#0f172a" stroke="#9333EA" stroke-width="1"/>
    <text x="50" y="22" font-family="system-ui, sans-serif" font-size="9" fill="#9333EA" text-anchor="middle">Storage</text>
    <text x="50" y="38" font-family="system-ui, sans-serif" font-size="8" fill="#94a3b8" text-anchor="middle">Blob/Files</text>
    <text x="50" y="52" font-family="system-ui, sans-serif" font-size="7" fill="#64748b" text-anchor="middle">Private</text>
  </g>
  
  <!-- Key Vault -->
  <g transform="translate(600, 380)">
    <rect x="0" y="0" width="100" height="60" rx="6" fill="#0f172a" stroke="#9333EA" stroke-width="1"/>
    <text x="50" y="22" font-family="system-ui, sans-serif" font-size="9" fill="#9333EA" text-anchor="middle">Key Vault</text>
    <text x="50" y="38" font-family="system-ui, sans-serif" font-size="8" fill="#94a3b8" text-anchor="middle">Secrets</text>
    <text x="50" y="52" font-family="system-ui, sans-serif" font-size="7" fill="#64748b" text-anchor="middle">Private</text>
  </g>
  
  <!-- ACR -->
  <g transform="translate(720, 380)">
    <rect x="0" y="0" width="100" height="60" rx="6" fill="#0f172a" stroke="#9333EA" stroke-width="1"/>
    <text x="50" y="22" font-family="system-ui, sans-serif" font-size="9" fill="#9333EA" text-anchor="middle">ACR</text>
    <text x="50" y="38" font-family="system-ui, sans-serif" font-size="8" fill="#94a3b8" text-anchor="middle">Container</text>
    <text x="50" y="52" font-family="system-ui, sans-serif" font-size="7" fill="#64748b" text-anchor="middle">Registry</text>
  </g>
  
  <!-- Connections -->
  <g stroke="#0078D4" stroke-width="1" opacity="0.5">
    <!-- Internet to App Gateway -->
    <line x1="450" y1="75" x2="160" y2="185"/>
    <!-- App Gateway to VMs -->
    <line x1="240" y1="215" x2="480" y2="215"/>
    <!-- VMs to Database -->
    <line x1="530" y1="260" x2="160" y2="380"/>
  </g>
  
  <!-- Legend -->
  <g transform="translate(480, 465)">
    <rect x="0" y="0" width="340" height="35" rx="4" fill="#0f172a" stroke="#334155" stroke-width="1"/>
    <circle cx="25" cy="18" r="6" fill="#50E6FF"/>
    <text x="40" y="22" font-family="system-ui, sans-serif" font-size="8" fill="#94a3b8">Public</text>
    <circle cx="100" cy="18" r="6" fill="#0078D4"/>
    <text x="115" y="22" font-family="system-ui, sans-serif" font-size="8" fill="#94a3b8">Private</text>
    <circle cx="175" cy="18" r="6" fill="#FF6B6B"/>
    <text x="190" y="22" font-family="system-ui, sans-serif" font-size="8" fill="#94a3b8">Database</text>
    <circle cx="260" cy="18" r="6" fill="#9333EA"/>
    <text x="275" y="22" font-family="system-ui, sans-serif" font-size="8" fill="#94a3b8">PaaS</text>
  </g>
</svg>
