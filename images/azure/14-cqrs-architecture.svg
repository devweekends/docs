<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 400">
    <!-- Background -->
    <rect width="800" height="400" fill="#FFFFFF" />
    <rect width="800" height="400" fill="none" stroke="#0078D4" stroke-width="4"/>
    
    <!-- Header -->
    <rect width="800" height="60" fill="#0078D4" />
    <text x="400" y="40" font-family="Segoe UI, sans-serif" font-size="24" font-weight="bold" fill="white" text-anchor="middle">CQRS: Separate Read & Write Models</text>
    
    <!-- Content -->
    
    <g transform="translate(50, 80)">
        <!-- Client -->
        <rect x="0" y="80" width="100" height="60" rx="5" fill="#F3F2F1" stroke="#505050"/>
        <text x="50" y="115" font-family="Segoe UI" font-size="14" text-anchor="middle">Client</text>
        
        <!-- Commands (Write) -->
        <rect x="200" y="20" width="150" height="80" rx="5" fill="#E0F2FF" stroke="#0078D4"/>
        <text x="275" y="50" font-family="Segoe UI" font-size="14" font-weight="bold" fill="#0078D4" text-anchor="middle">Write API</text>
        <text x="275" y="70" font-family="Segoe UI" font-size="11" text-anchor="middle">(Commands)</text>
        
        <!-- Queries (Read) -->
        <rect x="200" y="140" width="150" height="80" rx="5" fill="#4CAF50" opacity="0.2" stroke="#4CAF50"/>
        <text x="275" y="170" font-family="Segoe UI" font-size="14" font-weight="bold" fill="#4CAF50" text-anchor="middle">Read API</text>
        <text x="275" y="190" font-family="Segoe UI" font-size="11" text-anchor="middle">(Queries)</text>
        
        <!-- Write DB -->
        <rect x="450" y="20" width="120" height="80" rx="5" fill="white" stroke="#0078D4" stroke-width="2"/>
        <text x="510" y="50" font-family="Segoe UI" font-size="12" font-weight="bold" text-anchor="middle">SQL DB</text>
        <text x="510" y="70" font-family="Segoe UI" font-size="10" text-anchor="middle">(Normalized)</text>
        
        <!-- Read DB -->
        <rect x="450" y="140" width="120" height="80" rx="5" fill="white" stroke="#4CAF50" stroke-width="2"/>
        <text x="510" y="170" font-family="Segoe UI" font-size="12" font-weight="bold" text-anchor="middle">Cosmos DB</text>
        <text x="510" y="190" font-family="Segoe UI" font-size="10" text-anchor="middle">(Denormalized)</text>
        
        <!-- Event Bus -->
        <rect x="600" y="80" width="120" height="60" rx="5" fill="#FF9800" opacity="0.3" stroke="#FF9800"/>
        <text x="660" y="115" font-family="Segoe UI" font-size="12" font-weight="bold" text-anchor="middle">Event Bus</text>
        
        <!-- Arrows -->
        <path d="M 100 110 L 200 60" stroke="#0078D4" stroke-width="2" fill="none" marker-end="url(#arrow)"/>
        <path d="M 100 110 L 200 180" stroke="#4CAF50" stroke-width="2" fill="none" marker-end="url(#arrow)"/>
        <path d="M 350 60 L 450 60" stroke="#0078D4" stroke-width="2" fill="none" marker-end="url(#arrow)"/>
        <path d="M 350 180 L 450 180" stroke="#4CAF50" stroke-width="2" fill="none" marker-end="url(#arrow)"/>
        <path d="M 570 60 L 600 110" stroke="#FF9800" stroke-width="2" fill="none" marker-end="url(#arrow)" stroke-dasharray="4"/>
        <path d="M 660 140 L 570 180" stroke="#FF9800" stroke-width="2" fill="none" marker-end="url(#arrow)" stroke-dasharray="4"/>
        
        <!-- Arrow marker -->
        <defs>
            <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
                <path d="M0,0 L0,6 L9,3 z" fill="#505050" />
            </marker>
        </defs>
    </g>

    </svg>