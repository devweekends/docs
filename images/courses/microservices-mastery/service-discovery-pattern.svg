<svg width="1080" height="1080" viewBox="0 0 1080 1080" fill="none" xmlns="http://www.w3.org/2000/svg">
  <rect width="1080" height="1080" fill="#18181B"/>
  
  <text x="60" y="80" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="#FAFAFA" letter-spacing="3">DEV WEEKENDS</text>
  
  <rect x="60" y="140" width="280" height="40" fill="#8B5CF6"/>
  <text x="200" y="168" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#FAFAFA" text-anchor="middle" letter-spacing="2">MICROSERVICES MASTERY</text>
  
  <text x="60" y="280" font-family="system-ui, sans-serif" font-size="48" font-weight="700" fill="#FAFAFA">Service Discovery</text>
  <text x="60" y="340" font-family="system-ui, sans-serif" font-size="48" font-weight="700" fill="#8B5CF6">Pattern</text>
  
  <text x="60" y="400" font-family="system-ui, sans-serif" font-size="18" fill="#A1A1AA">How services find and communicate with each other</text>
  
  <!-- Main Diagram -->
  <rect x="60" y="440" width="960" height="400" fill="#27272A" rx="8"/>
  
  <!-- Service Registry -->
  <rect x="380" y="470" width="320" height="100" fill="#8B5CF6" rx="8"/>
  <text x="540" y="510" font-family="system-ui, sans-serif" font-size="18" font-weight="700" fill="#FAFAFA" text-anchor="middle">Service Registry</text>
  <text x="540" y="535" font-family="system-ui, sans-serif" font-size="12" fill="#E9D5FF" text-anchor="middle">Consul | Eureka | etcd | Kubernetes DNS</text>
  <text x="540" y="555" font-family="system-ui, sans-serif" font-size="10" fill="#C4B5FD" text-anchor="middle">service-a: [10.0.1.5:8080, 10.0.1.6:8080]</text>
  
  <!-- Client Service -->
  <rect x="100" y="650" width="180" height="100" fill="#3B82F6" rx="6"/>
  <text x="190" y="695" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="#FAFAFA" text-anchor="middle">Client Service</text>
  <text x="190" y="720" font-family="system-ui, sans-serif" font-size="10" fill="#93C5FD" text-anchor="middle">Needs Service A</text>
  
  <!-- Target Services -->
  <rect x="400" y="650" width="130" height="80" fill="#22C55E" rx="6"/>
  <text x="465" y="690" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#FAFAFA" text-anchor="middle">Service A</text>
  <text x="465" y="710" font-family="system-ui, sans-serif" font-size="9" fill="#BBF7D0" text-anchor="middle">10.0.1.5:8080</text>
  
  <rect x="550" y="650" width="130" height="80" fill="#22C55E" rx="6"/>
  <text x="615" y="690" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#FAFAFA" text-anchor="middle">Service A</text>
  <text x="615" y="710" font-family="system-ui, sans-serif" font-size="9" fill="#BBF7D0" text-anchor="middle">10.0.1.6:8080</text>
  
  <rect x="700" y="650" width="130" height="80" fill="#22C55E" rx="6"/>
  <text x="765" y="690" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#FAFAFA" text-anchor="middle">Service A</text>
  <text x="765" y="710" font-family="system-ui, sans-serif" font-size="9" fill="#BBF7D0" text-anchor="middle">10.0.1.7:8080</text>
  
  <!-- Registration arrows -->
  <path d="M 465 650 L 465 580 L 450 570" stroke="#22C55E" stroke-width="2" fill="none" marker-end="url(#arrow-green)"/>
  <path d="M 615 650 L 615 580 L 540 570" stroke="#22C55E" stroke-width="2" fill="none" marker-end="url(#arrow-green)"/>
  <path d="M 765 650 L 765 580 L 630 570" stroke="#22C55E" stroke-width="2" fill="none" marker-end="url(#arrow-green)"/>
  
  <text x="870" y="620" font-family="system-ui, sans-serif" font-size="10" fill="#22C55E">Register</text>
  
  <!-- Discovery flow -->
  <path d="M 230 670 L 380 520" stroke="#F59E0B" stroke-width="2" fill="none" marker-end="url(#arrow-orange)"/>
  <text x="280" y="580" font-family="system-ui, sans-serif" font-size="10" fill="#F59E0B">1. Query</text>
  
  <path d="M 380 540 L 250 680" stroke="#0EA5E9" stroke-width="2" fill="none" marker-end="url(#arrow-blue)"/>
  <text x="340" y="640" font-family="system-ui, sans-serif" font-size="10" fill="#0EA5E9">2. Return IPs</text>
  
  <path d="M 280 700 L 400 700" stroke="#FAFAFA" stroke-width="2" fill="none" marker-end="url(#arrow-white)"/>
  <text x="340" y="720" font-family="system-ui, sans-serif" font-size="10" fill="#FAFAFA">3. Call</text>
  
  <!-- Health Check -->
  <rect x="870" y="470" width="120" height="60" fill="#EF4444" rx="4"/>
  <text x="930" y="500" font-family="system-ui, sans-serif" font-size="11" font-weight="600" fill="#FAFAFA" text-anchor="middle">Health Check</text>
  <text x="930" y="520" font-family="system-ui, sans-serif" font-size="9" fill="#FCA5A5" text-anchor="middle">Every 10s</text>
  
  <line x1="700" y1="520" x2="870" y2="505" stroke="#EF4444" stroke-width="2" stroke-dasharray="5,5"/>
  
  <!-- Pattern Types -->
  <rect x="60" y="860" width="470" height="100" fill="#27272A" rx="8"/>
  <text x="295" y="890" font-family="system-ui, sans-serif" font-size="16" font-weight="700" fill="#3B82F6" text-anchor="middle">Client-Side Discovery</text>
  <text x="295" y="920" font-family="system-ui, sans-serif" font-size="11" fill="#A1A1AA" text-anchor="middle">Client queries registry, picks instance</text>
  <text x="295" y="945" font-family="system-ui, sans-serif" font-size="10" fill="#52525B" text-anchor="middle">Netflix Ribbon, Spring Cloud LoadBalancer</text>
  
  <rect x="550" y="860" width="470" height="100" fill="#27272A" rx="8"/>
  <text x="785" y="890" font-family="system-ui, sans-serif" font-size="16" font-weight="700" fill="#F59E0B" text-anchor="middle">Server-Side Discovery</text>
  <text x="785" y="920" font-family="system-ui, sans-serif" font-size="11" fill="#A1A1AA" text-anchor="middle">Load balancer queries registry, routes request</text>
  <text x="785" y="945" font-family="system-ui, sans-serif" font-size="10" fill="#52525B" text-anchor="middle">AWS ELB, Kubernetes Service, NGINX</text>
  
  <!-- Key Insight -->
  <rect x="60" y="980" width="960" height="40" fill="#27272A" rx="8"/>
  <text x="540" y="1007" font-family="system-ui, sans-serif" font-size="14" fill="#A1A1AA" text-anchor="middle">Service Discovery = <tspan fill="#22C55E">Register</tspan> on startup + <tspan fill="#F59E0B">Query</tspan> before calling + <tspan fill="#EF4444">Health checks</tspan> for stale entries</text>
  
  <text x="540" y="1060" font-family="system-ui, sans-serif" font-size="14" fill="#52525B" text-anchor="middle">@devweekends</text>
  
  <defs>
    <marker id="arrow-green" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#22C55E"/>
    </marker>
    <marker id="arrow-orange" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#F59E0B"/>
    </marker>
    <marker id="arrow-blue" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#0EA5E9"/>
    </marker>
    <marker id="arrow-white" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#FAFAFA"/>
    </marker>
  </defs>
</svg>
