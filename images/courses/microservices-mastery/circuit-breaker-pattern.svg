<svg width="1080" height="1080" viewBox="0 0 1080 1080" fill="none" xmlns="http://www.w3.org/2000/svg">
  <rect width="1080" height="1080" fill="#18181B"/>
  
  <text x="60" y="80" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="#FAFAFA" letter-spacing="3">DEV WEEKENDS</text>
  
  <rect x="60" y="140" width="280" height="40" fill="#8B5CF6"/>
  <text x="200" y="168" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#FAFAFA" text-anchor="middle" letter-spacing="2">MICROSERVICES MASTERY</text>
  
  <text x="60" y="280" font-family="system-ui, sans-serif" font-size="48" font-weight="700" fill="#FAFAFA">Circuit Breaker</text>
  <text x="60" y="340" font-family="system-ui, sans-serif" font-size="48" font-weight="700" fill="#8B5CF6">Pattern</text>
  
  <text x="60" y="400" font-family="system-ui, sans-serif" font-size="18" fill="#A1A1AA">Prevent cascade failures in distributed systems</text>
  
  <!-- State Machine Diagram -->
  <rect x="60" y="440" width="960" height="380" fill="#27272A" rx="8"/>
  <text x="540" y="480" font-family="system-ui, sans-serif" font-size="18" font-weight="700" fill="#FAFAFA" text-anchor="middle">Circuit Breaker State Machine</text>
  
  <!-- CLOSED State -->
  <circle cx="200" cy="620" r="80" fill="#22C55E"/>
  <text x="200" y="610" font-family="system-ui, sans-serif" font-size="18" font-weight="700" fill="#FAFAFA" text-anchor="middle">CLOSED</text>
  <text x="200" y="635" font-family="system-ui, sans-serif" font-size="12" fill="#BBF7D0" text-anchor="middle">Requests flow</text>
  <text x="200" y="655" font-family="system-ui, sans-serif" font-size="12" fill="#BBF7D0" text-anchor="middle">normally</text>
  
  <!-- OPEN State -->
  <circle cx="540" cy="620" r="80" fill="#EF4444"/>
  <text x="540" y="610" font-family="system-ui, sans-serif" font-size="18" font-weight="700" fill="#FAFAFA" text-anchor="middle">OPEN</text>
  <text x="540" y="635" font-family="system-ui, sans-serif" font-size="12" fill="#FCA5A5" text-anchor="middle">Fail fast</text>
  <text x="540" y="655" font-family="system-ui, sans-serif" font-size="12" fill="#FCA5A5" text-anchor="middle">immediately</text>
  
  <!-- HALF-OPEN State -->
  <circle cx="880" cy="620" r="80" fill="#F59E0B"/>
  <text x="880" y="610" font-family="system-ui, sans-serif" font-size="18" font-weight="700" fill="#FAFAFA" text-anchor="middle">HALF-OPEN</text>
  <text x="880" y="635" font-family="system-ui, sans-serif" font-size="12" fill="#FDE68A" text-anchor="middle">Test with</text>
  <text x="880" y="655" font-family="system-ui, sans-serif" font-size="12" fill="#FDE68A" text-anchor="middle">limited requests</text>
  
  <!-- Arrows between states -->
  <!-- CLOSED -> OPEN -->
  <path d="M 280 600 Q 370 520 460 600" stroke="#EF4444" stroke-width="3" fill="none" marker-end="url(#arrow-red)"/>
  <text x="370" y="530" font-family="system-ui, sans-serif" font-size="11" fill="#EF4444" text-anchor="middle">Failures exceed</text>
  <text x="370" y="545" font-family="system-ui, sans-serif" font-size="11" fill="#EF4444" text-anchor="middle">threshold</text>
  
  <!-- OPEN -> HALF-OPEN -->
  <path d="M 620 600 Q 710 520 800 600" stroke="#F59E0B" stroke-width="3" fill="none" marker-end="url(#arrow-orange)"/>
  <text x="710" y="530" font-family="system-ui, sans-serif" font-size="11" fill="#F59E0B" text-anchor="middle">Timeout</text>
  <text x="710" y="545" font-family="system-ui, sans-serif" font-size="11" fill="#F59E0B" text-anchor="middle">expires</text>
  
  <!-- HALF-OPEN -> CLOSED -->
  <path d="M 800 680 Q 540 780 280 680" stroke="#22C55E" stroke-width="3" fill="none" marker-end="url(#arrow-green)"/>
  <text x="540" y="780" font-family="system-ui, sans-serif" font-size="11" fill="#22C55E" text-anchor="middle">Success - Reset counter</text>
  
  <!-- HALF-OPEN -> OPEN -->
  <path d="M 840 700 Q 700 760 580 700" stroke="#EF4444" stroke-width="3" fill="none" marker-end="url(#arrow-red2)"/>
  <text x="710" y="750" font-family="system-ui, sans-serif" font-size="10" fill="#EF4444" text-anchor="middle">Failure</text>
  
  <!-- Timeline Example -->
  <rect x="60" y="840" width="960" height="120" fill="#27272A" rx="8"/>
  <text x="540" y="875" font-family="system-ui, sans-serif" font-size="16" font-weight="700" fill="#FAFAFA" text-anchor="middle">Request Flow Timeline</text>
  
  <!-- Timeline bar -->
  <line x1="100" y1="920" x2="980" y2="920" stroke="#52525B" stroke-width="2"/>
  
  <!-- Normal requests -->
  <circle cx="140" cy="920" r="8" fill="#22C55E"/>
  <circle cx="180" cy="920" r="8" fill="#22C55E"/>
  <circle cx="220" cy="920" r="8" fill="#22C55E"/>
  
  <!-- Failures start -->
  <circle cx="280" cy="920" r="8" fill="#EF4444"/>
  <circle cx="320" cy="920" r="8" fill="#EF4444"/>
  <circle cx="360" cy="920" r="8" fill="#EF4444"/>
  
  <!-- Threshold line -->
  <line x1="390" y1="900" x2="390" y2="940" stroke="#F59E0B" stroke-width="2" stroke-dasharray="5,5"/>
  <text x="390" y="895" font-family="system-ui, sans-serif" font-size="10" fill="#F59E0B" text-anchor="middle">Threshold</text>
  
  <!-- Circuit open - fast fail -->
  <circle cx="440" cy="920" r="8" fill="#71717A"/>
  <circle cx="480" cy="920" r="8" fill="#71717A"/>
  <circle cx="520" cy="920" r="8" fill="#71717A"/>
  <circle cx="560" cy="920" r="8" fill="#71717A"/>
  <text x="500" y="950" font-family="system-ui, sans-serif" font-size="9" fill="#71717A" text-anchor="middle">Fast-fail (0ms)</text>
  
  <!-- Timeout expires -->
  <line x1="620" y1="900" x2="620" y2="940" stroke="#F59E0B" stroke-width="2" stroke-dasharray="5,5"/>
  <text x="620" y="895" font-family="system-ui, sans-serif" font-size="10" fill="#F59E0B" text-anchor="middle">Timeout</text>
  
  <!-- Half-open test -->
  <circle cx="680" cy="920" r="8" fill="#F59E0B"/>
  <text x="680" y="950" font-family="system-ui, sans-serif" font-size="9" fill="#F59E0B" text-anchor="middle">Test</text>
  
  <!-- Success - back to closed -->
  <circle cx="760" cy="920" r="8" fill="#22C55E"/>
  <circle cx="800" cy="920" r="8" fill="#22C55E"/>
  <circle cx="840" cy="920" r="8" fill="#22C55E"/>
  <circle cx="880" cy="920" r="8" fill="#22C55E"/>
  <circle cx="920" cy="920" r="8" fill="#22C55E"/>
  <text x="840" y="950" font-family="system-ui, sans-serif" font-size="9" fill="#22C55E" text-anchor="middle">Recovered</text>
  
  <!-- Config Section -->
  <rect x="60" y="980" width="480" height="50" fill="#3F3F46" rx="4"/>
  <text x="300" y="1010" font-family="monospace" font-size="11" fill="#FAFAFA" text-anchor="middle">failureThreshold: 5 | timeout: 30s | halfOpenMax: 3</text>
  
  <!-- Libraries -->
  <rect x="560" y="980" width="460" height="50" fill="#3F3F46" rx="4"/>
  <text x="790" y="1000" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#FAFAFA" text-anchor="middle">Libraries: Netflix Hystrix • Resilience4j • Polly • Opossum</text>
  <text x="790" y="1020" font-family="system-ui, sans-serif" font-size="10" fill="#A1A1AA" text-anchor="middle">Prevents cascading failures across services</text>
  
  <text x="540" y="1060" font-family="system-ui, sans-serif" font-size="14" fill="#52525B" text-anchor="middle">@devweekends</text>
  
  <defs>
    <marker id="arrow-red" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#EF4444"/>
    </marker>
    <marker id="arrow-red2" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#EF4444"/>
    </marker>
    <marker id="arrow-orange" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#F59E0B"/>
    </marker>
    <marker id="arrow-green" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#22C55E"/>
    </marker>
  </defs>
</svg>
