<svg width="1080" height="1080" viewBox="0 0 1080 1080" fill="none" xmlns="http://www.w3.org/2000/svg">
  <rect width="1080" height="1080" fill="#18181B"/>

  <text x="60" y="80" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="#FAFAFA" letter-spacing="3">DEV WEEKENDS</text>

  <rect x="60" y="140" width="240" height="40" fill="#F97316"/>
  <text x="180" y="168" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#FAFAFA" text-anchor="middle" letter-spacing="2">LINUX INTERNALS</text>

  <text x="60" y="280" font-family="system-ui, sans-serif" font-size="52" font-weight="700" fill="#FAFAFA">Control</text>
  <text x="60" y="340" font-family="system-ui, sans-serif" font-size="52" font-weight="700" fill="#F97316">Groups (cgroups)</text>

  <text x="60" y="400" font-family="system-ui, sans-serif" font-size="18" fill="#A1A1AA">Resource isolation and limiting</text>

  <!-- Main diagram area -->
  <rect x="60" y="440" width="960" height="520" fill="#27272A" rx="8"/>

  <!-- Root cgroup -->
  <rect x="420" y="470" width="240" height="60" fill="#7C3AED" rx="8"/>
  <text x="540" y="500" font-family="system-ui, sans-serif" font-size="16" font-weight="700" fill="#FAFAFA" text-anchor="middle">/ (root cgroup)</text>
  <text x="540" y="520" font-family="system-ui, sans-serif" font-size="10" fill="#E9D5FF" text-anchor="middle">All processes start here</text>

  <!-- Child cgroups -->
  <path d="M 540 530 L 300 565" stroke="#10B981" stroke-width="2"/>
  <path d="M 540 530 L 540 565" stroke="#10B981" stroke-width="2"/>
  <path d="M 540 530 L 780 565" stroke="#10B981" stroke-width="2"/>

  <!-- System services cgroup -->
  <rect x="120" y="565" width="220" height="80" fill="#1E40AF" rx="6"/>
  <text x="230" y="590" font-family="system-ui, sans-serif" font-size="13" font-weight="600" fill="#93C5FD" text-anchor="middle">/system.slice</text>
  <text x="230" y="610" font-family="system-ui, sans-serif" font-size="9" fill="#BFDBFE" text-anchor="middle">System services (systemd units)</text>
  <rect x="140" y="620" width="180" height="15" fill="#1E3A8A" rx="2"/>
  <text x="230" y="631" font-family="monospace" font-size="8" fill="#BFDBFE" text-anchor="middle">memory.max=4G</text>

  <!-- User cgroup -->
  <rect x="430" y="565" width="220" height="80" fill="#166534" rx="6"/>
  <text x="540" y="590" font-family="system-ui, sans-serif" font-size="13" font-weight="600" fill="#BBF7D0" text-anchor="middle">/user.slice</text>
  <text x="540" y="610" font-family="system-ui, sans-serif" font-size="9" fill="#BBF7D0" text-anchor="middle">User sessions</text>
  <rect x="450" y="620" width="180" height="15" fill="#14532D" rx="2"/>
  <text x="540" y="631" font-family="monospace" font-size="8" fill="#BBF7D0" text-anchor="middle">cpu.max=80%</text>

  <!-- Docker cgroup -->
  <rect x="740" y="565" width="220" height="80" fill="#9A3412" rx="6"/>
  <text x="850" y="590" font-family="system-ui, sans-serif" font-size="13" font-weight="600" fill="#FED7AA" text-anchor="middle">/docker</text>
  <text x="850" y="610" font-family="system-ui, sans-serif" font-size="9" fill="#FED7AA" text-anchor="middle">Container runtime</text>
  <rect x="760" y="620" width="180" height="15" fill="#7C2D12" rx="2"/>
  <text x="850" y="631" font-family="monospace" font-size="8" fill="#FED7AA" text-anchor="middle">pids.max=512</text>

  <!-- Nested containers -->
  <path d="M 850 645 L 750 690" stroke="#10B981" stroke-width="2"/>
  <path d="M 850 645 L 950 690" stroke="#10B981" stroke-width="2"/>

  <rect x="680" y="690" width="140" height="70" fill="#7C2D12" rx="4"/>
  <text x="750" y="715" font-family="system-ui, sans-serif" font-size="11" font-weight="600" fill="#FED7AA" text-anchor="middle">container_1</text>
  <text x="750" y="735" font-family="monospace" font-size="8" fill="#FCD34D" text-anchor="middle">memory.max=512M</text>
  <text x="750" y="750" font-family="monospace" font-size="8" fill="#FCD34D" text-anchor="middle">cpu.max=50%</text>

  <rect x="840" y="690" width="140" height="70" fill="#7C2D12" rx="4"/>
  <text x="910" y="715" font-family="system-ui, sans-serif" font-size="11" font-weight="600" fill="#FED7AA" text-anchor="middle">container_2</text>
  <text x="910" y="735" font-family="monospace" font-size="8" fill="#FCD34D" text-anchor="middle">memory.max=256M</text>
  <text x="910" y="750" font-family="monospace" font-size="8" fill="#FCD34D" text-anchor="middle">cpu.max=25%</text>

  <!-- Resource Controllers -->
  <text x="100" y="800" font-family="system-ui, sans-serif" font-size="16" font-weight="600" fill="#FAFAFA">Resource Controllers</text>

  <rect x="100" y="815" width="190" height="130" fill="#3F3F46" rx="6"/>
  <text x="195" y="840" font-family="system-ui, sans-serif" font-size="13" font-weight="600" fill="#0EA5E9" text-anchor="middle">Memory</text>
  <circle cx="120" cy="860" r="2" fill="#0EA5E9"/>
  <text x="130" y="863" font-family="system-ui, sans-serif" font-size="9" fill="#E5E5E5">memory.max</text>
  <circle cx="120" cy="875" r="2" fill="#0EA5E9"/>
  <text x="130" y="878" font-family="system-ui, sans-serif" font-size="9" fill="#E5E5E5">memory.high</text>
  <circle cx="120" cy="890" r="2" fill="#0EA5E9"/>
  <text x="130" y="893" font-family="system-ui, sans-serif" font-size="9" fill="#E5E5E5">memory.low</text>
  <circle cx="120" cy="905" r="2" fill="#0EA5E9"/>
  <text x="130" y="908" font-family="system-ui, sans-serif" font-size="9" fill="#E5E5E5">memory.swap.max</text>
  <circle cx="120" cy="920" r="2" fill="#0EA5E9"/>
  <text x="130" y="923" font-family="system-ui, sans-serif" font-size="9" fill="#E5E5E5">OOM kill control</text>

  <rect x="310" y="815" width="190" height="130" fill="#3F3F46" rx="6"/>
  <text x="405" y="840" font-family="system-ui, sans-serif" font-size="13" font-weight="600" fill="#22C55E" text-anchor="middle">CPU</text>
  <circle cx="330" cy="860" r="2" fill="#22C55E"/>
  <text x="340" y="863" font-family="system-ui, sans-serif" font-size="9" fill="#E5E5E5">cpu.max (bandwidth)</text>
  <circle cx="330" cy="875" r="2" fill="#22C55E"/>
  <text x="340" y="878" font-family="system-ui, sans-serif" font-size="9" fill="#E5E5E5">cpu.weight (shares)</text>
  <circle cx="330" cy="890" r="2" fill="#22C55E"/>
  <text x="340" y="893" font-family="system-ui, sans-serif" font-size="9" fill="#E5E5E5">cpuset.cpus</text>
  <circle cx="330" cy="905" r="2" fill="#22C55E"/>
  <text x="340" y="908" font-family="system-ui, sans-serif" font-size="9" fill="#E5E5E5">cpuset.mems</text>

  <rect x="520" y="815" width="190" height="130" fill="#3F3F46" rx="6"/>
  <text x="615" y="840" font-family="system-ui, sans-serif" font-size="13" font-weight="600" fill="#8B5CF6" text-anchor="middle">Block I/O</text>
  <circle cx="540" cy="860" r="2" fill="#8B5CF6"/>
  <text x="550" y="863" font-family="system-ui, sans-serif" font-size="9" fill="#E5E5E5">io.max (IOPS/BW)</text>
  <circle cx="540" cy="875" r="2" fill="#8B5CF6"/>
  <text x="550" y="878" font-family="system-ui, sans-serif" font-size="9" fill="#E5E5E5">io.weight</text>
  <circle cx="540" cy="890" r="2" fill="#8B5CF6"/>
  <text x="550" y="893" font-family="system-ui, sans-serif" font-size="9" fill="#E5E5E5">io.latency</text>
  <circle cx="540" cy="905" r="2" fill="#8B5CF6"/>
  <text x="550" y="908" font-family="system-ui, sans-serif" font-size="9" fill="#E5E5E5">Per-device limits</text>

  <rect x="730" y="815" width="190" height="130" fill="#3F3F46" rx="6"/>
  <text x="825" y="840" font-family="system-ui, sans-serif" font-size="13" font-weight="600" fill="#F59E0B" text-anchor="middle">Others</text>
  <circle cx="750" cy="860" r="2" fill="#F59E0B"/>
  <text x="760" y="863" font-family="system-ui, sans-serif" font-size="9" fill="#E5E5E5">pids.max</text>
  <circle cx="750" cy="875" r="2" fill="#F59E0B"/>
  <text x="760" y="878" font-family="system-ui, sans-serif" font-size="9" fill="#E5E5E5">rdma.max</text>
  <circle cx="750" cy="890" r="2" fill="#F59E0B"/>
  <text x="760" y="893" font-family="system-ui, sans-serif" font-size="9" fill="#E5E5E5">hugetlb.max</text>
  <circle cx="750" cy="905" r="2" fill="#F59E0B"/>
  <text x="760" y="908" font-family="system-ui, sans-serif" font-size="9" fill="#E5E5E5">freezer</text>

  <!-- Key insight -->
  <rect x="60" y="960" width="960" height="60" fill="#27272A" rx="8"/>
  <text x="540" y="985" font-family="system-ui, sans-serif" font-size="14" fill="#A1A1AA" text-anchor="middle">cgroups v2 (unified hierarchy) used by Docker, Kubernetes, systemd â€” essential for <tspan fill="#F97316">resource isolation</tspan></text>
  <text x="540" y="1005" font-family="system-ui, sans-serif" font-size="12" fill="#71717A" text-anchor="middle">View cgroups: ls /sys/fs/cgroup/ | Manage: systemctl set-property service memory.max=1G</text>

  <text x="540" y="1150" font-family="system-ui, sans-serif" font-size="14" fill="#52525B" text-anchor="middle">@devweekends</text>
</svg>
