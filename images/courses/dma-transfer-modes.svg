<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 500">
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#2C3E50" />
    </marker>
  </defs>

  <rect width="800" height="500" fill="#f8f9fa" rx="10" ry="10" />
  <text x="400" y="30" font-family="Arial, sans-serif" font-size="20" font-weight="bold" text-anchor="middle" fill="#2C3E50">DMA Transfer Modes</text>

  <!-- 1. Burst Mode -->
  <g transform="translate(50, 60)">
    <text x="0" y="20" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#2C3E50">1. Burst Mode (Block Transfer)</text>
    <text x="0" y="40" font-family="Arial, sans-serif" font-size="12" fill="#7f8c8d">DMA holds bus until entire block is transferred.</text>

    <!-- Bus Owner Line -->
    <text x="0" y="80" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#2C3E50">Bus Owner:</text>
    
    <!-- Timeline -->
    <rect x="100" y="65" width="50" height="30" fill="#FF6B6B" stroke="#c0392b" />
    <text x="125" y="85" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">CPU</text>
    
    <rect x="150" y="65" width="400" height="30" fill="#F39C12" stroke="#d35400" />
    <text x="350" y="85" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">DMA (Entire Block Transfer)</text>
    
    <rect x="550" y="65" width="50" height="30" fill="#FF6B6B" stroke="#c0392b" />
    <text x="575" y="85" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">CPU</text>

    <!-- Data Bytes -->
    <g transform="translate(150, 105)">
      <text x="200" y="15" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#7f8c8d">Byte 1 | Byte 2 | Byte 3 | ... | Byte N</text>
    </g>
  </g>

  <!-- 2. Cycle Stealing (Single Mode) -->
  <g transform="translate(50, 200)">
    <text x="0" y="20" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#2C3E50">2. Cycle Stealing (Single Mode)</text>
    <text x="0" y="40" font-family="Arial, sans-serif" font-size="12" fill="#7f8c8d">DMA steals one cycle/byte, then returns bus to CPU.</text>

    <!-- Bus Owner Line -->
    <text x="0" y="80" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#2C3E50">Bus Owner:</text>
    
    <!-- Timeline -->
    <g transform="translate(100, 65)">
      <!-- CPU -->
      <rect x="0" y="0" width="40" height="30" fill="#FF6B6B" stroke="#c0392b" />
      <text x="20" y="20" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">CPU</text>
      
      <!-- DMA -->
      <rect x="40" y="0" width="40" height="30" fill="#F39C12" stroke="#d35400" />
      <text x="60" y="20" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">DMA</text>
      
      <!-- CPU -->
      <rect x="80" y="0" width="40" height="30" fill="#FF6B6B" stroke="#c0392b" />
      <text x="100" y="20" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">CPU</text>
      
      <!-- DMA -->
      <rect x="120" y="0" width="40" height="30" fill="#F39C12" stroke="#d35400" />
      <text x="140" y="20" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">DMA</text>
      
      <!-- CPU -->
      <rect x="160" y="0" width="40" height="30" fill="#FF6B6B" stroke="#c0392b" />
      <text x="180" y="20" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">CPU</text>
      
      <!-- DMA -->
      <rect x="200" y="0" width="40" height="30" fill="#F39C12" stroke="#d35400" />
      <text x="220" y="20" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">DMA</text>

      <text x="260" y="20" font-family="Arial, sans-serif" font-size="14" fill="#2C3E50">...</text>
    </g>
    
    <!-- Data Bytes -->
    <g transform="translate(100, 105)">
      <text x="60" y="15" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#7f8c8d">Byte 1</text>
      <text x="140" y="15" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#7f8c8d">Byte 2</text>
      <text x="220" y="15" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#7f8c8d">Byte 3</text>
    </g>
  </g>

  <!-- 3. Demand Mode -->
  <g transform="translate(50, 340)">
    <text x="0" y="20" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#2C3E50">3. Demand Mode</text>
    <text x="0" y="40" font-family="Arial, sans-serif" font-size="12" fill="#7f8c8d">DMA transfers as long as device is ready (DRQ active).</text>

    <!-- Signals -->
    <text x="0" y="80" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#2C3E50">DRQ Signal:</text>
    <polyline points="100,90 150,90 150,70 450,70 450,90 600,90" fill="none" stroke="#27AE60" stroke-width="2" />
    <text x="300" y="65" font-family="Arial, sans-serif" font-size="10" fill="#27AE60" text-anchor="middle">Device Ready</text>

    <!-- Bus Owner -->
    <text x="0" y="120" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#2C3E50">Bus Owner:</text>
    <rect x="100" y="105" width="50" height="30" fill="#FF6B6B" stroke="#c0392b" />
    <text x="125" y="125" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">CPU</text>
    
    <rect x="150" y="105" width="300" height="30" fill="#F39C12" stroke="#d35400" />
    <text x="300" y="125" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">DMA (Transferring)</text>
    
    <rect x="450" y="105" width="50" height="30" fill="#FF6B6B" stroke="#c0392b" />
    <text x="475" y="125" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">CPU</text>

  </g>

</svg>
