<svg width="1080" height="1080" viewBox="0 0 1080 1080" fill="none" xmlns="http://www.w3.org/2000/svg">
  <rect width="1080" height="1080" fill="#18181B"/>
  
  <text x="60" y="80" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="#FAFAFA" letter-spacing="3">DEV WEEKENDS</text>
  
  <rect x="60" y="140" width="220" height="40" fill="#F97316"/>
  <text x="170" y="168" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#FAFAFA" text-anchor="middle" letter-spacing="2">LINUX INTERNALS</text>
  
  <text x="60" y="280" font-family="system-ui, sans-serif" font-size="48" font-weight="700" fill="#FAFAFA">Page Table Walk</text>
  <text x="60" y="340" font-family="system-ui, sans-serif" font-size="48" font-weight="700" fill="#F97316">x86-64 4-Level</text>
  
  <text x="60" y="400" font-family="system-ui, sans-serif" font-size="18" fill="#A1A1AA">Translating virtual addresses to physical addresses</text>
  
  <!-- Main Diagram Area -->
  <rect x="60" y="440" width="960" height="580" fill="#27272A" rx="8"/>
  
  <!-- Virtual Address Breakdown -->
  <rect x="100" y="480" width="880" height="80" fill="#3F3F46" rx="4"/>
  <text x="540" y="470" font-family="system-ui, sans-serif" font-size="14" fill="#A1A1AA" text-anchor="middle">Virtual Address (48 bits)</text>
  
  <g transform="translate(100, 480)">
    <!-- PML4 Index -->
    <rect x="0" y="0" width="140" height="80" fill="#1E3A8A" rx="4"/>
    <text x="70" y="35" font-family="monospace" font-size="14" fill="#93C5FD" text-anchor="middle">PML4</text>
    <text x="70" y="55" font-family="monospace" font-size="12" fill="#BFDBFE" text-anchor="middle">9 bits</text>
    
    <!-- PDP Index -->
    <rect x="150" y="0" width="140" height="80" fill="#14532D" rx="4"/>
    <text x="220" y="35" font-family="monospace" font-size="14" fill="#86EFAC" text-anchor="middle">PDP</text>
    <text x="220" y="55" font-family="monospace" font-size="12" fill="#BBF7D0" text-anchor="middle">9 bits</text>
    
    <!-- PD Index -->
    <rect x="300" y="0" width="140" height="80" fill="#581C87" rx="4"/>
    <text x="370" y="35" font-family="monospace" font-size="14" fill="#D8B4FE" text-anchor="middle">PD</text>
    <text x="370" y="55" font-family="monospace" font-size="12" fill="#E9D5FF" text-anchor="middle">9 bits</text>
    
    <!-- PT Index -->
    <rect x="450" y="0" width="140" height="80" fill="#7C2D12" rx="4"/>
    <text x="520" y="35" font-family="monospace" font-size="14" fill="#FDBA74" text-anchor="middle">PT</text>
    <text x="520" y="55" font-family="monospace" font-size="12" fill="#FED7AA" text-anchor="middle">9 bits</text>
    
    <!-- Offset -->
    <rect x="600" y="0" width="280" height="80" fill="#374151" rx="4"/>
    <text x="740" y="35" font-family="monospace" font-size="14" fill="#D1D5DB" text-anchor="middle">Offset</text>
    <text x="740" y="55" font-family="monospace" font-size="12" fill="#E5E7EB" text-anchor="middle">12 bits (4KB)</text>
  </g>
  
  <!-- CR3 Register -->
  <rect x="100" y="600" width="120" height="60" fill="#F97316" rx="4"/>
  <text x="160" y="635" font-family="monospace" font-size="16" font-weight="700" fill="#FAFAFA" text-anchor="middle">CR3</text>
  
  <!-- Arrows and Tables -->
  
  <!-- Level 4: PML4 -->
  <path d="M 160 660 L 160 700" stroke="#F97316" stroke-width="2" marker-end="url(#arrow)"/>
  <rect x="100" y="700" width="120" height="140" fill="#1E3A8A" rx="4"/>
  <text x="160" y="725" font-family="system-ui, sans-serif" font-size="12" fill="#93C5FD" text-anchor="middle">PML4 Table</text>
  <rect x="110" y="740" width="100" height="20" fill="#3B82F6" fill-opacity="0.3"/>
  <path d="M 170 560 L 170 580 L 170 750" stroke="#93C5FD" stroke-width="2" stroke-dasharray="4,4" fill="none"/>
  
  <!-- Level 3: PDP -->
  <path d="M 220 750 L 250 750 L 250 700" stroke="#FAFAFA" stroke-width="2"/>
  <rect x="250" y="700" width="120" height="140" fill="#14532D" rx="4"/>
  <text x="310" y="725" font-family="system-ui, sans-serif" font-size="12" fill="#86EFAC" text-anchor="middle">PDP Table</text>
  <rect x="260" y="760" width="100" height="20" fill="#22C55E" fill-opacity="0.3"/>
  <path d="M 320 560 L 320 580 L 320 770" stroke="#86EFAC" stroke-width="2" stroke-dasharray="4,4" fill="none"/>
  
  <!-- Level 2: PD -->
  <path d="M 370 770 L 400 770 L 400 700" stroke="#FAFAFA" stroke-width="2"/>
  <rect x="400" y="700" width="120" height="140" fill="#581C87" rx="4"/>
  <text x="460" y="725" font-family="system-ui, sans-serif" font-size="12" fill="#D8B4FE" text-anchor="middle">PD Table</text>
  <rect x="410" y="780" width="100" height="20" fill="#A855F7" fill-opacity="0.3"/>
  <path d="M 470 560 L 470 580 L 470 790" stroke="#D8B4FE" stroke-width="2" stroke-dasharray="4,4" fill="none"/>
  
  <!-- Level 1: PT -->
  <path d="M 520 790 L 550 790 L 550 700" stroke="#FAFAFA" stroke-width="2"/>
  <rect x="550" y="700" width="120" height="140" fill="#7C2D12" rx="4"/>
  <text x="610" y="725" font-family="system-ui, sans-serif" font-size="12" fill="#FDBA74" text-anchor="middle">Page Table</text>
  <rect x="560" y="800" width="100" height="20" fill="#F97316" fill-opacity="0.3"/>
  <path d="M 620 560 L 620 580 L 620 810" stroke="#FDBA74" stroke-width="2" stroke-dasharray="4,4" fill="none"/>
  
  <!-- Physical Page -->
  <path d="M 670 810 L 750 810" stroke="#FAFAFA" stroke-width="2" marker-end="url(#arrow)"/>
  <rect x="750" y="750" width="200" height="200" fill="#374151" rx="4"/>
  <text x="850" y="775" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="#FAFAFA" text-anchor="middle">Physical Page (4KB)</text>
  
  <!-- Final Target -->
  <rect x="760" y="850" width="180" height="20" fill="#10B981" fill-opacity="0.5"/>
  <text x="850" y="865" font-family="monospace" font-size="12" fill="#FAFAFA" text-anchor="middle">Target Data</text>
  
  <path d="M 850 560 L 850 850" stroke="#D1D5DB" stroke-width="2" stroke-dasharray="4,4" fill="none"/>
  
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#FAFAFA" />
    </marker>
  </defs>
  
  <text x="540" y="1050" font-family="system-ui, sans-serif" font-size="14" fill="#52525B" text-anchor="middle">@devweekends</text>
</svg>
