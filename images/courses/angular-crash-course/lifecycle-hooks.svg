<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 500">
  <defs>
    <linearGradient id="bg-grad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#0f172a"/>
      <stop offset="100%" style="stop-color:#1e293b"/>
    </linearGradient>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#DD0031"/>
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="900" height="500" fill="url(#bg-grad)"/>
  
  <!-- Grid -->
  <g stroke="#334155" stroke-width="0.5" opacity="0.2">
    <line x1="0" y1="125" x2="900" y2="125"/>
    <line x1="0" y1="250" x2="900" y2="250"/>
    <line x1="0" y1="375" x2="900" y2="375"/>
  </g>
  
  <!-- Title -->
  <text x="450" y="35" font-family="system-ui, sans-serif" font-size="20" fill="#ffffff" text-anchor="middle" font-weight="bold">Component Lifecycle Hooks</text>
  
  <!-- Lifecycle Flow -->
  <g transform="translate(80, 60)">
    <!-- Constructor -->
    <rect x="0" y="0" width="120" height="50" rx="6" fill="#1e293b" stroke="#DD0031" stroke-width="2"/>
    <text x="60" y="22" font-family="monospace" font-size="10" fill="#DD0031" text-anchor="middle" font-weight="bold">constructor()</text>
    <text x="60" y="38" font-family="system-ui, sans-serif" font-size="8" fill="#64748b" text-anchor="middle">DI happens here</text>
    
    <path d="M 120 25 L 145 25" stroke="#DD0031" stroke-width="2" marker-end="url(#arrowhead)"/>
    
    <!-- ngOnChanges -->
    <rect x="150" y="0" width="120" height="50" rx="6" fill="#1e293b" stroke="#DD0031" stroke-width="2"/>
    <text x="210" y="22" font-family="monospace" font-size="10" fill="#DD0031" text-anchor="middle" font-weight="bold">ngOnChanges</text>
    <text x="210" y="38" font-family="system-ui, sans-serif" font-size="8" fill="#64748b" text-anchor="middle">@Input changes</text>
    
    <path d="M 270 25 L 295 25" stroke="#DD0031" stroke-width="2" marker-end="url(#arrowhead)"/>
    
    <!-- ngOnInit -->
    <rect x="300" y="0" width="120" height="50" rx="6" fill="#DD0031" stroke="#DD0031" stroke-width="2"/>
    <text x="360" y="22" font-family="monospace" font-size="10" fill="#ffffff" text-anchor="middle" font-weight="bold">ngOnInit</text>
    <text x="360" y="38" font-family="system-ui, sans-serif" font-size="8" fill="#ffffff" opacity="0.8" text-anchor="middle">Initialize data</text>
    
    <path d="M 420 25 L 445 25" stroke="#DD0031" stroke-width="2" marker-end="url(#arrowhead)"/>
    
    <!-- ngDoCheck -->
    <rect x="450" y="0" width="120" height="50" rx="6" fill="#1e293b" stroke="#DD0031" stroke-width="2"/>
    <text x="510" y="22" font-family="monospace" font-size="10" fill="#DD0031" text-anchor="middle" font-weight="bold">ngDoCheck</text>
    <text x="510" y="38" font-family="system-ui, sans-serif" font-size="8" fill="#64748b" text-anchor="middle">Custom CD</text>
    
    <path d="M 570 25 L 595 25" stroke="#DD0031" stroke-width="2" marker-end="url(#arrowhead)"/>
    
    <!-- ngAfterContentInit -->
    <rect x="600" y="0" width="140" height="50" rx="6" fill="#1e293b" stroke="#DD0031" stroke-width="2"/>
    <text x="670" y="22" font-family="monospace" font-size="9" fill="#DD0031" text-anchor="middle" font-weight="bold">ngAfterContentInit</text>
    <text x="670" y="38" font-family="system-ui, sans-serif" font-size="8" fill="#64748b" text-anchor="middle">ng-content ready</text>
    
    <!-- Second Row -->
    <path d="M 670 50 L 670 70 L 50 70 L 50 90" stroke="#DD0031" stroke-width="2" marker-end="url(#arrowhead)"/>
    
    <!-- ngAfterContentChecked -->
    <rect x="0" y="95" width="160" height="50" rx="6" fill="#1e293b" stroke="#DD0031" stroke-width="2"/>
    <text x="80" y="117" font-family="monospace" font-size="9" fill="#DD0031" text-anchor="middle" font-weight="bold">ngAfterContentChecked</text>
    <text x="80" y="133" font-family="system-ui, sans-serif" font-size="8" fill="#64748b" text-anchor="middle">After content CD</text>
    
    <path d="M 160 120 L 185 120" stroke="#DD0031" stroke-width="2" marker-end="url(#arrowhead)"/>
    
    <!-- ngAfterViewInit -->
    <rect x="190" y="95" width="140" height="50" rx="6" fill="#DD0031" stroke="#DD0031" stroke-width="2"/>
    <text x="260" y="117" font-family="monospace" font-size="9" fill="#ffffff" text-anchor="middle" font-weight="bold">ngAfterViewInit</text>
    <text x="260" y="133" font-family="system-ui, sans-serif" font-size="8" fill="#ffffff" opacity="0.8" text-anchor="middle">View initialized</text>
    
    <path d="M 330 120 L 355 120" stroke="#DD0031" stroke-width="2" marker-end="url(#arrowhead)"/>
    
    <!-- ngAfterViewChecked -->
    <rect x="360" y="95" width="160" height="50" rx="6" fill="#1e293b" stroke="#DD0031" stroke-width="2"/>
    <text x="440" y="117" font-family="monospace" font-size="9" fill="#DD0031" text-anchor="middle" font-weight="bold">ngAfterViewChecked</text>
    <text x="440" y="133" font-family="system-ui, sans-serif" font-size="8" fill="#64748b" text-anchor="middle">After view CD</text>
    
    <path d="M 520 120 L 565 120" stroke="#DD0031" stroke-width="2" marker-end="url(#arrowhead)"/>
    
    <!-- ngOnDestroy -->
    <rect x="570" y="95" width="140" height="50" rx="6" fill="#DD0031" stroke="#DD0031" stroke-width="2"/>
    <text x="640" y="117" font-family="monospace" font-size="10" fill="#ffffff" text-anchor="middle" font-weight="bold">ngOnDestroy</text>
    <text x="640" y="133" font-family="system-ui, sans-serif" font-size="8" fill="#ffffff" opacity="0.8" text-anchor="middle">Cleanup!</text>
  </g>
  
  <!-- Common Use Cases -->
  <g transform="translate(50, 250)">
    <text x="0" y="0" font-family="system-ui, sans-serif" font-size="14" fill="#DD0031" font-weight="bold">Common Use Cases</text>
    
    <!-- ngOnInit box -->
    <rect x="0" y="15" width="260" height="100" rx="8" fill="#0f172a" stroke="#DD0031" stroke-width="1"/>
    <rect x="0" y="15" width="260" height="25" rx="8" fill="#DD0031" opacity="0.3"/>
    <text x="130" y="33" font-family="monospace" font-size="10" fill="#DD0031" text-anchor="middle" font-weight="bold">ngOnInit()</text>
    
    <text x="15" y="55" font-family="system-ui, sans-serif" font-size="9" fill="#94a3b8">• Fetch initial data from API</text>
    <text x="15" y="70" font-family="system-ui, sans-serif" font-size="9" fill="#94a3b8">• Set up subscriptions</text>
    <text x="15" y="85" font-family="system-ui, sans-serif" font-size="9" fill="#94a3b8">• Initialize component state</text>
    <text x="15" y="100" font-family="system-ui, sans-serif" font-size="9" fill="#94a3b8">• Access @Input values (ready here)</text>
    
    <!-- ngOnChanges box -->
    <rect x="280" y="15" width="260" height="100" rx="8" fill="#0f172a" stroke="#DD0031" stroke-width="1"/>
    <rect x="280" y="15" width="260" height="25" rx="8" fill="#DD0031" opacity="0.3"/>
    <text x="410" y="33" font-family="monospace" font-size="10" fill="#DD0031" text-anchor="middle" font-weight="bold">ngOnChanges(changes)</text>
    
    <text x="295" y="55" font-family="system-ui, sans-serif" font-size="9" fill="#94a3b8">• React to @Input changes</text>
    <text x="295" y="70" font-family="system-ui, sans-serif" font-size="9" fill="#94a3b8">• Compare previous/current values</text>
    <text x="295" y="85" font-family="system-ui, sans-serif" font-size="9" fill="#94a3b8">• Trigger re-fetches based on input</text>
    <text x="295" y="100" font-family="system-ui, sans-serif" font-size="9" fill="#94a3b8">• First call before ngOnInit</text>
    
    <!-- ngOnDestroy box -->
    <rect x="560" y="15" width="260" height="100" rx="8" fill="#0f172a" stroke="#DD0031" stroke-width="1"/>
    <rect x="560" y="15" width="260" height="25" rx="8" fill="#DD0031" opacity="0.3"/>
    <text x="690" y="33" font-family="monospace" font-size="10" fill="#DD0031" text-anchor="middle" font-weight="bold">ngOnDestroy()</text>
    
    <text x="575" y="55" font-family="system-ui, sans-serif" font-size="9" fill="#94a3b8">• Unsubscribe from observables</text>
    <text x="575" y="70" font-family="system-ui, sans-serif" font-size="9" fill="#94a3b8">• Clear intervals/timeouts</text>
    <text x="575" y="85" font-family="system-ui, sans-serif" font-size="9" fill="#94a3b8">• Disconnect from WebSocket</text>
    <text x="575" y="100" font-family="system-ui, sans-serif" font-size="9" fill="#94a3b8">• Prevent memory leaks!</text>
  </g>
  
  <!-- Code Example -->
  <g transform="translate(50, 390)">
    <rect x="0" y="0" width="800" height="90" rx="8" fill="#0f172a" stroke="#DD0031" stroke-width="1"/>
    <rect x="0" y="0" width="800" height="25" rx="8" fill="#DD0031" opacity="0.2"/>
    <text x="400" y="17" font-family="system-ui, sans-serif" font-size="11" fill="#DD0031" text-anchor="middle" font-weight="bold">Implementation Example</text>
    
    <text x="15" y="45" font-family="monospace" font-size="9" fill="#94a3b8">
      <tspan fill="#c084fc">export class</tspan><tspan fill="#fbbf24"> UserComponent </tspan><tspan fill="#c084fc">implements</tspan><tspan fill="#4ade80"> OnInit</tspan><tspan>,</tspan><tspan fill="#4ade80"> OnDestroy </tspan><tspan>{</tspan>
    </text>
    <text x="15" y="60" font-family="monospace" font-size="9" fill="#94a3b8">
      <tspan x="25" dy="0" fill="#c084fc">private</tspan><tspan> destroy$ = </tspan><tspan fill="#c084fc">new</tspan><tspan fill="#fbbf24"> Subject</tspan><tspan>&lt;</tspan><tspan fill="#c084fc">void</tspan><tspan>&gt;();</tspan>
    </text>
    <text x="15" y="75" font-family="monospace" font-size="9" fill="#94a3b8">
      <tspan x="25" dy="0" fill="#fbbf24">ngOnInit</tspan><tspan>() { </tspan><tspan fill="#c084fc">this</tspan><tspan>.dataService.getData().pipe(</tspan><tspan fill="#fbbf24">takeUntil</tspan><tspan>(</tspan><tspan fill="#c084fc">this</tspan><tspan>.destroy$)).subscribe(); }</tspan>
    </text>
    <text x="15" y="90" font-family="monospace" font-size="9" fill="#94a3b8">
      <tspan x="25" dy="0" fill="#fbbf24">ngOnDestroy</tspan><tspan>() { </tspan><tspan fill="#c084fc">this</tspan><tspan>.destroy$.next(); </tspan><tspan fill="#c084fc">this</tspan><tspan>.destroy$.complete(); } }</tspan>
    </text>
  </g>
</svg>