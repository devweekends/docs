<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 500">
  <defs>
    <linearGradient id="bg-grad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#0f172a"/>
      <stop offset="100%" style="stop-color:#1e293b"/>
    </linearGradient>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#DD0031"/>
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="900" height="500" fill="url(#bg-grad)"/>
  
  <!-- Grid -->
  <g stroke="#334155" stroke-width="0.5" opacity="0.2">
    <line x1="0" y1="125" x2="900" y2="125"/>
    <line x1="0" y1="250" x2="900" y2="250"/>
    <line x1="0" y1="375" x2="900" y2="375"/>
  </g>
  
  <!-- Title -->
  <text x="450" y="35" font-family="system-ui, sans-serif" font-size="20" fill="#ffffff" text-anchor="middle" font-weight="bold">RxJS in Angular - Observable Patterns</text>
  
  <!-- Observable Stream Visualization -->
  <g transform="translate(50, 55)">
    <!-- Timeline -->
    <line x1="50" y1="50" x2="750" y2="50" stroke="#DD0031" stroke-width="2"/>
    <text x="780" y="55" font-family="system-ui, sans-serif" font-size="12" fill="#DD0031">time â†’</text>
    
    <!-- Source Stream -->
    <text x="20" y="55" font-family="system-ui, sans-serif" font-size="10" fill="#94a3b8">Source</text>
    <circle cx="100" cy="50" r="15" fill="#DD0031" opacity="0.8"/>
    <text x="100" y="55" font-family="system-ui, sans-serif" font-size="10" fill="#ffffff" text-anchor="middle">1</text>
    <circle cx="200" cy="50" r="15" fill="#DD0031" opacity="0.8"/>
    <text x="200" y="55" font-family="system-ui, sans-serif" font-size="10" fill="#ffffff" text-anchor="middle">2</text>
    <circle cx="300" cy="50" r="15" fill="#DD0031" opacity="0.8"/>
    <text x="300" y="55" font-family="system-ui, sans-serif" font-size="10" fill="#ffffff" text-anchor="middle">3</text>
    <circle cx="450" cy="50" r="15" fill="#DD0031" opacity="0.8"/>
    <text x="450" y="55" font-family="system-ui, sans-serif" font-size="10" fill="#ffffff" text-anchor="middle">4</text>
    <circle cx="600" cy="50" r="15" fill="#DD0031" opacity="0.8"/>
    <text x="600" y="55" font-family="system-ui, sans-serif" font-size="10" fill="#ffffff" text-anchor="middle">5</text>
    
    <!-- Operator Box -->
    <rect x="250" y="90" width="300" height="40" rx="6" fill="#1e293b" stroke="#DD0031" stroke-width="1"/>
    <text x="400" y="115" font-family="monospace" font-size="11" fill="#DD0031" text-anchor="middle">.pipe(map(x =&gt; x * 2), filter(x =&gt; x &gt; 4))</text>
    
    <!-- Output Stream -->
    <line x1="50" y1="160" x2="750" y2="160" stroke="#4ade80" stroke-width="2"/>
    <text x="20" y="165" font-family="system-ui, sans-serif" font-size="10" fill="#94a3b8">Output</text>
    <circle cx="300" cy="160" r="15" fill="#4ade80" opacity="0.8"/>
    <text x="300" y="165" font-family="system-ui, sans-serif" font-size="10" fill="#0f172a" text-anchor="middle">6</text>
    <circle cx="450" cy="160" r="15" fill="#4ade80" opacity="0.8"/>
    <text x="450" y="165" font-family="system-ui, sans-serif" font-size="10" fill="#0f172a" text-anchor="middle">8</text>
    <circle cx="600" cy="160" r="15" fill="#4ade80" opacity="0.8"/>
    <text x="600" y="165" font-family="system-ui, sans-serif" font-size="10" fill="#0f172a" text-anchor="middle">10</text>
    
    <!-- Arrows -->
    <path d="M 400 75 L 400 90" stroke="#DD0031" stroke-width="1" marker-end="url(#arrowhead)" opacity="0.5"/>
    <path d="M 400 130 L 400 145" stroke="#4ade80" stroke-width="1" marker-end="url(#arrowhead)" opacity="0.5"/>
  </g>
  
  <!-- Common Operators -->
  <g transform="translate(50, 250)">
    <text x="0" y="0" font-family="system-ui, sans-serif" font-size="14" fill="#DD0031" font-weight="bold">Common RxJS Operators</text>
    
    <!-- map -->
    <rect x="0" y="15" width="130" height="60" rx="6" fill="#1e293b" stroke="#DD0031" stroke-width="1"/>
    <text x="65" y="35" font-family="monospace" font-size="11" fill="#DD0031" text-anchor="middle" font-weight="bold">map</text>
    <text x="65" y="55" font-family="system-ui, sans-serif" font-size="9" fill="#94a3b8" text-anchor="middle">Transform each</text>
    <text x="65" y="68" font-family="system-ui, sans-serif" font-size="9" fill="#94a3b8" text-anchor="middle">emitted value</text>
    
    <!-- filter -->
    <rect x="145" y="15" width="130" height="60" rx="6" fill="#1e293b" stroke="#DD0031" stroke-width="1"/>
    <text x="210" y="35" font-family="monospace" font-size="11" fill="#DD0031" text-anchor="middle" font-weight="bold">filter</text>
    <text x="210" y="55" font-family="system-ui, sans-serif" font-size="9" fill="#94a3b8" text-anchor="middle">Only emit values</text>
    <text x="210" y="68" font-family="system-ui, sans-serif" font-size="9" fill="#94a3b8" text-anchor="middle">matching condition</text>
    
    <!-- switchMap -->
    <rect x="290" y="15" width="130" height="60" rx="6" fill="#1e293b" stroke="#DD0031" stroke-width="1"/>
    <text x="355" y="35" font-family="monospace" font-size="11" fill="#DD0031" text-anchor="middle" font-weight="bold">switchMap</text>
    <text x="355" y="55" font-family="system-ui, sans-serif" font-size="9" fill="#94a3b8" text-anchor="middle">Switch to new</text>
    <text x="355" y="68" font-family="system-ui, sans-serif" font-size="9" fill="#94a3b8" text-anchor="middle">observable</text>
    
    <!-- mergeMap -->
    <rect x="435" y="15" width="130" height="60" rx="6" fill="#1e293b" stroke="#DD0031" stroke-width="1"/>
    <text x="500" y="35" font-family="monospace" font-size="11" fill="#DD0031" text-anchor="middle" font-weight="bold">mergeMap</text>
    <text x="500" y="55" font-family="system-ui, sans-serif" font-size="9" fill="#94a3b8" text-anchor="middle">Flatten and merge</text>
    <text x="500" y="68" font-family="system-ui, sans-serif" font-size="9" fill="#94a3b8" text-anchor="middle">all observables</text>
    
    <!-- debounceTime -->
    <rect x="580" y="15" width="130" height="60" rx="6" fill="#1e293b" stroke="#DD0031" stroke-width="1"/>
    <text x="645" y="35" font-family="monospace" font-size="10" fill="#DD0031" text-anchor="middle" font-weight="bold">debounceTime</text>
    <text x="645" y="55" font-family="system-ui, sans-serif" font-size="9" fill="#94a3b8" text-anchor="middle">Wait for pause</text>
    <text x="645" y="68" font-family="system-ui, sans-serif" font-size="9" fill="#94a3b8" text-anchor="middle">before emitting</text>
    
    <!-- takeUntil -->
    <rect x="725" y="15" width="130" height="60" rx="6" fill="#1e293b" stroke="#DD0031" stroke-width="1"/>
    <text x="790" y="35" font-family="monospace" font-size="11" fill="#DD0031" text-anchor="middle" font-weight="bold">takeUntil</text>
    <text x="790" y="55" font-family="system-ui, sans-serif" font-size="9" fill="#94a3b8" text-anchor="middle">Complete when</text>
    <text x="790" y="68" font-family="system-ui, sans-serif" font-size="9" fill="#94a3b8" text-anchor="middle">notifier emits</text>
  </g>
  
  <!-- HttpClient Example -->
  <g transform="translate(50, 355)">
    <rect x="0" y="0" width="400" height="120" rx="8" fill="#0f172a" stroke="#DD0031" stroke-width="1"/>
    <rect x="0" y="0" width="400" height="25" rx="8" fill="#DD0031" opacity="0.2"/>
    <text x="200" y="17" font-family="system-ui, sans-serif" font-size="11" fill="#DD0031" text-anchor="middle" font-weight="bold">HTTP with RxJS</text>
    
    <text x="15" y="45" font-family="monospace" font-size="9" fill="#94a3b8">
      <tspan fill="#c084fc">this</tspan><tspan>.http.get&lt;</tspan><tspan fill="#4ade80">User[]</tspan><tspan>&gt;(</tspan><tspan fill="#a5f3fc">'/api/users'</tspan><tspan>)</tspan>
    </text>
    <text x="15" y="60" font-family="monospace" font-size="9" fill="#94a3b8">
      <tspan x="25" dy="0">.pipe(</tspan>
    </text>
    <text x="15" y="75" font-family="monospace" font-size="9" fill="#94a3b8">
      <tspan x="35" dy="0" fill="#fbbf24">retry</tspan><tspan>(3),</tspan>
    </text>
    <text x="15" y="90" font-family="monospace" font-size="9" fill="#94a3b8">
      <tspan x="35" dy="0" fill="#fbbf24">catchError</tspan><tspan>(err =&gt; </tspan><tspan fill="#fbbf24">of</tspan><tspan>([]))</tspan>
    </text>
    <text x="15" y="105" font-family="monospace" font-size="9" fill="#94a3b8">
      <tspan x="25" dy="0">).subscribe(users =&gt; </tspan><tspan fill="#c084fc">this</tspan><tspan>.users = users);</tspan>
    </text>
  </g>
  
  <!-- Async Pipe Example -->
  <g transform="translate(480, 355)">
    <rect x="0" y="0" width="370" height="120" rx="8" fill="#0f172a" stroke="#DD0031" stroke-width="1"/>
    <rect x="0" y="0" width="370" height="25" rx="8" fill="#DD0031" opacity="0.2"/>
    <text x="185" y="17" font-family="system-ui, sans-serif" font-size="11" fill="#DD0031" text-anchor="middle" font-weight="bold">Async Pipe (Recommended)</text>
    
    <text x="15" y="45" font-family="monospace" font-size="9" fill="#64748b">// Component</text>
    <text x="15" y="60" font-family="monospace" font-size="9" fill="#94a3b8">
      <tspan>users$ = </tspan><tspan fill="#c084fc">this</tspan><tspan>.http.get&lt;</tspan><tspan fill="#4ade80">User[]</tspan><tspan>&gt;(</tspan><tspan fill="#a5f3fc">'/api/users'</tspan><tspan>);</tspan>
    </text>
    
    <text x="15" y="82" font-family="monospace" font-size="9" fill="#64748b">// Template - auto subscribes &amp; unsubscribes!</text>
    <text x="15" y="97" font-family="monospace" font-size="9" fill="#94a3b8">
      <tspan fill="#4ade80">&lt;div</tspan><tspan fill="#a5f3fc"> *ngFor</tspan><tspan>=</tspan><tspan fill="#fbbf24">"let user of users$ | async"</tspan><tspan fill="#4ade80">&gt;</tspan>
    </text>
    <text x="15" y="112" font-family="monospace" font-size="9" fill="#94a3b8">
      <tspan x="25" dy="0" fill="#DD0031">{{ </tspan><tspan>user.name</tspan><tspan fill="#DD0031"> }}</tspan><tspan fill="#4ade80">&lt;/div&gt;</tspan>
    </text>
  </g>
  
  <!-- Legend -->
  <text x="450" y="490" font-family="system-ui, sans-serif" font-size="11" fill="#64748b" text-anchor="middle">RxJS provides powerful stream-based programming for async operations in Angular</text>
</svg>