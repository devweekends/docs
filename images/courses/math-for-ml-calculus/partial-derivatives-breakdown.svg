<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 500">
  <defs>
    <linearGradient id="gradientArrow" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#ef4444;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#fbbf24;stop-opacity:1" />
    </linearGradient>
    <marker id="arrowGrad" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#fbbf24"/>
    </marker>
    <filter id="glow2">
      <feGaussianBlur stdDeviation="2" result="coloredBlur"/>
      <feMerge>
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
  </defs>
  
  <!-- Background -->
  <rect width="900" height="500" fill="#0f172a"/>
  
  <!-- Title -->
  <text x="450" y="35" font-family="system-ui, sans-serif" font-size="22" font-weight="bold" fill="#f8fafc" text-anchor="middle">Partial Derivatives: Breaking Down Multi-Variable Problems</text>
  
  <!-- Left Panel: 3D Surface -->
  <rect x="30" y="60" width="400" height="380" rx="12" fill="#1e293b" stroke="#475569" stroke-width="1"/>
  <text x="230" y="90" font-family="system-ui, sans-serif" font-size="16" fill="#f8fafc" text-anchor="middle" font-weight="bold">The Profit Landscape: f(price, ads)</text>
  
  <!-- 3D Surface Representation -->
  <g transform="translate(80, 150)">
    <!-- Grid lines (perspective) -->
    <g stroke="#475569" stroke-width="0.5" opacity="0.5">
      <line x1="0" y1="180" x2="50" y2="120"/>
      <line x1="60" y1="180" x2="110" y2="120"/>
      <line x1="120" y1="180" x2="170" y2="120"/>
      <line x1="180" y1="180" x2="230" y2="120"/>
      <line x1="240" y1="180" x2="290" y2="120"/>
      
      <line x1="0" y1="180" x2="240" y2="180"/>
      <line x1="20" y1="160" x2="260" y2="160"/>
      <line x1="40" y1="140" x2="280" y2="140"/>
      <line x1="50" y1="120" x2="290" y2="120"/>
    </g>
    
    <!-- Mountain surface -->
    <path d="M 0 180 
             Q 60 170 80 150 
             Q 100 130 120 100 
             Q 150 60 180 80 
             Q 210 100 240 130 
             Q 260 150 290 160" 
          stroke="#3b82f6" stroke-width="3" fill="none" filter="url(#glow2)"/>
    
    <!-- Current position dot -->
    <circle cx="100" cy="120" r="8" fill="#ef4444" stroke="#0f172a" stroke-width="2"/>
    <text x="100" y="105" font-family="system-ui, sans-serif" font-size="10" fill="#ef4444" text-anchor="middle">You are here</text>
    
    <!-- Peak -->
    <circle cx="150" cy="60" r="6" fill="#fbbf24"/>
    <text x="150" y="45" font-family="system-ui, sans-serif" font-size="10" fill="#fbbf24" text-anchor="middle">Peak (max profit)</text>
    
    <!-- Gradient arrow at current position -->
    <line x1="100" y1="120" x2="135" y2="85" stroke="url(#gradientArrow)" stroke-width="3" marker-end="url(#arrowGrad)"/>
    <text x="130" y="115" font-family="system-ui, sans-serif" font-size="10" fill="#fbbf24">∇f (gradient)</text>
  </g>
  
  <!-- Axes labels -->
  <text x="130" y="400" font-family="system-ui, sans-serif" font-size="12" fill="#94a3b8">Price ($)</text>
  <text x="350" y="350" font-family="system-ui, sans-serif" font-size="12" fill="#94a3b8">Ad Spend ($)</text>
  <text x="50" y="200" font-family="system-ui, sans-serif" font-size="12" fill="#94a3b8" transform="rotate(-90, 50, 200)">Profit</text>
  
  <!-- Right Panel: Decomposition -->
  <rect x="460" y="60" width="410" height="380" rx="12" fill="#1e293b" stroke="#475569" stroke-width="1"/>
  <text x="665" y="90" font-family="system-ui, sans-serif" font-size="16" fill="#f8fafc" text-anchor="middle" font-weight="bold">Breaking It Down: Partial Derivatives</text>
  
  <!-- Partial derivative explanation boxes -->
  
  <!-- df/dx box -->
  <rect x="480" y="110" width="180" height="130" rx="8" fill="#0f172a" stroke="#3b82f6" stroke-width="2"/>
  <text x="570" y="135" font-family="system-ui, sans-serif" font-size="13" fill="#3b82f6" text-anchor="middle" font-weight="bold">∂f/∂price</text>
  <text x="570" y="160" font-family="system-ui, sans-serif" font-size="11" fill="#94a3b8" text-anchor="middle">"Hold ads constant"</text>
  <text x="570" y="180" font-family="system-ui, sans-serif" font-size="11" fill="#94a3b8" text-anchor="middle">"How does profit change</text>
  <text x="570" y="195" font-family="system-ui, sans-serif" font-size="11" fill="#94a3b8" text-anchor="middle">with price alone?"</text>
  
  <!-- Small 2D slice graph -->
  <g transform="translate(495, 205)">
    <line x1="0" y1="25" x2="140" y2="25" stroke="#475569" stroke-width="1"/>
    <path d="M 10 20 Q 50 0 70 10 Q 100 25 130 30" stroke="#3b82f6" stroke-width="2" fill="none"/>
    <text x="70" y="40" font-family="system-ui, sans-serif" font-size="9" fill="#64748b" text-anchor="middle">price →</text>
  </g>
  
  <!-- df/dy box -->
  <rect x="680" y="110" width="180" height="130" rx="8" fill="#0f172a" stroke="#22c55e" stroke-width="2"/>
  <text x="770" y="135" font-family="system-ui, sans-serif" font-size="13" fill="#22c55e" text-anchor="middle" font-weight="bold">∂f/∂ads</text>
  <text x="770" y="160" font-family="system-ui, sans-serif" font-size="11" fill="#94a3b8" text-anchor="middle">"Hold price constant"</text>
  <text x="770" y="180" font-family="system-ui, sans-serif" font-size="11" fill="#94a3b8" text-anchor="middle">"How does profit change</text>
  <text x="770" y="195" font-family="system-ui, sans-serif" font-size="11" fill="#94a3b8" text-anchor="middle">with ads alone?"</text>
  
  <!-- Small 2D slice graph -->
  <g transform="translate(695, 205)">
    <line x1="0" y1="25" x2="140" y2="25" stroke="#475569" stroke-width="1"/>
    <path d="M 10 25 Q 40 10 70 5 Q 100 0 130 10" stroke="#22c55e" stroke-width="2" fill="none"/>
    <text x="70" y="40" font-family="system-ui, sans-serif" font-size="9" fill="#64748b" text-anchor="middle">ads →</text>
  </g>
  
  <!-- Combine into gradient -->
  <rect x="530" y="260" width="280" height="80" rx="8" fill="#0f172a" stroke="#fbbf24" stroke-width="2"/>
  <text x="670" y="290" font-family="system-ui, sans-serif" font-size="14" fill="#fbbf24" text-anchor="middle" font-weight="bold">The Gradient: Combine Both!</text>
  <text x="670" y="320" font-family="serif" font-size="18" fill="#f8fafc" text-anchor="middle" font-style="italic">∇f = [∂f/∂price, ∂f/∂ads]</text>
  
  <!-- Arrow down from partial boxes -->
  <path d="M 570 245 L 570 255 L 620 255" stroke="#475569" stroke-width="1" fill="none"/>
  <path d="M 770 245 L 770 255 L 720 255" stroke="#475569" stroke-width="1" fill="none"/>
  <path d="M 620 255 L 670 260 L 720 255" stroke="#475569" stroke-width="1" fill="none"/>
  
  <!-- Interpretation box -->
  <rect x="480" y="360" width="380" height="70" rx="8" fill="#0f172a" stroke="#a855f7" stroke-width="2"/>
  <text x="670" y="385" font-family="system-ui, sans-serif" font-size="12" fill="#a855f7" text-anchor="middle" font-weight="bold">What the Gradient Tells You:</text>
  <text x="670" y="408" font-family="system-ui, sans-serif" font-size="11" fill="#f8fafc" text-anchor="middle">"To maximize profit, increase price by X</text>
  <text x="670" y="423" font-family="system-ui, sans-serif" font-size="11" fill="#f8fafc" text-anchor="middle">AND increase ads by Y — in this exact ratio"</text>
</svg>