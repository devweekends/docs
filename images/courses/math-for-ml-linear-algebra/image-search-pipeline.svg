<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 550">
  <defs>
    <linearGradient id="imageGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#3b82f6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#8b5cf6;stop-opacity:1" />
    </linearGradient>
    <filter id="shadow2" x="-10%" y="-10%" width="120%" height="120%">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-opacity="0.2"/>
    </filter>
    <marker id="arrowFlow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#22c55e"/>
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="900" height="550" fill="#0f172a"/>
  
  <!-- Title -->
  <text x="450" y="40" font-family="system-ui, sans-serif" font-size="22" font-weight="bold" fill="#f8fafc" text-anchor="middle">Image Similarity Search: From Pixels to Vectors</text>
  
  <!-- Step 1: Original Image -->
  <rect x="30" y="70" width="160" height="160" rx="10" fill="#1e293b" stroke="#3b82f6" stroke-width="2" filter="url(#shadow2)"/>
  <text x="110" y="95" font-family="system-ui, sans-serif" font-size="12" fill="#94a3b8" text-anchor="middle">Step 1: Original Image</text>
  
  <!-- Pixel grid representation -->
  <g transform="translate(50, 110)">
    <rect x="0" y="0" width="20" height="20" fill="#ef4444" opacity="0.8"/>
    <rect x="20" y="0" width="20" height="20" fill="#f97316" opacity="0.8"/>
    <rect x="40" y="0" width="20" height="20" fill="#fbbf24" opacity="0.8"/>
    <rect x="60" y="0" width="20" height="20" fill="#22c55e" opacity="0.8"/>
    <rect x="80" y="0" width="20" height="20" fill="#3b82f6" opacity="0.8"/>
    
    <rect x="0" y="20" width="20" height="20" fill="#f97316" opacity="0.6"/>
    <rect x="20" y="20" width="20" height="20" fill="#fbbf24" opacity="0.7"/>
    <rect x="40" y="20" width="20" height="20" fill="#84cc16" opacity="0.8"/>
    <rect x="60" y="20" width="20" height="20" fill="#06b6d4" opacity="0.7"/>
    <rect x="80" y="20" width="20" height="20" fill="#8b5cf6" opacity="0.6"/>
    
    <rect x="0" y="40" width="20" height="20" fill="#fbbf24" opacity="0.5"/>
    <rect x="20" y="40" width="20" height="20" fill="#84cc16" opacity="0.6"/>
    <rect x="40" y="40" width="20" height="20" fill="#22c55e" opacity="0.9"/>
    <rect x="60" y="40" width="20" height="20" fill="#06b6d4" opacity="0.6"/>
    <rect x="80" y="40" width="20" height="20" fill="#a855f7" opacity="0.5"/>
    
    <rect x="0" y="60" width="20" height="20" fill="#84cc16" opacity="0.4"/>
    <rect x="20" y="60" width="20" height="20" fill="#22c55e" opacity="0.5"/>
    <rect x="40" y="60" width="20" height="20" fill="#06b6d4" opacity="0.8"/>
    <rect x="60" y="60" width="20" height="20" fill="#8b5cf6" opacity="0.5"/>
    <rect x="80" y="60" width="20" height="20" fill="#ec4899" opacity="0.4"/>
    
    <rect x="0" y="80" width="20" height="20" fill="#22c55e" opacity="0.3"/>
    <rect x="20" y="80" width="20" height="20" fill="#06b6d4" opacity="0.4"/>
    <rect x="40" y="80" width="20" height="20" fill="#3b82f6" opacity="0.7"/>
    <rect x="60" y="80" width="20" height="20" fill="#a855f7" opacity="0.4"/>
    <rect x="80" y="80" width="20" height="20" fill="#f43f5e" opacity="0.3"/>
  </g>
  
  <text x="110" y="220" font-family="system-ui, sans-serif" font-size="10" fill="#64748b" text-anchor="middle">5√ó5 pixels (simplified)</text>
  
  <!-- Arrow 1 -->
  <path d="M 200 150 L 240 150" stroke="#22c55e" stroke-width="2" marker-end="url(#arrowFlow)"/>
  
  <!-- Step 2: Flatten -->
  <rect x="250" y="70" width="140" height="160" rx="10" fill="#1e293b" stroke="#f97316" stroke-width="2" filter="url(#shadow2)"/>
  <text x="320" y="95" font-family="system-ui, sans-serif" font-size="12" fill="#94a3b8" text-anchor="middle">Step 2: Flatten</text>
  
  <!-- Vertical vector -->
  <g transform="translate(280, 110)">
    <rect x="0" y="0" width="30" height="12" fill="#ef4444" opacity="0.8"/>
    <rect x="0" y="14" width="30" height="12" fill="#f97316" opacity="0.8"/>
    <rect x="0" y="28" width="30" height="12" fill="#fbbf24" opacity="0.8"/>
    <rect x="0" y="42" width="30" height="12" fill="#22c55e" opacity="0.8"/>
    <rect x="0" y="56" width="30" height="12" fill="#3b82f6" opacity="0.8"/>
    <rect x="0" y="70" width="30" height="12" fill="#64748b" opacity="0.4"/>
    <rect x="0" y="84" width="30" height="12" fill="#64748b" opacity="0.3"/>
    
    <text x="50" y="10" font-family="monospace" font-size="9" fill="#f8fafc">0.92</text>
    <text x="50" y="24" font-family="monospace" font-size="9" fill="#f8fafc">0.78</text>
    <text x="50" y="38" font-family="monospace" font-size="9" fill="#f8fafc">0.65</text>
    <text x="50" y="52" font-family="monospace" font-size="9" fill="#f8fafc">0.45</text>
    <text x="50" y="66" font-family="monospace" font-size="9" fill="#f8fafc">0.23</text>
    <text x="50" y="80" font-family="monospace" font-size="9" fill="#64748b">...</text>
    <text x="50" y="94" font-family="monospace" font-size="9" fill="#64748b">0.11</text>
  </g>
  
  <text x="320" y="220" font-family="system-ui, sans-serif" font-size="10" fill="#64748b" text-anchor="middle">25 numbers (5√ó5)</text>
  
  <!-- Arrow 2 -->
  <path d="M 400 150 L 440 150" stroke="#22c55e" stroke-width="2" marker-end="url(#arrowFlow)"/>
  
  <!-- Step 3: Normalize -->
  <rect x="450" y="70" width="140" height="160" rx="10" fill="#1e293b" stroke="#a855f7" stroke-width="2" filter="url(#shadow2)"/>
  <text x="520" y="95" font-family="system-ui, sans-serif" font-size="12" fill="#94a3b8" text-anchor="middle">Step 3: Normalize</text>
  
  <!-- Unit vector visualization -->
  <g transform="translate(470, 115)">
    <circle cx="50" cy="45" r="40" fill="none" stroke="#475569" stroke-width="1" stroke-dasharray="4,2"/>
    <line x1="50" y1="45" x2="85" y2="25" stroke="#a855f7" stroke-width="3"/>
    <circle cx="85" cy="25" r="5" fill="#a855f7"/>
    <text x="90" y="20" font-family="system-ui, sans-serif" font-size="9" fill="#a855f7">||v|| = 1</text>
  </g>
  
  <text x="520" y="205" font-family="monospace" font-size="10" fill="#f8fafc" text-anchor="middle">vÃÇ = v / ||v||</text>
  <text x="520" y="220" font-family="system-ui, sans-serif" font-size="10" fill="#64748b" text-anchor="middle">Unit vector (length 1)</text>
  
  <!-- Arrow 3 -->
  <path d="M 600 150 L 640 150" stroke="#22c55e" stroke-width="2" marker-end="url(#arrowFlow)"/>
  
  <!-- Step 4: Vector Space -->
  <rect x="650" y="70" width="220" height="160" rx="10" fill="#1e293b" stroke="#22c55e" stroke-width="2" filter="url(#shadow2)"/>
  <text x="760" y="95" font-family="system-ui, sans-serif" font-size="12" fill="#94a3b8" text-anchor="middle">Step 4: Vector Space</text>
  
  <!-- Coordinate space with dots -->
  <g transform="translate(675, 110)">
    <line x1="0" y1="100" x2="170" y2="100" stroke="#475569" stroke-width="1"/>
    <line x1="85" y1="0" x2="85" y2="100" stroke="#475569" stroke-width="1"/>
    
    <!-- Clustered similar images -->
    <circle cx="130" cy="30" r="6" fill="#3b82f6"/>
    <circle cx="140" cy="40" r="6" fill="#3b82f6"/>
    <circle cx="125" cy="45" r="6" fill="#3b82f6"/>
    
    <circle cx="40" cy="70" r="6" fill="#ef4444"/>
    <circle cx="50" cy="80" r="6" fill="#ef4444"/>
    <circle cx="35" cy="85" r="6" fill="#ef4444"/>
    
    <circle cx="150" cy="85" r="6" fill="#22c55e"/>
    <circle cx="160" cy="75" r="6" fill="#22c55e"/>
    
    <!-- Query point -->
    <circle cx="135" cy="35" r="8" fill="#fbbf24" stroke="#0f172a" stroke-width="2"/>
    <text x="145" y="32" font-family="system-ui, sans-serif" font-size="9" fill="#fbbf24">Query</text>
  </g>
  <text x="760" y="220" font-family="system-ui, sans-serif" font-size="10" fill="#64748b" text-anchor="middle">Similar images = nearby vectors</text>
  
  <!-- Bottom Section: Similarity Calculation -->
  <rect x="30" y="260" width="840" height="120" rx="12" fill="#1e293b" stroke="#06b6d4" stroke-width="2"/>
  <text x="450" y="290" font-family="system-ui, sans-serif" font-size="16" fill="#f8fafc" text-anchor="middle" font-weight="bold">Cosine Similarity: Measuring How "Alike" Two Images Are</text>
  
  <!-- Formula -->
  <text x="450" y="325" font-family="serif" font-size="18" fill="#06b6d4" text-anchor="middle" font-style="italic">cos(Œ∏) = (A ¬∑ B) / (||A|| √ó ||B||)</text>
  
  <!-- Interpretation -->
  <g transform="translate(100, 340)">
    <rect x="0" y="0" width="180" height="30" rx="5" fill="#22c55e" opacity="0.2"/>
    <text x="90" y="20" font-family="system-ui, sans-serif" font-size="12" fill="#22c55e" text-anchor="middle">cos(Œ∏) = 1 ‚Üí Identical</text>
  </g>
  <g transform="translate(360, 340)">
    <rect x="0" y="0" width="180" height="30" rx="5" fill="#fbbf24" opacity="0.2"/>
    <text x="90" y="20" font-family="system-ui, sans-serif" font-size="12" fill="#fbbf24" text-anchor="middle">cos(Œ∏) = 0 ‚Üí Unrelated</text>
  </g>
  <g transform="translate(620, 340)">
    <rect x="0" y="0" width="180" height="30" rx="5" fill="#ef4444" opacity="0.2"/>
    <text x="90" y="20" font-family="system-ui, sans-serif" font-size="12" fill="#ef4444" text-anchor="middle">cos(Œ∏) = -1 ‚Üí Opposite</text>
  </g>
  
  <!-- Search Results Section -->
  <rect x="30" y="400" width="840" height="130" rx="12" fill="#1e293b" stroke="#f97316" stroke-width="2"/>
  <text x="450" y="430" font-family="system-ui, sans-serif" font-size="16" fill="#f8fafc" text-anchor="middle" font-weight="bold">Finding Similar Images: Top-K Search</text>
  
  <!-- Query Image -->
  <rect x="60" y="450" width="60" height="60" rx="5" fill="#3b82f6"/>
  <text x="90" y="475" font-family="system-ui, sans-serif" font-size="10" fill="#f8fafc" text-anchor="middle">Query</text>
  <text x="90" y="488" font-family="system-ui, sans-serif" font-size="10" fill="#f8fafc" text-anchor="middle">üîç</text>
  
  <!-- Arrow -->
  <path d="M 130 480 L 170 480" stroke="#f97316" stroke-width="2" marker-end="url(#arrowFlow)"/>
  
  <!-- Results -->
  <rect x="190" y="450" width="60" height="60" rx="5" fill="#22c55e"/>
  <text x="220" y="475" font-family="system-ui, sans-serif" font-size="10" fill="#f8fafc" text-anchor="middle">#1</text>
  <text x="220" y="488" font-family="monospace" font-size="9" fill="#f8fafc" text-anchor="middle">0.98</text>
  
  <rect x="270" y="450" width="60" height="60" rx="5" fill="#22c55e" opacity="0.8"/>
  <text x="300" y="475" font-family="system-ui, sans-serif" font-size="10" fill="#f8fafc" text-anchor="middle">#2</text>
  <text x="300" y="488" font-family="monospace" font-size="9" fill="#f8fafc" text-anchor="middle">0.94</text>
  
  <rect x="350" y="450" width="60" height="60" rx="5" fill="#22c55e" opacity="0.6"/>
  <text x="380" y="475" font-family="system-ui, sans-serif" font-size="10" fill="#f8fafc" text-anchor="middle">#3</text>
  <text x="380" y="488" font-family="monospace" font-size="9" fill="#f8fafc" text-anchor="middle">0.89</text>
  
  <rect x="430" y="450" width="60" height="60" rx="5" fill="#fbbf24" opacity="0.5"/>
  <text x="460" y="475" font-family="system-ui, sans-serif" font-size="10" fill="#f8fafc" text-anchor="middle">#4</text>
  <text x="460" y="488" font-family="monospace" font-size="9" fill="#f8fafc" text-anchor="middle">0.76</text>
  
  <rect x="510" y="450" width="60" height="60" rx="5" fill="#fbbf24" opacity="0.3"/>
  <text x="540" y="475" font-family="system-ui, sans-serif" font-size="10" fill="#f8fafc" text-anchor="middle">#5</text>
  <text x="540" y="488" font-family="monospace" font-size="9" fill="#f8fafc" text-anchor="middle">0.71</text>
  
  <!-- Real-world examples -->
  <g transform="translate(620, 450)">
    <text x="0" y="15" font-family="system-ui, sans-serif" font-size="11" fill="#94a3b8">Real Applications:</text>
    <text x="0" y="35" font-family="system-ui, sans-serif" font-size="10" fill="#f97316">‚Ä¢ Pinterest: Visual search</text>
    <text x="0" y="50" font-family="system-ui, sans-serif" font-size="10" fill="#f97316">‚Ä¢ Google: Reverse image search</text>
    <text x="0" y="65" font-family="system-ui, sans-serif" font-size="10" fill="#f97316">‚Ä¢ E-commerce: Similar products</text>
  </g>
</svg>