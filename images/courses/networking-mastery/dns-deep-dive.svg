<svg viewBox="0 0 1080 1080" xmlns="http://www.w3.org/2000/svg">
  <rect width="1080" height="1080" fill="#FAFAFA"/>
  
  <!-- Branding -->
  <text x="60" y="80" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="#18181B" letter-spacing="3">DEV WEEKENDS</text>
  
  <!-- Title -->
  <text x="540" y="140" font-family="system-ui, sans-serif" font-size="36" font-weight="700" fill="#18181B" text-anchor="middle">DNS Deep Dive</text>
  <text x="540" y="175" font-family="system-ui, sans-serif" font-size="18" fill="#71717A" text-anchor="middle">Complete resolution flow: Browser → Root → TLD → Authoritative</text>
  
  <!-- Main Container -->
  <rect x="80" y="210" width="920" height="720" rx="16" fill="#FAFAFA" stroke="#18181B" stroke-width="1"/>
  
  <!-- Client -->
  <rect x="100" y="350" width="120" height="80" rx="8" fill="#18181B"/>
  <text x="160" y="385" font-family="system-ui, sans-serif" font-size="12" fill="#FAFAFA" font-weight="600" text-anchor="middle">Client</text>
  <text x="160" y="405" font-family="monospace" font-size="9" fill="#71717A" text-anchor="middle">192.168.1.50</text>
  
  <!-- Recursive Resolver -->
  <rect x="280" y="300" width="140" height="130" rx="8" fill="#3B82F6"/>
  <text x="350" y="335" font-family="system-ui, sans-serif" font-size="12" fill="#FAFAFA" font-weight="600" text-anchor="middle">Recursive</text>
  <text x="350" y="355" font-family="system-ui, sans-serif" font-size="12" fill="#FAFAFA" font-weight="600" text-anchor="middle">Resolver</text>
  <text x="350" y="380" font-family="monospace" font-size="9" fill="#BFDBFE" text-anchor="middle">8.8.8.8</text>
  <text x="350" y="405" font-family="system-ui, sans-serif" font-size="9" fill="#BFDBFE" text-anchor="middle">(Google DNS)</text>
  
  <!-- Root Server -->
  <rect x="480" y="250" width="130" height="70" rx="8" fill="#EF4444"/>
  <text x="545" y="280" font-family="system-ui, sans-serif" font-size="12" fill="#FAFAFA" font-weight="600" text-anchor="middle">Root Server</text>
  <text x="545" y="300" font-family="monospace" font-size="9" fill="#FEE2E2" text-anchor="middle">. (a-m.root-servers)</text>
  
  <!-- TLD Server -->
  <rect x="660" y="250" width="130" height="70" rx="8" fill="#F59E0B"/>
  <text x="725" y="280" font-family="system-ui, sans-serif" font-size="12" fill="#FAFAFA" font-weight="600" text-anchor="middle">TLD Server</text>
  <text x="725" y="300" font-family="monospace" font-size="9" fill="#FEF3C7" text-anchor="middle">.com nameservers</text>
  
  <!-- Authoritative Server -->
  <rect x="840" y="250" width="130" height="70" rx="8" fill="#22C55E"/>
  <text x="905" y="280" font-family="system-ui, sans-serif" font-size="12" fill="#FAFAFA" font-weight="600" text-anchor="middle">Authoritative</text>
  <text x="905" y="300" font-family="monospace" font-size="9" fill="#BBF7D0" text-anchor="middle">ns1.google.com</text>
  
  <!-- Flow arrows and labels -->
  <!-- Step 1: Client to Resolver -->
  <path d="M220 380 L270 370" stroke="#18181B" stroke-width="2" marker-end="url(#arrowhead)"/>
  <circle cx="245" cy="355" r="12" fill="#A855F7"/>
  <text x="245" y="360" font-family="system-ui, sans-serif" font-size="10" fill="#FAFAFA" text-anchor="middle" font-weight="600">1</text>
  <text x="245" y="345" font-family="system-ui, sans-serif" font-size="8" fill="#71717A" text-anchor="middle">Query google.com</text>
  
  <!-- Step 2: Resolver to Root -->
  <path d="M410 330 L470 295" stroke="#EF4444" stroke-width="2" marker-end="url(#arrowhead)"/>
  <circle cx="440" cy="305" r="12" fill="#A855F7"/>
  <text x="440" y="310" font-family="system-ui, sans-serif" font-size="10" fill="#FAFAFA" text-anchor="middle" font-weight="600">2</text>
  
  <!-- Step 3: Root response -->
  <path d="M470 305 L410 345" stroke="#EF4444" stroke-width="2" stroke-dasharray="4" marker-end="url(#arrowhead)"/>
  <circle cx="445" cy="340" r="12" fill="#A855F7"/>
  <text x="445" y="345" font-family="system-ui, sans-serif" font-size="10" fill="#FAFAFA" text-anchor="middle" font-weight="600">3</text>
  
  <!-- Step 4: Resolver to TLD -->
  <path d="M420 340 L650 285" stroke="#F59E0B" stroke-width="2" marker-end="url(#arrowhead)"/>
  <circle cx="520" cy="350" r="12" fill="#A855F7"/>
  <text x="520" y="355" font-family="system-ui, sans-serif" font-size="10" fill="#FAFAFA" text-anchor="middle" font-weight="600">4</text>
  
  <!-- Step 5: TLD response -->
  <path d="M650 300 L420 365" stroke="#F59E0B" stroke-width="2" stroke-dasharray="4" marker-end="url(#arrowhead)"/>
  <circle cx="550" cy="385" r="12" fill="#A855F7"/>
  <text x="550" y="390" font-family="system-ui, sans-serif" font-size="10" fill="#FAFAFA" text-anchor="middle" font-weight="600">5</text>
  
  <!-- Step 6: Resolver to Auth -->
  <path d="M420 370 L830 285" stroke="#22C55E" stroke-width="2" marker-end="url(#arrowhead)"/>
  <circle cx="620" cy="420" r="12" fill="#A855F7"/>
  <text x="620" y="425" font-family="system-ui, sans-serif" font-size="10" fill="#FAFAFA" text-anchor="middle" font-weight="600">6</text>
  
  <!-- Step 7: Auth response -->
  <path d="M830 310 L420 395" stroke="#22C55E" stroke-width="2" stroke-dasharray="4" marker-end="url(#arrowhead)"/>
  <circle cx="640" cy="450" r="12" fill="#A855F7"/>
  <text x="640" y="455" font-family="system-ui, sans-serif" font-size="10" fill="#FAFAFA" text-anchor="middle" font-weight="600">7</text>
  
  <!-- Step 8: Resolver to Client -->
  <path d="M280 400 L220 400" stroke="#18181B" stroke-width="2" stroke-dasharray="4" marker-end="url(#arrowhead)"/>
  <circle cx="250" cy="420" r="12" fill="#A855F7"/>
  <text x="250" y="425" font-family="system-ui, sans-serif" font-size="10" fill="#FAFAFA" text-anchor="middle" font-weight="600">8</text>
  
  <!-- Arrow marker definition -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#18181B"/>
    </marker>
  </defs>
  
  <!-- Legend / Steps Box -->
  <rect x="100" y="490" width="880" height="220" rx="8" fill="#F4F4F5"/>
  <text x="540" y="520" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="#18181B" text-anchor="middle">DNS Resolution Steps for google.com</text>
  
  <!-- Steps explained -->
  <text x="130" y="560" font-family="system-ui, sans-serif" font-size="11" fill="#18181B">
    <tspan font-weight="600" fill="#A855F7">1.</tspan> Client asks resolver: "What is the IP of google.com?"
  </text>
  <text x="130" y="585" font-family="system-ui, sans-serif" font-size="11" fill="#18181B">
    <tspan font-weight="600" fill="#A855F7">2.</tspan> Resolver asks Root: "Who knows about .com?"
  </text>
  <text x="130" y="610" font-family="system-ui, sans-serif" font-size="11" fill="#18181B">
    <tspan font-weight="600" fill="#A855F7">3.</tspan> Root responds: "Ask the .com TLD servers"
  </text>
  <text x="130" y="635" font-family="system-ui, sans-serif" font-size="11" fill="#18181B">
    <tspan font-weight="600" fill="#A855F7">4.</tspan> Resolver asks .com TLD: "Who knows about google.com?"
  </text>
  
  <text x="550" y="560" font-family="system-ui, sans-serif" font-size="11" fill="#18181B">
    <tspan font-weight="600" fill="#A855F7">5.</tspan> TLD responds: "Ask ns1.google.com"
  </text>
  <text x="550" y="585" font-family="system-ui, sans-serif" font-size="11" fill="#18181B">
    <tspan font-weight="600" fill="#A855F7">6.</tspan> Resolver asks ns1.google.com: "What is google.com's IP?"
  </text>
  <text x="550" y="610" font-family="system-ui, sans-serif" font-size="11" fill="#18181B">
    <tspan font-weight="600" fill="#A855F7">7.</tspan> Authoritative responds: "142.250.185.46 (TTL: 300)"
  </text>
  <text x="550" y="635" font-family="system-ui, sans-serif" font-size="11" fill="#18181B">
    <tspan font-weight="600" fill="#A855F7">8.</tspan> Resolver caches and returns IP to client
  </text>
  
  <!-- Record Types Box -->
  <rect x="100" y="720" width="420" height="180" rx="8" fill="#18181B"/>
  <text x="310" y="755" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="#FAFAFA" text-anchor="middle">Common DNS Record Types</text>
  
  <text x="130" y="790" font-family="monospace" font-size="11" fill="#3B82F6">A</text>
  <text x="180" y="790" font-family="system-ui, sans-serif" font-size="11" fill="#FAFAFA">IPv4 address (142.250.185.46)</text>
  
  <text x="130" y="815" font-family="monospace" font-size="11" fill="#3B82F6">AAAA</text>
  <text x="180" y="815" font-family="system-ui, sans-serif" font-size="11" fill="#FAFAFA">IPv6 address</text>
  
  <text x="130" y="840" font-family="monospace" font-size="11" fill="#22C55E">CNAME</text>
  <text x="200" y="840" font-family="system-ui, sans-serif" font-size="11" fill="#FAFAFA">Alias (www → google.com)</text>
  
  <text x="130" y="865" font-family="monospace" font-size="11" fill="#F59E0B">MX</text>
  <text x="180" y="865" font-family="system-ui, sans-serif" font-size="11" fill="#FAFAFA">Mail server (priority + hostname)</text>
  
  <text x="130" y="890" font-family="monospace" font-size="11" fill="#A855F7">NS</text>
  <text x="180" y="890" font-family="system-ui, sans-serif" font-size="11" fill="#FAFAFA">Nameserver (ns1.google.com)</text>
  
  <!-- Caching Info Box -->
  <rect x="560" y="720" width="420" height="180" rx="8" fill="#F4F4F5" stroke="#18181B" stroke-width="1"/>
  <text x="770" y="755" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="#18181B" text-anchor="middle">DNS Caching (TTL)</text>
  
  <text x="590" y="790" font-family="system-ui, sans-serif" font-size="11" fill="#18181B" font-weight="500">Time To Live (TTL) determines cache duration:</text>
  
  <text x="610" y="820" font-family="system-ui, sans-serif" font-size="11" fill="#71717A">• Browser cache: 30s - 2 min</text>
  <text x="610" y="845" font-family="system-ui, sans-serif" font-size="11" fill="#71717A">• OS resolver cache: varies by record TTL</text>
  <text x="610" y="870" font-family="system-ui, sans-serif" font-size="11" fill="#71717A">• Recursive resolver: varies by record TTL</text>
  
  <text x="590" y="895" font-family="system-ui, sans-serif" font-size="10" fill="#22C55E" font-weight="500">Most lookups hit cache → no round trips needed!</text>
  
  <!-- Footer -->
  <text x="540" y="1040" font-family="system-ui, sans-serif" font-size="14" fill="#71717A" text-anchor="middle">@devweekends</text>
</svg>
