<svg viewBox="0 0 1080 1080" xmlns="http://www.w3.org/2000/svg">
  <rect width="1080" height="1080" fill="#FAFAFA"/>
  
  <!-- Branding -->
  <text x="60" y="80" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="#18181B" letter-spacing="3">DEV WEEKENDS</text>
  
  <!-- Title -->
  <text x="540" y="140" font-family="system-ui, sans-serif" font-size="36" font-weight="700" fill="#18181B" text-anchor="middle">Load Balancer Architecture</text>
  <text x="540" y="175" font-family="system-ui, sans-serif" font-size="18" fill="#71717A" text-anchor="middle">L4 vs L7, algorithms, and health checks</text>
  
  <!-- Main Container -->
  <rect x="80" y="210" width="920" height="720" rx="16" fill="#FAFAFA" stroke="#18181B" stroke-width="1"/>
  
  <!-- Client -->
  <rect x="100" y="360" width="100" height="80" rx="8" fill="#18181B"/>
  <text x="150" y="395" font-family="system-ui, sans-serif" font-size="12" fill="#FAFAFA" font-weight="600" text-anchor="middle">Clients</text>
  <text x="150" y="415" font-family="system-ui, sans-serif" font-size="9" fill="#71717A" text-anchor="middle">1000s of users</text>
  
  <!-- Arrow from client to LB -->
  <path d="M200 400 L310 400" stroke="#18181B" stroke-width="3" marker-end="url(#arrowhead2)"/>
  <text x="255" y="385" font-family="system-ui, sans-serif" font-size="9" fill="#71717A" text-anchor="middle">HTTPS</text>
  
  <!-- Load Balancer -->
  <rect x="320" y="310" width="180" height="180" rx="12" fill="#A855F7"/>
  <text x="410" y="365" font-family="system-ui, sans-serif" font-size="16" fill="#FAFAFA" font-weight="700" text-anchor="middle">Load</text>
  <text x="410" y="390" font-family="system-ui, sans-serif" font-size="16" fill="#FAFAFA" font-weight="700" text-anchor="middle">Balancer</text>
  <text x="410" y="420" font-family="monospace" font-size="10" fill="#E9D5FF" text-anchor="middle">lb.example.com</text>
  <text x="410" y="440" font-family="monospace" font-size="9" fill="#E9D5FF" text-anchor="middle">203.0.113.50</text>
  
  <!-- Health check indicator -->
  <circle cx="480" cy="330" r="8" fill="#22C55E"/>
  <text x="480" y="315" font-family="system-ui, sans-serif" font-size="8" fill="#71717A" text-anchor="middle">healthy</text>
  
  <!-- Arrows to backends -->
  <path d="M500 350 L620 290" stroke="#3B82F6" stroke-width="2" marker-end="url(#arrowhead2)"/>
  <path d="M500 400 L620 400" stroke="#3B82F6" stroke-width="2" marker-end="url(#arrowhead2)"/>
  <path d="M500 450 L620 510" stroke="#3B82F6" stroke-width="2" marker-end="url(#arrowhead2)"/>
  
  <!-- Backend Server 1 -->
  <rect x="630" y="240" width="140" height="90" rx="8" fill="#3B82F6"/>
  <text x="700" y="275" font-family="system-ui, sans-serif" font-size="12" fill="#FAFAFA" font-weight="600" text-anchor="middle">Server 1</text>
  <text x="700" y="295" font-family="monospace" font-size="9" fill="#BFDBFE" text-anchor="middle">10.0.1.10:8080</text>
  <text x="700" y="315" font-family="system-ui, sans-serif" font-size="9" fill="#BFDBFE" text-anchor="middle">Weight: 3</text>
  <circle cx="760" cy="255" r="8" fill="#22C55E"/>
  
  <!-- Backend Server 2 -->
  <rect x="630" y="355" width="140" height="90" rx="8" fill="#3B82F6"/>
  <text x="700" y="390" font-family="system-ui, sans-serif" font-size="12" fill="#FAFAFA" font-weight="600" text-anchor="middle">Server 2</text>
  <text x="700" y="410" font-family="monospace" font-size="9" fill="#BFDBFE" text-anchor="middle">10.0.1.11:8080</text>
  <text x="700" y="430" font-family="system-ui, sans-serif" font-size="9" fill="#BFDBFE" text-anchor="middle">Weight: 2</text>
  <circle cx="760" cy="370" r="8" fill="#22C55E"/>
  
  <!-- Backend Server 3 -->
  <rect x="630" y="470" width="140" height="90" rx="8" fill="#71717A"/>
  <text x="700" y="505" font-family="system-ui, sans-serif" font-size="12" fill="#FAFAFA" font-weight="600" text-anchor="middle">Server 3</text>
  <text x="700" y="525" font-family="monospace" font-size="9" fill="#E4E4E7" text-anchor="middle">10.0.1.12:8080</text>
  <text x="700" y="545" font-family="system-ui, sans-serif" font-size="9" fill="#E4E4E7" text-anchor="middle">Weight: 1</text>
  <circle cx="760" cy="485" r="8" fill="#EF4444"/>
  <text x="820" y="490" font-family="system-ui, sans-serif" font-size="8" fill="#EF4444">unhealthy</text>
  
  <!-- L4 vs L7 Comparison -->
  <rect x="100" y="590" width="400" height="180" rx="8" fill="#18181B"/>
  <text x="300" y="625" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="#FAFAFA" text-anchor="middle">Layer 4 (L4) Load Balancer</text>
  
  <text x="130" y="660" font-family="system-ui, sans-serif" font-size="10" fill="#71717A">• Works at TCP/UDP level</text>
  <text x="130" y="680" font-family="system-ui, sans-serif" font-size="10" fill="#71717A">• Cannot read HTTP headers/body</text>
  <text x="130" y="700" font-family="system-ui, sans-serif" font-size="10" fill="#71717A">• Very fast (just forwards packets)</text>
  <text x="130" y="720" font-family="system-ui, sans-serif" font-size="10" fill="#71717A">• Uses: IP + Port for routing</text>
  <text x="130" y="745" font-family="system-ui, sans-serif" font-size="10" fill="#3B82F6">Example: AWS NLB, HAProxy TCP</text>
  
  <rect x="520" y="590" width="460" height="180" rx="8" fill="#A855F7"/>
  <text x="750" y="625" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="#FAFAFA" text-anchor="middle">Layer 7 (L7) Load Balancer</text>
  
  <text x="550" y="660" font-family="system-ui, sans-serif" font-size="10" fill="#E9D5FF">• Works at HTTP/HTTPS level</text>
  <text x="550" y="680" font-family="system-ui, sans-serif" font-size="10" fill="#E9D5FF">• Can read headers, cookies, URL path</text>
  <text x="550" y="700" font-family="system-ui, sans-serif" font-size="10" fill="#E9D5FF">• Smart routing (path-based, host-based)</text>
  <text x="550" y="720" font-family="system-ui, sans-serif" font-size="10" fill="#E9D5FF">• SSL termination, caching, compression</text>
  <text x="550" y="745" font-family="system-ui, sans-serif" font-size="10" fill="#FAFAFA">Example: AWS ALB, NGINX, Envoy</text>
  
  <!-- Algorithms Box -->
  <rect x="100" y="790" width="880" height="110" rx="8" fill="#F4F4F5"/>
  <text x="540" y="825" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="#18181B" text-anchor="middle">Load Balancing Algorithms</text>
  
  <text x="140" y="860" font-family="monospace" font-size="11" fill="#3B82F6">Round Robin</text>
  <text x="140" y="880" font-family="system-ui, sans-serif" font-size="9" fill="#71717A">1→2→3→1→2→3...</text>
  
  <text x="300" y="860" font-family="monospace" font-size="11" fill="#22C55E">Weighted RR</text>
  <text x="300" y="880" font-family="system-ui, sans-serif" font-size="9" fill="#71717A">More traffic to higher weights</text>
  
  <text x="480" y="860" font-family="monospace" font-size="11" fill="#F59E0B">Least Connections</text>
  <text x="480" y="880" font-family="system-ui, sans-serif" font-size="9" fill="#71717A">Route to least busy server</text>
  
  <text x="680" y="860" font-family="monospace" font-size="11" fill="#EF4444">IP Hash</text>
  <text x="680" y="880" font-family="system-ui, sans-serif" font-size="9" fill="#71717A">Same client → same server</text>
  
  <text x="840" y="860" font-family="monospace" font-size="11" fill="#A855F7">Random</text>
  <text x="840" y="880" font-family="system-ui, sans-serif" font-size="9" fill="#71717A">Random selection</text>
  
  <!-- Arrow marker definition -->
  <defs>
    <marker id="arrowhead2" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#18181B"/>
    </marker>
  </defs>
  
  <!-- Footer -->
  <text x="540" y="1040" font-family="system-ui, sans-serif" font-size="14" fill="#71717A" text-anchor="middle">@devweekends</text>
</svg>
