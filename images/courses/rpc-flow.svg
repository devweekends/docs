<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 400">
  <!-- Background -->
  <rect width="800" height="400" fill="#1e1e1e" />
  
  <!-- Title -->
  <text x="400" y="40" font-family="Arial, sans-serif" font-size="24" fill="#ffffff" text-anchor="middle" font-weight="bold">Remote Procedure Call (RPC) Flow</text>
  
  <!-- Client Side -->
  <g transform="translate(50, 80)">
    <rect x="0" y="0" width="200" height="300" fill="#2d2d2d" stroke="#4CAF50" stroke-width="2" rx="10" />
    <text x="100" y="30" font-family="Arial, sans-serif" font-size="18" fill="#4CAF50" text-anchor="middle" font-weight="bold">Client Machine</text>
    
    <!-- User Program -->
    <rect x="20" y="60" width="160" height="40" fill="#4CAF50" rx="4" />
    <text x="100" y="85" font-family="Arial, sans-serif" font-size="14" fill="#ffffff" text-anchor="middle">User Program</text>
    
    <!-- Client Stub -->
    <rect x="20" y="140" width="160" height="40" fill="#388E3C" rx="4" />
    <text x="100" y="165" font-family="Arial, sans-serif" font-size="14" fill="#ffffff" text-anchor="middle">Client Stub</text>
    
    <!-- OS / Network -->
    <rect x="20" y="220" width="160" height="40" fill="#1B5E20" rx="4" />
    <text x="100" y="245" font-family="Arial, sans-serif" font-size="14" fill="#ffffff" text-anchor="middle">OS / Network</text>
    
    <!-- Arrows -->
    <line x1="100" y1="100" x2="100" y2="140" stroke="#ffffff" stroke-width="2" marker-end="url(#arrow)" />
    <line x1="100" y1="180" x2="100" y2="220" stroke="#ffffff" stroke-width="2" marker-end="url(#arrow)" />
  </g>

  <!-- Server Side -->
  <g transform="translate(550, 80)">
    <rect x="0" y="0" width="200" height="300" fill="#2d2d2d" stroke="#2196F3" stroke-width="2" rx="10" />
    <text x="100" y="30" font-family="Arial, sans-serif" font-size="18" fill="#2196F3" text-anchor="middle" font-weight="bold">Server Machine</text>
    
    <!-- Server Function -->
    <rect x="20" y="60" width="160" height="40" fill="#2196F3" rx="4" />
    <text x="100" y="85" font-family="Arial, sans-serif" font-size="14" fill="#ffffff" text-anchor="middle">Server Function</text>
    
    <!-- Server Stub -->
    <rect x="20" y="140" width="160" height="40" fill="#1976D2" rx="4" />
    <text x="100" y="165" font-family="Arial, sans-serif" font-size="14" fill="#ffffff" text-anchor="middle">Server Stub</text>
    
    <!-- OS / Network -->
    <rect x="20" y="220" width="160" height="40" fill="#0D47A1" rx="4" />
    <text x="100" y="245" font-family="Arial, sans-serif" font-size="14" fill="#ffffff" text-anchor="middle">OS / Network</text>
    
    <!-- Arrows -->
    <line x1="100" y1="140" x2="100" y2="100" stroke="#ffffff" stroke-width="2" marker-end="url(#arrow)" />
    <line x1="100" y1="220" x2="100" y2="180" stroke="#ffffff" stroke-width="2" marker-end="url(#arrow)" />
  </g>

  <!-- Network Cloud -->
  <g transform="translate(300, 280)">
    <ellipse cx="100" cy="50" rx="80" ry="40" fill="#444" />
    <text x="100" y="55" font-family="Arial, sans-serif" font-size="16" fill="#ccc" text-anchor="middle">Network</text>
  </g>

  <!-- Communication Lines -->
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="0" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#ffffff" />
    </marker>
  </defs>
  
  <!-- Request -->
  <path d="M 230 320 Q 300 350 400 350 Q 500 350 570 320" stroke="#FFC107" stroke-width="3" fill="none" marker-end="url(#arrow)" />
  <text x="400" y="370" font-family="Arial, sans-serif" font-size="14" fill="#FFC107" text-anchor="middle">Request (Marshaled Args)</text>
  
  <!-- Response -->
  <path d="M 570 300 Q 500 270 400 270 Q 300 270 230 300" stroke="#00BCD4" stroke-width="3" fill="none" marker-end="url(#arrow)" />
  <text x="400" y="260" font-family="Arial, sans-serif" font-size="14" fill="#00BCD4" text-anchor="middle">Response (Return Value)</text>

</svg>
