<svg width="1080" height="1080" viewBox="0 0 1080 1080" fill="none" xmlns="http://www.w3.org/2000/svg">
  <rect width="1080" height="1080" fill="#18181B"/>
  
  <text x="60" y="80" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="#FAFAFA" letter-spacing="3">DEV WEEKENDS</text>
  
  <rect x="60" y="140" width="220" height="40" fill="#F97316"/>
  <text x="170" y="168" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#FAFAFA" text-anchor="middle" letter-spacing="2">LINUX INTERNALS</text>
  
  <text x="60" y="280" font-family="system-ui, sans-serif" font-size="48" font-weight="700" fill="#FAFAFA">eBPF Program</text>
  <text x="60" y="340" font-family="system-ui, sans-serif" font-size="48" font-weight="700" fill="#F97316">Lifecycle</text>
  
  <text x="60" y="400" font-family="system-ui, sans-serif" font-size="18" fill="#A1A1AA">From source code to kernel execution</text>
  
  <!-- Main diagram -->
  <rect x="60" y="440" width="960" height="560" fill="#27272A" rx="8"/>
  
  <!-- Step 1: Write -->
  <rect x="100" y="480" width="200" height="80" fill="#3B82F6" rx="8"/>
  <text x="200" y="510" font-family="system-ui, sans-serif" font-size="14" font-weight="700" fill="#FAFAFA" text-anchor="middle">1. Write eBPF Code</text>
  <text x="200" y="535" font-family="system-ui, sans-serif" font-size="11" fill="#93C5FD" text-anchor="middle">C or Rust</text>
  <text x="200" y="550" font-family="system-ui, sans-serif" font-size="11" fill="#93C5FD" text-anchor="middle">Restricted subset</text>
  
  <!-- Step 2: Compile -->
  <rect x="340" y="480" width="200" height="80" fill="#A855F7" rx="8"/>
  <text x="440" y="510" font-family="system-ui, sans-serif" font-size="14" font-weight="700" fill="#FAFAFA" text-anchor="middle">2. Compile to BPF</text>
  <text x="440" y="535" font-family="system-ui, sans-serif" font-size="11" fill="#E9D5FF" text-anchor="middle">clang -target bpf</text>
  <text x="440" y="550" font-family="system-ui, sans-serif" font-size="11" fill="#E9D5FF" text-anchor="middle">→ .o file</text>
  
  <!-- Step 3: Load -->
  <rect x="580" y="480" width="200" height="80" fill="#F59E0B" rx="8"/>
  <text x="680" y="510" font-family="system-ui, sans-serif" font-size="14" font-weight="700" fill="#FAFAFA" text-anchor="middle">3. Load to Kernel</text>
  <text x="680" y="535" font-family="system-ui, sans-serif" font-size="11" fill="#FEF3C7" text-anchor="middle">bpf() syscall</text>
  <text x="680" y="550" font-family="system-ui, sans-serif" font-size="11" fill="#FEF3C7" text-anchor="middle">BPF_PROG_LOAD</text>
  
  <!-- Step 4: Verify -->
  <rect x="820" y="480" width="140" height="80" fill="#EF4444" rx="8"/>
  <text x="890" y="505" font-family="system-ui, sans-serif" font-size="13" font-weight="700" fill="#FAFAFA" text-anchor="middle">4. Verifier</text>
  <text x="890" y="528" font-family="system-ui, sans-serif" font-size="10" fill="#FEE2E2" text-anchor="middle">Safety checks:</text>
  <text x="890" y="543" font-family="system-ui, sans-serif" font-size="10" fill="#FEE2E2" text-anchor="middle">• No loops</text>
  <text x="890" y="555" font-family="system-ui, sans-serif" font-size="10" fill="#FEE2E2" text-anchor="middle">• Bounds</text>
  
  <!-- Verification result -->
  <rect x="820" y="590" width="140" height="50" fill="#22C55E" rx="4"/>
  <text x="890" y="620" font-family="system-ui, sans-serif" font-size="12" fill="#FAFAFA" text-anchor="middle">✓ Verified Safe</text>
  
  <!-- Step 5: JIT Compile -->
  <rect x="340" y="670" width="400" height="80" fill="#8B5CF6" rx="8"/>
  <text x="540" y="700" font-family="system-ui, sans-serif" font-size="14" font-weight="700" fill="#FAFAFA" text-anchor="middle">5. JIT Compilation</text>
  <text x="540" y="725" font-family="system-ui, sans-serif" font-size="11" fill="#DDD6FE" text-anchor="middle">BPF bytecode → Native machine code (x86-64, ARM64)</text>
  <text x="540" y="740" font-family="system-ui, sans-serif" font-size="11" fill="#DDD6FE" text-anchor="middle">Near-native performance</text>
  
  <!-- Step 6: Attach -->
  <rect x="100" y="780" width="880" height="80" fill="#22C55E" rx="8"/>
  <text x="540" y="810" font-family="system-ui, sans-serif" font-size="14" font-weight="700" fill="#FAFAFA" text-anchor="middle">6. Attach to Hook Point</text>
  
  <rect x="140" y="830" width="140" height="35" fill="#166534" rx="4"/>
  <text x="210" y="852" font-family="system-ui, sans-serif" font-size="11" fill="#BBF7D0" text-anchor="middle">Tracepoint</text>
  
  <rect x="300" y="830" width="140" height="35" fill="#166534" rx="4"/>
  <text x="370" y="852" font-family="system-ui, sans-serif" font-size="11" fill="#BBF7D0" text-anchor="middle">Kprobe</text>
  
  <rect x="460" y="830" width="140" height="35" fill="#166534" rx="4"/>
  <text x="530" y="852" font-family="system-ui, sans-serif" font-size="11" fill="#BBF7D0" text-anchor="middle">XDP (Network)</text>
  
  <rect x="620" y="830" width="140" height="35" fill="#166534" rx="4"/>
  <text x="690" y="852" font-family="system-ui, sans-serif" font-size="11" fill="#BBF7D0" text-anchor="middle">TC (Traffic Ctrl)</text>
  
  <rect x="780" y="830" width="140" height="35" fill="#166534" rx="4"/>
  <text x="850" y="852" font-family="system-ui, sans-serif" font-size="11" fill="#BBF7D0" text-anchor="middle">Cgroup</text>
  
  <!-- Step 7: Execute -->
  <rect x="340" y="890" width="400" height="80" fill="#F97316" rx="8"/>
  <text x="540" y="920" font-family="system-ui, sans-serif" font-size="14" font-weight="700" fill="#FAFAFA" text-anchor="middle">7. Execute on Events</text>
  <text x="540" y="945" font-family="system-ui, sans-serif" font-size="11" fill="#FED7AA" text-anchor="middle">Runs when hook point is triggered</text>
  <text x="540" y="960" font-family="system-ui, sans-serif" font-size="11" fill="#FED7AA" text-anchor="middle">Access to maps, helper functions, context</text>
  
  <!-- Arrows -->
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <path d="M0,0 L0,6 L9,3 z" fill="#FAFAFA"/>
    </marker>
  </defs>
  
  <path d="M 300 520 L 340 520" stroke="#FAFAFA" stroke-width="2" marker-end="url(#arrow)"/>
  <path d="M 540 520 L 580 520" stroke="#FAFAFA" stroke-width="2" marker-end="url(#arrow)"/>
  <path d="M 780 520 L 820 520" stroke="#FAFAFA" stroke-width="2" marker-end="url(#arrow)"/>
  <path d="M 890 560 L 890 590" stroke="#FAFAFA" stroke-width="2" marker-end="url(#arrow)"/>
  <path d="M 820 615 L 740 615 L 740 670" stroke="#FAFAFA" stroke-width="2" marker-end="url(#arrow)"/>
  <path d="M 540 750 L 540 780" stroke="#FAFAFA" stroke-width="2" marker-end="url(#arrow)"/>
  <path d="M 540 860 L 540 890" stroke="#FAFAFA" stroke-width="2" marker-end="url(#arrow)"/>
  
  <!-- Use cases -->
  <rect x="100" y="480" width="200" height="80" fill="#374151" rx="4" opacity="0"/>
  <text x="100" y="600" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#A1A1AA">Use Cases:</text>
  <text x="100" y="620" font-family="system-ui, sans-serif" font-size="10" fill="#A1A1AA">• Observability (tracing)</text>
  <text x="100" y="635" font-family="system-ui, sans-serif" font-size="10" fill="#A1A1AA">• Security (filtering)</text>
  <text x="100" y="650" font-family="system-ui, sans-serif" font-size="10" fill="#A1A1AA">• Networking (XDP, TC)</text>
  
  <text x="540" y="1060" font-family="system-ui, sans-serif" font-size="14" fill="#52525B" text-anchor="middle">@devweekends</text>
</svg>
