<svg width="1080" height="1080" viewBox="0 0 1080 1080" fill="none" xmlns="http://www.w3.org/2000/svg">
  <rect width="1080" height="1080" fill="#18181B"/>
  
  <text x="60" y="80" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="#FAFAFA" letter-spacing="3">DEV WEEKENDS</text>
  
  <rect x="60" y="140" width="220" height="40" fill="#F97316"/>
  <text x="170" y="168" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#FAFAFA" text-anchor="middle" letter-spacing="2">LINUX INTERNALS</text>
  
  <text x="60" y="280" font-family="system-ui, sans-serif" font-size="48" font-weight="700" fill="#FAFAFA">Process</text>
  <text x="60" y="340" font-family="system-ui, sans-serif" font-size="48" font-weight="700" fill="#F97316">Lifecycle</text>
  
  <text x="60" y="400" font-family="system-ui, sans-serif" font-size="18" fill="#A1A1AA">From creation to termination</text>
  
  <!-- Main diagram area -->
  <rect x="60" y="440" width="960" height="520" fill="#27272A" rx="8"/>
  
  <!-- Creation -->
  <rect x="100" y="480" width="160" height="80" fill="#14532D" rx="8"/>
  <text x="180" y="510" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="#22C55E" text-anchor="middle">CREATED</text>
  <text x="180" y="530" font-family="monospace" font-size="10" fill="#BBF7D0" text-anchor="middle">fork()</text>
  <text x="180" y="545" font-family="system-ui, sans-serif" font-size="9" fill="#71717A" text-anchor="middle">New task_struct</text>
  
  <!-- Arrow to Ready -->
  <path d="M 260 520 L 340 520" stroke="#22C55E" stroke-width="3" fill="none" marker-end="url(#arrow-ready)"/>
  <defs>
    <marker id="arrow-ready" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#22C55E"/>
    </marker>
  </defs>
  
  <!-- Ready -->
  <rect x="340" y="480" width="160" height="80" fill="#1E3A8A" rx="8"/>
  <text x="420" y="510" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="#3B82F6" text-anchor="middle">READY</text>
  <text x="420" y="530" font-family="system-ui, sans-serif" font-size="10" fill="#93C5FD" text-anchor="middle">In run queue</text>
  <text x="420" y="545" font-family="system-ui, sans-serif" font-size="9" fill="#71717A" text-anchor="middle">Waiting for CPU</text>
  
  <!-- Arrow to Running -->
  <path d="M 500 520 L 580 520" stroke="#3B82F6" stroke-width="3" fill="none" marker-end="url(#arrow-running)"/>
  <text x="540" y="510" font-family="system-ui, sans-serif" font-size="9" fill="#3B82F6" text-anchor="middle">scheduler</text>
  <defs>
    <marker id="arrow-running" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#3B82F6"/>
    </marker>
  </defs>
  
  <!-- Running -->
  <rect x="580" y="480" width="160" height="80" fill="#7C2D12" rx="8"/>
  <text x="660" y="510" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="#F97316" text-anchor="middle">RUNNING</text>
  <text x="660" y="530" font-family="system-ui, sans-serif" font-size="10" fill="#FED7AA" text-anchor="middle">Executing on CPU</text>
  <text x="660" y="545" font-family="system-ui, sans-serif" font-size="9" fill="#71717A" text-anchor="middle">Has CPU time</text>
  
  <!-- Arrow back to Ready (preemption) -->
  <path d="M 580 540 Q 540 580 500 540" stroke="#F59E0B" stroke-width="2" stroke-dasharray="4,4" fill="none" marker-end="url(#arrow-preempt)"/>
  <text x="540" y="575" font-family="system-ui, sans-serif" font-size="9" fill="#F59E0B" text-anchor="middle">preempted</text>
  <defs>
    <marker id="arrow-preempt" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#F59E0B"/>
    </marker>
  </defs>
  
  <!-- Waiting/Blocked -->
  <rect x="580" y="620" width="160" height="80" fill="#7F1D1D" rx="8"/>
  <text x="660" y="650" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="#EF4444" text-anchor="middle">WAITING</text>
  <text x="660" y="670" font-family="system-ui, sans-serif" font-size="10" fill="#FCA5A5" text-anchor="middle">Blocked on I/O</text>
  <text x="660" y="685" font-family="system-ui, sans-serif" font-size="9" fill="#71717A" text-anchor="middle">sleep(), wait()</text>
  
  <!-- Arrow Running to Waiting -->
  <path d="M 660 560 L 660 620" stroke="#EF4444" stroke-width="3" fill="none" marker-end="url(#arrow-wait)"/>
  <text x="680" y="595" font-family="system-ui, sans-serif" font-size="9" fill="#EF4444">I/O request</text>
  <defs>
    <marker id="arrow-wait" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#EF4444"/>
    </marker>
  </defs>
  
  <!-- Arrow Waiting to Ready -->
  <path d="M 580 660 Q 480 660 420 560" stroke="#22C55E" stroke-width="3" fill="none" marker-end="url(#arrow-wakeup)"/>
  <text x="480" y="650" font-family="system-ui, sans-serif" font-size="9" fill="#22C55E">I/O complete</text>
  <defs>
    <marker id="arrow-wakeup" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#22C55E"/>
    </marker>
  </defs>
  
  <!-- Zombie -->
  <rect x="820" y="480" width="160" height="80" fill="#581C87" rx="8"/>
  <text x="900" y="510" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="#A855F7" text-anchor="middle">ZOMBIE</text>
  <text x="900" y="530" font-family="system-ui, sans-serif" font-size="10" fill="#E9D5FF" text-anchor="middle">Terminated</text>
  <text x="900" y="545" font-family="system-ui, sans-serif" font-size="9" fill="#71717A" text-anchor="middle">Waiting for parent</text>
  
  <!-- Arrow Running to Zombie -->
  <path d="M 740 520 L 820 520" stroke="#A855F7" stroke-width="3" fill="none" marker-end="url(#arrow-zombie)"/>
  <text x="780" y="510" font-family="system-ui, sans-serif" font-size="9" fill="#A855F7" text-anchor="middle">exit()</text>
  <defs>
    <marker id="arrow-zombie" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#A855F7"/>
    </marker>
  </defs>
  
  <!-- Terminated -->
  <rect x="820" y="620" width="160" height="80" fill="#18181B" rx="8" stroke="#52525B" stroke-width="2"/>
  <text x="900" y="650" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="#71717A" text-anchor="middle">TERMINATED</text>
  <text x="900" y="670" font-family="system-ui, sans-serif" font-size="10" fill="#52525B" text-anchor="middle">Reaped by parent</text>
  <text x="900" y="685" font-family="monospace" font-size="9" fill="#52525B" text-anchor="middle">wait()</text>
  
  <!-- Arrow Zombie to Terminated -->
  <path d="M 900 560 L 900 620" stroke="#71717A" stroke-width="3" fill="none" marker-end="url(#arrow-term)"/>
  <text x="920" y="595" font-family="system-ui, sans-serif" font-size="9" fill="#71717A">parent wait()</text>
  <defs>
    <marker id="arrow-term" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#71717A"/>
    </marker>
  </defs>
  
  <!-- System Calls -->
  <rect x="100" y="750" width="880" height="180" fill="#3F3F46" rx="8"/>
  <text x="540" y="780" font-family="system-ui, sans-serif" font-size="15" font-weight="600" fill="#FAFAFA" text-anchor="middle">Key System Calls</text>
  
  <rect x="130" y="800" width="200" height="110" fill="#14532D" rx="4"/>
  <text x="230" y="825" font-family="monospace" font-size="12" font-weight="600" fill="#22C55E" text-anchor="middle">fork()</text>
  <text x="150" y="850" font-family="system-ui, sans-serif" font-size="10" fill="#E5E5E5">• Creates child process</text>
  <text x="150" y="870" font-family="system-ui, sans-serif" font-size="10" fill="#E5E5E5">• Copy-on-write memory</text>
  <text x="150" y="890" font-family="system-ui, sans-serif" font-size="10" fill="#E5E5E5">• Returns PID to parent,</text>
  <text x="160" y="905" font-family="system-ui, sans-serif" font-size="10" fill="#E5E5E5">  0 to child</text>
  
  <rect x="350" y="800" width="200" height="110" fill="#1E3A8A" rx="4"/>
  <text x="450" y="825" font-family="monospace" font-size="12" font-weight="600" fill="#3B82F6" text-anchor="middle">exec()</text>
  <text x="370" y="850" font-family="system-ui, sans-serif" font-size="10" fill="#E5E5E5">• Replaces process image</text>
  <text x="370" y="870" font-family="system-ui, sans-serif" font-size="10" fill="#E5E5E5">• Loads new program</text>
  <text x="370" y="890" font-family="system-ui, sans-serif" font-size="10" fill="#E5E5E5">• Same PID, new code</text>
  
  <rect x="570" y="800" width="200" height="110" fill="#7C2D12" rx="4"/>
  <text x="670" y="825" font-family="monospace" font-size="12" font-weight="600" fill="#F97316" text-anchor="middle">wait()</text>
  <text x="590" y="850" font-family="system-ui, sans-serif" font-size="10" fill="#E5E5E5">• Parent waits for child</text>
  <text x="590" y="870" font-family="system-ui, sans-serif" font-size="10" fill="#E5E5E5">• Reaps zombie process</text>
  <text x="590" y="890" font-family="system-ui, sans-serif" font-size="10" fill="#E5E5E5">• Gets exit status</text>
  
  <rect x="790" y="800" width="160" height="110" fill="#7F1D1D" rx="4"/>
  <text x="870" y="825" font-family="monospace" font-size="12" font-weight="600" fill="#EF4444" text-anchor="middle">exit()</text>
  <text x="810" y="850" font-family="system-ui, sans-serif" font-size="10" fill="#E5E5E5">• Terminates process</text>
  <text x="810" y="870" font-family="system-ui, sans-serif" font-size="10" fill="#E5E5E5">• Returns exit code</text>
  <text x="810" y="890" font-family="system-ui, sans-serif" font-size="10" fill="#E5E5E5">• Becomes zombie</text>
  
  <!-- Key insight -->
  <rect x="60" y="980" width="960" height="40" fill="#27272A" rx="8"/>
  <text x="540" y="1007" font-family="system-ui, sans-serif" font-size="14" fill="#A1A1AA" text-anchor="middle">Scheduler uses <tspan fill="#F97316">CFS</tspan> (Completely Fair Scheduler) to decide which <tspan fill="#3B82F6">READY</tspan> process runs next</text>
  
  <text x="540" y="1050" font-family="system-ui, sans-serif" font-size="14" fill="#52525B" text-anchor="middle">@devweekends</text>
</svg>
