<svg width="1080" height="1080" viewBox="0 0 1080 1080" fill="none" xmlns="http://www.w3.org/2000/svg">
  <rect width="1080" height="1080" fill="#FAFAFA"/>
  
  <!-- Branding -->
  <text x="60" y="80" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="#18181B" letter-spacing="3">DEV WEEKENDS</text>
  
  <rect x="60" y="100" width="220" height="40" fill="#0891B2" rx="4"/>
  <text x="170" y="128" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#FAFAFA" text-anchor="middle" letter-spacing="2">HIPAA COMPLIANCE</text>
  
  <!-- Title -->
  <text x="60" y="200" font-family="system-ui, sans-serif" font-size="44" font-weight="700" fill="#18181B">Envelope Encryption</text>
  <text x="60" y="260" font-family="system-ui, sans-serif" font-size="44" font-weight="700" fill="#0891B2">Key Hierarchy</text>
  
  <text x="60" y="310" font-family="system-ui, sans-serif" font-size="16" fill="#71717A">Multi-layer encryption pattern for PHI protection</text>
  
  <!-- Main diagram -->
  <rect x="60" y="340" width="960" height="680" fill="#F4F4F5" rx="12"/>
  
  <!-- Master Key (KEK) -->
  <rect x="400" y="380" width="280" height="100" fill="#FFFFFF" stroke="#DC2626" stroke-width="3" rx="12"/>
  <rect x="400" y="380" width="280" height="35" fill="#DC2626" rx="12 12 0 0"/>
  <text x="540" y="404" font-family="system-ui, sans-serif" font-size="14" font-weight="700" fill="#FAFAFA" text-anchor="middle">üîê MASTER KEY (KEK)</text>
  
  <text x="540" y="440" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#18181B" text-anchor="middle">Key Encryption Key</text>
  <text x="540" y="460" font-family="system-ui, sans-serif" font-size="11" fill="#71717A" text-anchor="middle">Stored in HSM / AWS KMS / HashiCorp Vault</text>
  
  <!-- Arrow 1 -->
  <path d="M 540 480 L 540 530" stroke="#DC2626" stroke-width="3" stroke-dasharray="5,5"/>
  <polygon points="540,545 530,525 550,525" fill="#DC2626"/>
  <text x="610" y="510" font-family="system-ui, sans-serif" font-size="11" font-weight="600" fill="#DC2626">encrypts</text>
  
  <!-- Data Encryption Keys (DEKs) -->
  <rect x="180" y="560" width="720" height="120" fill="#FFFFFF" stroke="#F59E0B" stroke-width="3" rx="12"/>
  <rect x="180" y="560" width="720" height="35" fill="#F59E0B" rx="12 12 0 0"/>
  <text x="540" y="584" font-family="system-ui, sans-serif" font-size="14" font-weight="700" fill="#FAFAFA" text-anchor="middle">üîë DATA ENCRYPTION KEYS (DEKs)</text>
  
  <text x="540" y="620" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#18181B" text-anchor="middle">Unique key per record/file - Stored encrypted alongside data</text>
  
  <!-- DEK boxes -->
  <rect x="210" y="635" width="120" height="35" fill="#FEF3C7" stroke="#F59E0B" stroke-width="1" rx="6"/>
  <text x="270" y="658" font-family="system-ui, sans-serif" font-size="10" fill="#B45309" text-anchor="middle">DEK-Patient-001</text>
  
  <rect x="350" y="635" width="120" height="35" fill="#FEF3C7" stroke="#F59E0B" stroke-width="1" rx="6"/>
  <text x="410" y="658" font-family="system-ui, sans-serif" font-size="10" fill="#B45309" text-anchor="middle">DEK-Patient-002</text>
  
  <rect x="490" y="635" width="120" height="35" fill="#FEF3C7" stroke="#F59E0B" stroke-width="1" rx="6"/>
  <text x="550" y="658" font-family="system-ui, sans-serif" font-size="10" fill="#B45309" text-anchor="middle">DEK-Patient-003</text>
  
  <rect x="630" y="635" width="120" height="35" fill="#FEF3C7" stroke="#F59E0B" stroke-width="1" rx="6"/>
  <text x="690" y="658" font-family="system-ui, sans-serif" font-size="10" fill="#B45309" text-anchor="middle">DEK-Record-...</text>
  
  <rect x="770" y="635" width="100" height="35" fill="#FEF3C7" stroke="#F59E0B" stroke-width="1" rx="6"/>
  <text x="820" y="658" font-family="system-ui, sans-serif" font-size="10" fill="#B45309" text-anchor="middle">DEK-N</text>
  
  <!-- Arrow 2 -->
  <path d="M 540 680 L 540 730" stroke="#F59E0B" stroke-width="3" stroke-dasharray="5,5"/>
  <polygon points="540,745 530,725 550,725" fill="#F59E0B"/>
  <text x="610" y="710" font-family="system-ui, sans-serif" font-size="11" font-weight="600" fill="#F59E0B">encrypts</text>
  
  <!-- PHI Data -->
  <rect x="180" y="760" width="720" height="120" fill="#FFFFFF" stroke="#0891B2" stroke-width="3" rx="12"/>
  <rect x="180" y="760" width="720" height="35" fill="#0891B2" rx="12 12 0 0"/>
  <text x="540" y="784" font-family="system-ui, sans-serif" font-size="14" font-weight="700" fill="#FAFAFA" text-anchor="middle">üìã PHI DATA (Ciphertext)</text>
  
  <!-- PHI boxes -->
  <rect x="210" y="810" width="150" height="55" fill="#F0F9FF" stroke="#0891B2" stroke-width="1" rx="6"/>
  <text x="285" y="830" font-family="system-ui, sans-serif" font-size="10" font-weight="600" fill="#0891B2" text-anchor="middle">Patient Record</text>
  <text x="285" y="845" font-family="system-ui, sans-serif" font-size="9" fill="#71717A" text-anchor="middle">Name, DOB, SSN</text>
  <text x="285" y="858" font-family="system-ui, sans-serif" font-size="9" fill="#71717A" text-anchor="middle">Diagnosis, Treatment</text>
  
  <rect x="375" y="810" width="150" height="55" fill="#F0F9FF" stroke="#0891B2" stroke-width="1" rx="6"/>
  <text x="450" y="830" font-family="system-ui, sans-serif" font-size="10" font-weight="600" fill="#0891B2" text-anchor="middle">Medical Images</text>
  <text x="450" y="845" font-family="system-ui, sans-serif" font-size="9" fill="#71717A" text-anchor="middle">X-rays, MRIs</text>
  <text x="450" y="858" font-family="system-ui, sans-serif" font-size="9" fill="#71717A" text-anchor="middle">CT Scans</text>
  
  <rect x="540" y="810" width="150" height="55" fill="#F0F9FF" stroke="#0891B2" stroke-width="1" rx="6"/>
  <text x="615" y="830" font-family="system-ui, sans-serif" font-size="10" font-weight="600" fill="#0891B2" text-anchor="middle">Lab Results</text>
  <text x="615" y="845" font-family="system-ui, sans-serif" font-size="9" fill="#71717A" text-anchor="middle">Blood work</text>
  <text x="615" y="858" font-family="system-ui, sans-serif" font-size="9" fill="#71717A" text-anchor="middle">Genetic data</text>
  
  <rect x="705" y="810" width="150" height="55" fill="#F0F9FF" stroke="#0891B2" stroke-width="1" rx="6"/>
  <text x="780" y="830" font-family="system-ui, sans-serif" font-size="10" font-weight="600" fill="#0891B2" text-anchor="middle">Prescriptions</text>
  <text x="780" y="845" font-family="system-ui, sans-serif" font-size="9" fill="#71717A" text-anchor="middle">Medications</text>
  <text x="780" y="858" font-family="system-ui, sans-serif" font-size="9" fill="#71717A" text-anchor="middle">Dosages</text>
  
  <!-- Benefits section -->
  <rect x="100" y="900" width="280" height="100" fill="#FFFFFF" stroke="#059669" stroke-width="2" rx="8"/>
  <rect x="100" y="900" width="280" height="30" fill="#D1FAE5" rx="8 8 0 0"/>
  <text x="240" y="920" font-family="system-ui, sans-serif" font-size="12" font-weight="700" fill="#059669" text-anchor="middle">‚úì KEY ROTATION</text>
  <text x="240" y="950" font-family="system-ui, sans-serif" font-size="11" fill="#18181B" text-anchor="middle">Rotate master key without</text>
  <text x="240" y="970" font-family="system-ui, sans-serif" font-size="11" fill="#18181B" text-anchor="middle">re-encrypting all data</text>
  
  <rect x="400" y="900" width="280" height="100" fill="#FFFFFF" stroke="#2563EB" stroke-width="2" rx="8"/>
  <rect x="400" y="900" width="280" height="30" fill="#DBEAFE" rx="8 8 0 0"/>
  <text x="540" y="920" font-family="system-ui, sans-serif" font-size="12" font-weight="700" fill="#2563EB" text-anchor="middle">‚úì ISOLATION</text>
  <text x="540" y="950" font-family="system-ui, sans-serif" font-size="11" fill="#18181B" text-anchor="middle">One DEK compromised</text>
  <text x="540" y="970" font-family="system-ui, sans-serif" font-size="11" fill="#18181B" text-anchor="middle">‚â† All data exposed</text>
  
  <rect x="700" y="900" width="280" height="100" fill="#FFFFFF" stroke="#7C3AED" stroke-width="2" rx="8"/>
  <rect x="700" y="900" width="280" height="30" fill="#EDE9FE" rx="8 8 0 0"/>
  <text x="840" y="920" font-family="system-ui, sans-serif" font-size="12" font-weight="700" fill="#7C3AED" text-anchor="middle">‚úì SAFE HARBOR</text>
  <text x="840" y="950" font-family="system-ui, sans-serif" font-size="11" fill="#18181B" text-anchor="middle">NIST encryption may</text>
  <text x="840" y="970" font-family="system-ui, sans-serif" font-size="11" fill="#18181B" text-anchor="middle">avoid breach notification</text>
  
  <!-- Footer -->
  <text x="540" y="1050" font-family="system-ui, sans-serif" font-size="14" fill="#A1A1AA" text-anchor="middle">@devweekends</text>
</svg>