<svg width="1080" height="1080" viewBox="0 0 1080 1080" fill="none" xmlns="http://www.w3.org/2000/svg">
  <rect width="1080" height="1080" fill="#18181B"/>
  
  <text x="60" y="80" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="#FAFAFA" letter-spacing="3">DEV WEEKENDS</text>
  
  <rect x="60" y="140" width="260" height="40" fill="#0EA5E9"/>
  <text x="190" y="168" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#FAFAFA" text-anchor="middle" letter-spacing="2">DATABASE ENGINEERING</text>
  
  <text x="60" y="280" font-family="system-ui, sans-serif" font-size="48" font-weight="700" fill="#FAFAFA">Query</text>
  <text x="60" y="340" font-family="system-ui, sans-serif" font-size="48" font-weight="700" fill="#0EA5E9">Processing</text>
  
  <text x="60" y="400" font-family="system-ui, sans-serif" font-size="18" fill="#A1A1AA">From SQL text to execution results</text>
  
  <!-- Main pipeline -->
  <rect x="60" y="440" width="960" height="280" fill="#27272A" rx="8"/>
  
  <text x="540" y="480" font-family="system-ui, sans-serif" font-size="18" font-weight="700" fill="#FAFAFA" text-anchor="middle">Query Processing Pipeline</text>
  
  <!-- SQL Input -->
  <rect x="100" y="520" width="120" height="60" fill="#3B82F6" rx="4"/>
  <text x="160" y="545" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#FAFAFA" text-anchor="middle">SQL</text>
  <text x="160" y="565" font-family="monospace" font-size="9" fill="#BFDBFE" text-anchor="middle">SELECT...</text>
  
  <!-- Arrow -->
  <line x1="220" y1="550" x2="260" y2="550" stroke="#FAFAFA" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Parser -->
  <rect x="270" y="520" width="120" height="60" fill="#22C55E" rx="4"/>
  <text x="330" y="545" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#FAFAFA" text-anchor="middle">Parser</text>
  <text x="330" y="565" font-family="system-ui, sans-serif" font-size="9" fill="#BBF7D0" text-anchor="middle">Syntax → AST</text>
  
  <!-- Arrow -->
  <line x1="390" y1="550" x2="430" y2="550" stroke="#FAFAFA" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Analyzer -->
  <rect x="440" y="520" width="120" height="60" fill="#F59E0B" rx="4"/>
  <text x="500" y="545" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#FAFAFA" text-anchor="middle">Analyzer</text>
  <text x="500" y="565" font-family="system-ui, sans-serif" font-size="9" fill="#FEF3C7" text-anchor="middle">Semantic check</text>
  
  <!-- Arrow -->
  <line x1="560" y1="550" x2="600" y2="550" stroke="#FAFAFA" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Planner -->
  <rect x="610" y="520" width="120" height="60" fill="#8B5CF6" rx="4"/>
  <text x="670" y="545" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#FAFAFA" text-anchor="middle">Planner</text>
  <text x="670" y="565" font-family="system-ui, sans-serif" font-size="9" fill="#E9D5FF" text-anchor="middle">Best plan</text>
  
  <!-- Arrow -->
  <line x1="730" y1="550" x2="770" y2="550" stroke="#FAFAFA" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Executor -->
  <rect x="780" y="520" width="120" height="60" fill="#EF4444" rx="4"/>
  <text x="840" y="545" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#FAFAFA" text-anchor="middle">Executor</text>
  <text x="840" y="565" font-family="system-ui, sans-serif" font-size="9" fill="#FECACA" text-anchor="middle">Run plan</text>
  
  <!-- Arrow -->
  <line x1="900" y1="550" x2="940" y2="550" stroke="#FAFAFA" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Result -->
  <rect x="950" y="520" width="50" height="60" fill="#3F3F46" rx="4"/>
  <text x="975" y="555" font-family="system-ui, sans-serif" font-size="10" fill="#FAFAFA" text-anchor="middle">Rows</text>
  
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#FAFAFA"/>
    </marker>
  </defs>
  
  <!-- Outputs below each stage -->
  <rect x="100" y="610" width="120" height="40" fill="#3F3F46" rx="2"/>
  <text x="160" y="635" font-family="system-ui, sans-serif" font-size="9" fill="#A1A1AA" text-anchor="middle">Text string</text>
  
  <rect x="270" y="610" width="120" height="40" fill="#3F3F46" rx="2"/>
  <text x="330" y="635" font-family="system-ui, sans-serif" font-size="9" fill="#A1A1AA" text-anchor="middle">Parse tree</text>
  
  <rect x="440" y="610" width="120" height="40" fill="#3F3F46" rx="2"/>
  <text x="500" y="635" font-family="system-ui, sans-serif" font-size="9" fill="#A1A1AA" text-anchor="middle">Query tree</text>
  
  <rect x="610" y="610" width="120" height="40" fill="#3F3F46" rx="2"/>
  <text x="670" y="635" font-family="system-ui, sans-serif" font-size="9" fill="#A1A1AA" text-anchor="middle">Plan tree</text>
  
  <rect x="780" y="610" width="120" height="40" fill="#3F3F46" rx="2"/>
  <text x="840" y="635" font-family="system-ui, sans-serif" font-size="9" fill="#A1A1AA" text-anchor="middle">Tuples</text>
  
  <!-- Planner detail -->
  <rect x="60" y="740" width="960" height="200" fill="#27272A" rx="8"/>
  
  <text x="540" y="780" font-family="system-ui, sans-serif" font-size="16" font-weight="700" fill="#8B5CF6" text-anchor="middle">Query Planner / Optimizer</text>
  
  <!-- Generate plans -->
  <rect x="100" y="810" width="200" height="100" fill="#3F3F46" rx="4"/>
  <text x="200" y="845" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#FAFAFA" text-anchor="middle">Generate Plans</text>
  <text x="200" y="870" font-family="system-ui, sans-serif" font-size="10" fill="#A1A1AA" text-anchor="middle">• Seq Scan vs Index Scan</text>
  <text x="200" y="890" font-family="system-ui, sans-serif" font-size="10" fill="#A1A1AA" text-anchor="middle">• Join order permutations</text>
  
  <!-- Arrow -->
  <line x1="300" y1="860" x2="360" y2="860" stroke="#FAFAFA" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Cost estimation -->
  <rect x="370" y="810" width="200" height="100" fill="#3F3F46" rx="4"/>
  <text x="470" y="845" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#FAFAFA" text-anchor="middle">Cost Estimation</text>
  <text x="470" y="870" font-family="system-ui, sans-serif" font-size="10" fill="#A1A1AA" text-anchor="middle">• Statistics (pg_stats)</text>
  <text x="470" y="890" font-family="system-ui, sans-serif" font-size="10" fill="#A1A1AA" text-anchor="middle">• CPU + I/O costs</text>
  
  <!-- Arrow -->
  <line x1="570" y1="860" x2="630" y2="860" stroke="#FAFAFA" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Select best -->
  <rect x="640" y="810" width="200" height="100" fill="#8B5CF6" rx="4"/>
  <text x="740" y="845" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#FAFAFA" text-anchor="middle">Select Cheapest</text>
  <text x="740" y="870" font-family="system-ui, sans-serif" font-size="10" fill="#E9D5FF" text-anchor="middle">Dynamic programming</text>
  <text x="740" y="890" font-family="system-ui, sans-serif" font-size="10" fill="#E9D5FF" text-anchor="middle">for join ordering</text>
  
  <!-- Output -->
  <rect x="880" y="820" width="100" height="80" fill="#22C55E" rx="4"/>
  <text x="930" y="855" font-family="system-ui, sans-serif" font-size="11" font-weight="600" fill="#FAFAFA" text-anchor="middle">Optimal</text>
  <text x="930" y="875" font-family="system-ui, sans-serif" font-size="11" font-weight="600" fill="#FAFAFA" text-anchor="middle">Plan</text>
  
  <!-- Arrow -->
  <line x1="840" y1="860" x2="880" y2="860" stroke="#FAFAFA" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Key insight -->
  <rect x="60" y="960" width="960" height="60" fill="#27272A" rx="8"/>
  <text x="540" y="995" font-family="system-ui, sans-serif" font-size="14" fill="#A1A1AA" text-anchor="middle">Use <tspan fill="#0EA5E9">EXPLAIN ANALYZE</tspan> to see actual vs estimated costs • Keep <tspan fill="#22C55E">statistics updated</tspan> with ANALYZE</text>
  
  <text x="540" y="1050" font-family="system-ui, sans-serif" font-size="14" fill="#52525B" text-anchor="middle">@devweekends</text>
</svg>