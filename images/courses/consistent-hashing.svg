<svg width="1080" height="1080" viewBox="0 0 1080 1080" fill="none" xmlns="http://www.w3.org/2000/svg">
  <rect width="1080" height="1080" fill="#18181B"/>
  
  <text x="60" y="80" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="#FAFAFA" letter-spacing="3">DEV WEEKENDS</text>
  
  <rect x="60" y="140" width="260" height="40" fill="#A855F7"/>
  <text x="190" y="168" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#FAFAFA" text-anchor="middle" letter-spacing="2">DISTRIBUTED SYSTEMS</text>
  
  <text x="60" y="280" font-family="system-ui, sans-serif" font-size="48" font-weight="700" fill="#FAFAFA">Consistent</text>
  <text x="60" y="340" font-family="system-ui, sans-serif" font-size="48" font-weight="700" fill="#A855F7">Hashing</text>
  
  <text x="60" y="400" font-family="system-ui, sans-serif" font-size="18" fill="#A1A1AA">Distribute keys across nodes with minimal rebalancing</text>
  
  <!-- Main diagram area -->
  <rect x="60" y="440" width="960" height="520" fill="#27272A" rx="8"/>
  
  <!-- Hash Ring -->
  <circle cx="540" cy="700" r="200" stroke="#52525B" stroke-width="2" fill="none"/>
  
  <!-- Ring positions (0, 90, 180, 270 degrees) -->
  <text x="540" y="490" font-family="monospace" font-size="11" fill="#71717A" text-anchor="middle">0°</text>
  <text x="750" y="705" font-family="monospace" font-size="11" fill="#71717A">90°</text>
  <text x="540" y="915" font-family="monospace" font-size="11" fill="#71717A" text-anchor="middle">180°</text>
  <text x="325" y="705" font-family="monospace" font-size="11" fill="#71717A" text-anchor="end">270°</text>
  
  <!-- Physical Nodes -->
  <circle cx="540" cy="500" r="12" fill="#22C55E"/>
  <text x="540" y="480" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#22C55E" text-anchor="middle">Node A</text>
  
  <circle cx="680" cy="640" r="12" fill="#3B82F6"/>
  <text x="710" y="645" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#3B82F6">Node B</text>
  
  <circle cx="540" cy="900" r="12" fill="#F59E0B"/>
  <text x="540" y="930" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#F59E0B" text-anchor="middle">Node C</text>
  
  <!-- Virtual Nodes (smaller circles) -->
  <circle cx="600" cy="520" r="6" fill="#86EFAC" opacity="0.7"/>
  <text x="620" y="525" font-family="system-ui, sans-serif" font-size="9" fill="#86EFAC">A-v1</text>
  
  <circle cx="720" cy="720" r="6" fill="#93C5FD" opacity="0.7"/>
  <text x="735" y="725" font-family="system-ui, sans-serif" font-size="9" fill="#93C5FD">B-v1</text>
  
  <circle cx="480" cy="880" r="6" fill="#FCD34D" opacity="0.7"/>
  <text x="450" y="885" font-family="system-ui, sans-serif" font-size="9" fill="#FCD34D" text-anchor="end">C-v1</text>
  
  <circle cx="420" cy="640" r="6" fill="#86EFAC" opacity="0.7"/>
  <text x="390" y="645" font-family="system-ui, sans-serif" font-size="9" fill="#86EFAC" text-anchor="end">A-v2</text>
  
  <circle cx="620" cy="820" r="6" fill="#93C5FD" opacity="0.7"/>
  <text x="640" y="825" font-family="system-ui, sans-serif" font-size="9" fill="#93C5FD">B-v2</text>
  
  <!-- Keys -->
  <circle cx="540" cy="580" r="8" fill="#EF4444"/>
  <text x="560" y="585" font-family="monospace" font-size="10" fill="#EF4444">key1</text>
  <line x1="540" y1="588" x2="540" y2="500" stroke="#EF4444" stroke-width="1" stroke-dasharray="2,2"/>
  
  <circle cx="650" cy="750" r="8" fill="#EF4444"/>
  <text x="670" y="755" font-family="monospace" font-size="10" fill="#EF4444">key2</text>
  <line x1="650" y1="758" x2="680" y2="640" stroke="#EF4444" stroke-width="1" stroke-dasharray="2,2"/>
  
  <!-- How it works -->
  <rect x="100" y="470" width="280" height="150" fill="#3F3F46" rx="8"/>
  <text x="240" y="495" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="#FAFAFA" text-anchor="middle">How It Works</text>
  
  <circle cx="120" cy="520" r="3" fill="#A855F7"/>
  <text x="135" y="524" font-family="system-ui, sans-serif" font-size="11" fill="#E5E5E5">Hash key → position on ring</text>
  
  <circle cx="120" cy="545" r="3" fill="#A855F7"/>
  <text x="135" y="549" font-family="system-ui, sans-serif" font-size="11" fill="#E5E5E5">Walk clockwise to find node</text>
  
  <circle cx="120" cy="570" r="3" fill="#A855F7"/>
  <text x="135" y="574" font-family="system-ui, sans-serif" font-size="11" fill="#E5E5E5">Virtual nodes for balance</text>
  
  <circle cx="120" cy="595" r="3" fill="#A855F7"/>
  <text x="135" y="599" font-family="system-ui, sans-serif" font-size="11" fill="#E5E5E5">Add/remove with minimal</text>
  <text x="135" y="612" font-family="system-ui, sans-serif" font-size="11" fill="#E5E5E5">  data movement</text>
  
  <!-- Benefits -->
  <rect x="700" y="470" width="280" height="150" fill="#3F3F46" rx="8"/>
  <text x="840" y="495" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="#FAFAFA" text-anchor="middle">Benefits</text>
  
  <text x="720" y="525" font-family="system-ui, sans-serif" font-size="12" fill="#22C55E">✓ Minimal rebalancing</text>
  <text x="730" y="542" font-family="system-ui, sans-serif" font-size="9" fill="#71717A">Only K/N keys move</text>
  
  <text x="720" y="565" font-family="system-ui, sans-serif" font-size="12" fill="#22C55E">✓ Load distribution</text>
  <text x="730" y="582" font-family="system-ui, sans-serif" font-size="9" fill="#71717A">Virtual nodes balance load</text>
  
  <text x="720" y="605" font-family="system-ui, sans-serif" font-size="12" fill="#22C55E">✓ Fault tolerance</text>
  <text x="730" y="622" font-family="system-ui, sans-serif" font-size="9" fill="#71717A">Replicate to N successors</text>
  
  <!-- Example calculation -->
  <rect x="100" y="850" width="880" height="90" fill="#3F3F46" rx="8"/>
  <text x="540" y="875" font-family="system-ui, sans-serif" font-size="13" font-weight="600" fill="#FAFAFA" text-anchor="middle">Example: Adding a New Node</text>
  
  <text x="120" y="900" font-family="system-ui, sans-serif" font-size="11" fill="#E5E5E5">Before: 3 nodes, 1000 keys → ~333 keys/node</text>
  <text x="120" y="920" font-family="system-ui, sans-serif" font-size="11" fill="#22C55E">After: 4 nodes → Only ~250 keys move (25%), not 750 keys (75%) like naive hashing!</text>
  
  <!-- Key insight -->
  <rect x="60" y="980" width="960" height="40" fill="#27272A" rx="8"/>
  <text x="540" y="1007" font-family="system-ui, sans-serif" font-size="14" fill="#A1A1AA" text-anchor="middle">Used by <tspan fill="#A855F7">Cassandra</tspan>, <tspan fill="#A855F7">DynamoDB</tspan>, <tspan fill="#A855F7">Riak</tspan> — the foundation of distributed caching</text>
  
  <text x="540" y="1050" font-family="system-ui, sans-serif" font-size="14" fill="#52525B" text-anchor="middle">@devweekends</text>
</svg>
