<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 400">
  <!-- Background -->
  <rect width="800" height="400" fill="#1e1e1e" />
  
  <!-- Title -->
  <text x="400" y="40" font-family="Arial, sans-serif" font-size="24" fill="#ffffff" text-anchor="middle" font-weight="bold">Lamport Logical Clocks</text>
  
  <!-- Process P1 -->
  <g transform="translate(0, 100)">
    <text x="50" y="0" font-family="Arial, sans-serif" font-size="18" fill="#4CAF50" font-weight="bold">P1</text>
    <line x1="80" y1="0" x2="750" y2="0" stroke="#4CAF50" stroke-width="2" />
    
    <!-- Events -->
    <circle cx="150" cy="0" r="6" fill="#4CAF50" />
    <text x="150" y="-15" font-family="Arial, sans-serif" font-size="14" fill="#4CAF50" text-anchor="middle">1</text>
    
    <circle cx="250" cy="0" r="6" fill="#4CAF50" />
    <text x="250" y="-15" font-family="Arial, sans-serif" font-size="14" fill="#4CAF50" text-anchor="middle">2</text>
    
    <circle cx="450" cy="0" r="6" fill="#4CAF50" />
    <text x="450" y="-15" font-family="Arial, sans-serif" font-size="14" fill="#4CAF50" text-anchor="middle">3</text>
  </g>

  <!-- Process P2 -->
  <g transform="translate(0, 200)">
    <text x="50" y="0" font-family="Arial, sans-serif" font-size="18" fill="#2196F3" font-weight="bold">P2</text>
    <line x1="80" y1="0" x2="750" y2="0" stroke="#2196F3" stroke-width="2" />
    
    <!-- Events -->
    <circle cx="350" cy="0" r="6" fill="#2196F3" />
    <text x="350" y="-15" font-family="Arial, sans-serif" font-size="14" fill="#2196F3" text-anchor="middle">3</text> <!-- Received from P1(2) -> max(local, 2)+1 = 3 -->
    
    <circle cx="550" cy="0" r="6" fill="#2196F3" />
    <text x="550" y="-15" font-family="Arial, sans-serif" font-size="14" fill="#2196F3" text-anchor="middle">4</text>
  </g>

  <!-- Process P3 -->
  <g transform="translate(0, 300)">
    <text x="50" y="0" font-family="Arial, sans-serif" font-size="18" fill="#FF9800" font-weight="bold">P3</text>
    <line x1="80" y1="0" x2="750" y2="0" stroke="#FF9800" stroke-width="2" />
    
    <!-- Events -->
    <circle cx="200" cy="0" r="6" fill="#FF9800" />
    <text x="200" y="-15" font-family="Arial, sans-serif" font-size="14" fill="#FF9800" text-anchor="middle">1</text>
    
    <circle cx="650" cy="0" r="6" fill="#FF9800" />
    <text x="650" y="-15" font-family="Arial, sans-serif" font-size="14" fill="#FF9800" text-anchor="middle">5</text> <!-- Received from P2(4) -> max(1, 4)+1 = 5 -->
  </g>

  <!-- Messages -->
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="0" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#ffffff" />
    </marker>
  </defs>

  <!-- Msg P1(2) -> P2 -->
  <line x1="250" y1="100" x2="350" y2="200" stroke="#ffffff" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrow)" />
  
  <!-- Msg P2(4) -> P3 -->
  <line x1="550" y1="200" x2="650" y2="300" stroke="#ffffff" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrow)" />

  <!-- Rule Text -->
  <text x="400" y="360" font-family="Arial, sans-serif" font-size="14" fill="#888" text-anchor="middle">Rule: timestamp = max(local_clock, msg_timestamp) + 1</text>

</svg>
