<svg width="1080" height="1080" viewBox="0 0 1080 1080" fill="none" xmlns="http://www.w3.org/2000/svg">
  <rect width="1080" height="1080" fill="#18181B"/>

  <text x="60" y="80" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="#FAFAFA" letter-spacing="3">DEV WEEKENDS</text>

  <rect x="60" y="140" width="260" height="40" fill="#0EA5E9"/>
  <text x="190" y="168" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#FAFAFA" text-anchor="middle" letter-spacing="2">DATABASE ENGINEERING</text>

  <text x="60" y="280" font-family="system-ui, sans-serif" font-size="48" font-weight="700" fill="#FAFAFA">ACID</text>
  <text x="60" y="340" font-family="system-ui, sans-serif" font-size="48" font-weight="700" fill="#0EA5E9">Properties</text>

  <text x="60" y="400" font-family="system-ui, sans-serif" font-size="18" fill="#A1A1AA">The foundation of reliable transactions</text>

  <!-- Main diagram area -->
  <rect x="60" y="440" width="960" height="520" fill="#27272A" rx="8"/>

  <!-- Atomicity -->
  <rect x="100" y="470" width="430" height="220" fill="#7C3AED" rx="8"/>
  <text x="315" y="505" font-family="system-ui, sans-serif" font-size="20" font-weight="700" fill="#FAFAFA" text-anchor="middle">A · Atomicity</text>
  <text x="315" y="535" font-family="system-ui, sans-serif" font-size="13" fill="#E9D5FF" text-anchor="middle">All or Nothing</text>

  <rect x="130" y="560" width="170" height="110" fill="#6D28D9" rx="4"/>
  <text x="215" y="590" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#FAFAFA" text-anchor="middle">Transaction Succeeds</text>
  <circle cx="150" cy="615" r="3" fill="#22C55E"/>
  <text x="160" y="620" font-family="system-ui, sans-serif" font-size="10" fill="#E9D5FF">Debit account A</text>
  <circle cx="150" cy="635" r="3" fill="#22C55E"/>
  <text x="160" y="640" font-family="system-ui, sans-serif" font-size="10" fill="#E9D5FF">Credit account B</text>
  <circle cx="150" cy="655" r="3" fill="#22C55E"/>
  <text x="160" y="660" font-family="system-ui, sans-serif" font-size="10" fill="#E9D5FF">Log transfer</text>

  <rect x="320" y="560" width="170" height="110" fill="#6D28D9" rx="4"/>
  <text x="405" y="590" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#FAFAFA" text-anchor="middle">Any Step Fails</text>
  <circle cx="340" cy="615" r="3" fill="#22C55E"/>
  <text x="350" y="620" font-family="system-ui, sans-serif" font-size="10" fill="#E9D5FF">Debit account A</text>
  <circle cx="340" cy="635" r="3" fill="#EF4444"/>
  <text x="350" y="640" font-family="system-ui, sans-serif" font-size="10" fill="#FCA5A5">Credit fails!</text>
  <text x="405" y="660" font-family="system-ui, sans-serif" font-size="10" font-weight="600" fill="#EF4444" text-anchor="middle">→ ROLLBACK ALL</text>

  <!-- Consistency -->
  <rect x="560" y="470" width="430" height="220" fill="#1E40AF" rx="8"/>
  <text x="775" y="505" font-family="system-ui, sans-serif" font-size="20" font-weight="700" fill="#FAFAFA" text-anchor="middle">C · Consistency</text>
  <text x="775" y="535" font-family="system-ui, sans-serif" font-size="13" fill="#93C5FD" text-anchor="middle">Valid State → Valid State</text>

  <rect x="590" y="560" width="165" height="60" fill="#1E3A8A" rx="4"/>
  <text x="672" y="580" font-family="system-ui, sans-serif" font-size="11" font-weight="600" fill="#93C5FD" text-anchor="middle">Before Transaction</text>
  <text x="672" y="600" font-family="monospace" font-size="10" fill="#FAFAFA" text-anchor="middle">balance_A = $100</text>
  <text x="672" y="615" font-family="monospace" font-size="10" fill="#FAFAFA" text-anchor="middle">balance_B = $50</text>

  <path d="M 760 590 L 795 590" stroke="#22C55E" stroke-width="3" marker-end="url(#arrowConsistency)"/>
  <defs>
    <marker id="arrowConsistency" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#22C55E"/>
    </marker>
  </defs>

  <rect x="800" y="560" width="165" height="60" fill="#1E3A8A" rx="4"/>
  <text x="882" y="580" font-family="system-ui, sans-serif" font-size="11" font-weight="600" fill="#93C5FD" text-anchor="middle">After Transaction</text>
  <text x="882" y="600" font-family="monospace" font-size="10" fill="#FAFAFA" text-anchor="middle">balance_A = $75</text>
  <text x="882" y="615" font-family="monospace" font-size="10" fill="#FAFAFA" text-anchor="middle">balance_B = $75</text>

  <text x="775" y="650" font-family="system-ui, sans-serif" font-size="10" fill="#93C5FD" text-anchor="middle">Constraints maintained:</text>
  <circle cx="650" cy="667" r="2" fill="#22C55E"/>
  <text x="660" y="670" font-family="system-ui, sans-serif" font-size="9" fill="#E5E5E5">Total still $150</text>
  <circle cx="650" cy="682" r="2" fill="#22C55E"/>
  <text x="660" y="685" font-family="system-ui, sans-serif" font-size="9" fill="#E5E5E5">No negative balances</text>

  <!-- Isolation -->
  <rect x="100" y="710" width="430" height="220" fill="#166534" rx="8"/>
  <text x="315" y="745" font-family="system-ui, sans-serif" font-size="20" font-weight="700" fill="#FAFAFA" text-anchor="middle">I · Isolation</text>
  <text x="315" y="775" font-family="system-ui, sans-serif" font-size="13" fill="#BBF7D0" text-anchor="middle">Concurrent ≈ Serial</text>

  <rect x="130" y="800" width="180" height="110" fill="#14532D" rx="4"/>
  <text x="220" y="825" font-family="system-ui, sans-serif" font-size="11" font-weight="600" fill="#BBF7D0" text-anchor="middle">Transaction 1</text>
  <text x="220" y="845" font-family="monospace" font-size="9" fill="#FAFAFA" text-anchor="middle">BEGIN</text>
  <text x="220" y="860" font-family="monospace" font-size="9" fill="#FAFAFA" text-anchor="middle">SELECT balance</text>
  <text x="220" y="875" font-family="monospace" font-size="9" fill="#FAFAFA" text-anchor="middle">UPDATE balance</text>
  <text x="220" y="890" font-family="monospace" font-size="9" fill="#FAFAFA" text-anchor="middle">COMMIT</text>

  <rect x="330" y="800" width="180" height="110" fill="#14532D" rx="4"/>
  <text x="420" y="825" font-family="system-ui, sans-serif" font-size="11" font-weight="600" fill="#BBF7D0" text-anchor="middle">Transaction 2</text>
  <text x="420" y="845" font-family="monospace" font-size="9" fill="#FAFAFA" text-anchor="middle">BEGIN</text>
  <text x="420" y="860" font-family="monospace" font-size="9" fill="#FAFAFA" text-anchor="middle">SELECT balance</text>
  <text x="420" y="875" font-family="monospace" font-size="9" fill="#FAFAFA" text-anchor="middle">UPDATE balance</text>
  <text x="420" y="890" font-family="monospace" font-size="9" fill="#FAFAFA" text-anchor="middle">COMMIT</text>

  <text x="315" y="925" font-family="system-ui, sans-serif" font-size="10" fill="#BBF7D0" text-anchor="middle">Don't see each other's uncommitted changes</text>

  <!-- Durability -->
  <rect x="560" y="710" width="430" height="220" fill="#9A3412" rx="8"/>
  <text x="775" y="745" font-family="system-ui, sans-serif" font-size="20" font-weight="700" fill="#FAFAFA" text-anchor="middle">D · Durability</text>
  <text x="775" y="775" font-family="system-ui, sans-serif" font-size="13" fill="#FED7AA" text-anchor="middle">Committed = Permanent</text>

  <rect x="590" y="800" width="370" height="110" fill="#7C2D12" rx="4"/>
  <text x="775" y="830" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#FED7AA" text-anchor="middle">Write-Ahead Log (WAL)</text>

  <rect x="610" y="845" width="150" height="50" fill="#9A3412" rx="2"/>
  <text x="685" y="865" font-family="monospace" font-size="9" fill="#FAFAFA" text-anchor="middle">1. Write to WAL</text>
  <text x="685" y="880" font-family="monospace" font-size="9" fill="#22C55E" text-anchor="middle">✓ Disk sync</text>

  <path d="M 760 870 L 785 870" stroke="#22C55E" stroke-width="2" marker-end="url(#arrowDurability)"/>
  <defs>
    <marker id="arrowDurability" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#22C55E"/>
    </marker>
  </defs>

  <rect x="790" y="845" width="150" height="50" fill="#9A3412" rx="2"/>
  <text x="865" y="865" font-family="monospace" font-size="9" fill="#FAFAFA" text-anchor="middle">2. COMMIT returns</text>
  <text x="865" y="880" font-family="monospace" font-size="9" fill="#22C55E" text-anchor="middle">✓ Crash-safe</text>

  <text x="775" y="920" font-family="system-ui, sans-serif" font-size="10" fill="#FED7AA" text-anchor="middle">Even if power fails after COMMIT, data is safe</text>

  <!-- Key insight -->
  <rect x="60" y="980" width="960" height="40" fill="#27272A" rx="8"/>
  <text x="540" y="1007" font-family="system-ui, sans-serif" font-size="14" fill="#A1A1AA" text-anchor="middle">PostgreSQL guarantees all <tspan fill="#7C3AED">A</tspan><tspan fill="#3B82F6">C</tspan><tspan fill="#22C55E">I</tspan><tspan fill="#F97316">D</tspan> properties — choose your isolation level wisely</text>

  <text x="540" y="1050" font-family="system-ui, sans-serif" font-size="14" fill="#52525B" text-anchor="middle">@devweekends</text>
</svg>
