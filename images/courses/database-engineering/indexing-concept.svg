<svg viewBox="0 0 1080 1080" xmlns="http://www.w3.org/2000/svg">
  <rect width="1080" height="1080" fill="#FAFAFA"/>
  
  <!-- Branding -->
  <text x="60" y="80" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="#18181B" letter-spacing="3">DEV WEEKENDS</text>
  
  <!-- Title -->
  <text x="540" y="140" font-family="system-ui, sans-serif" font-size="36" font-weight="700" fill="#18181B" text-anchor="middle">B-Tree Index Deep Dive</text>
  <text x="540" y="175" font-family="system-ui, sans-serif" font-size="18" fill="#71717A" text-anchor="middle">How database indexes achieve O(log n) lookups</text>
  
  <!-- B-Tree Structure -->
  <!-- Root node -->
  <rect x="390" y="220" width="300" height="60" rx="8" fill="#3B82F6"/>
  <text x="420" y="255" font-family="monospace" font-size="14" fill="#FAFAFA">30</text>
  <line x1="450" y1="230" x2="450" y2="270" stroke="#FAFAFA" stroke-width="1"/>
  <text x="500" y="255" font-family="monospace" font-size="14" fill="#FAFAFA">60</text>
  <line x1="550" y1="230" x2="550" y2="270" stroke="#FAFAFA" stroke-width="1"/>
  <text x="600" y="255" font-family="monospace" font-size="14" fill="#FAFAFA">90</text>
  <line x1="650" y1="230" x2="650" y2="270" stroke="#FAFAFA" stroke-width="1"/>
  <text x="540" y="210" font-family="system-ui, sans-serif" font-size="12" fill="#71717A" text-anchor="middle">Root Node</text>
  
  <!-- Arrows from root to level 1 -->
  <path d="M420 280 L220 350" stroke="#71717A" stroke-width="2" fill="none" marker-end="url(#arrow)"/>
  <path d="M500 280 L420 350" stroke="#71717A" stroke-width="2" fill="none" marker-end="url(#arrow)"/>
  <path d="M580 280 L660 350" stroke="#71717A" stroke-width="2" fill="none" marker-end="url(#arrow)"/>
  <path d="M660 280 L860 350" stroke="#71717A" stroke-width="2" fill="none" marker-end="url(#arrow)"/>
  
  <!-- Level 1 nodes -->
  <rect x="100" y="360" width="180" height="50" rx="6" fill="#22C55E"/>
  <text x="130" y="390" font-family="monospace" font-size="12" fill="#FAFAFA">10</text>
  <line x1="160" y1="365" x2="160" y2="405" stroke="#FAFAFA" stroke-width="1"/>
  <text x="195" y="390" font-family="monospace" font-size="12" fill="#FAFAFA">20</text>
  <line x1="230" y1="365" x2="230" y2="405" stroke="#FAFAFA" stroke-width="1"/>
  
  <rect x="320" y="360" width="180" height="50" rx="6" fill="#22C55E"/>
  <text x="350" y="390" font-family="monospace" font-size="12" fill="#FAFAFA">40</text>
  <line x1="380" y1="365" x2="380" y2="405" stroke="#FAFAFA" stroke-width="1"/>
  <text x="415" y="390" font-family="monospace" font-size="12" fill="#FAFAFA">50</text>
  <line x1="450" y1="365" x2="450" y2="405" stroke="#FAFAFA" stroke-width="1"/>
  
  <rect x="580" y="360" width="180" height="50" rx="6" fill="#22C55E"/>
  <text x="610" y="390" font-family="monospace" font-size="12" fill="#FAFAFA">70</text>
  <line x1="640" y1="365" x2="640" y2="405" stroke="#FAFAFA" stroke-width="1"/>
  <text x="675" y="390" font-family="monospace" font-size="12" fill="#FAFAFA">80</text>
  <line x1="710" y1="365" x2="710" y2="405" stroke="#FAFAFA" stroke-width="1"/>
  
  <rect x="800" y="360" width="180" height="50" rx="6" fill="#22C55E"/>
  <text x="830" y="390" font-family="monospace" font-size="12" fill="#FAFAFA">100</text>
  <line x1="870" y1="365" x2="870" y2="405" stroke="#FAFAFA" stroke-width="1"/>
  <text x="910" y="390" font-family="monospace" font-size="12" fill="#FAFAFA">110</text>
  
  <!-- Leaf nodes with linking -->
  <rect x="60" y="480" width="130" height="45" rx="6" fill="#A855F7"/>
  <text x="125" y="507" font-family="monospace" font-size="10" fill="#FAFAFA" text-anchor="middle">5,8 â†’ TIDs</text>
  
  <rect x="210" y="480" width="130" height="45" rx="6" fill="#A855F7"/>
  <text x="275" y="507" font-family="monospace" font-size="10" fill="#FAFAFA" text-anchor="middle">15,18 â†’ TIDs</text>
  
  <rect x="360" y="480" width="130" height="45" rx="6" fill="#A855F7"/>
  <text x="425" y="507" font-family="monospace" font-size="10" fill="#FAFAFA" text-anchor="middle">25,28 â†’ TIDs</text>
  
  <rect x="510" y="480" width="130" height="45" rx="6" fill="#A855F7"/>
  <text x="575" y="507" font-family="monospace" font-size="10" fill="#FAFAFA" text-anchor="middle">35,38 â†’ TIDs</text>
  
  <rect x="660" y="480" width="130" height="45" rx="6" fill="#A855F7"/>
  <text x="725" y="507" font-family="monospace" font-size="10" fill="#FAFAFA" text-anchor="middle">45,48 â†’ TIDs</text>
  
  <rect x="810" y="480" width="130" height="45" rx="6" fill="#A855F7"/>
  <text x="875" y="507" font-family="monospace" font-size="10" fill="#FAFAFA" text-anchor="middle">55,58 â†’ TIDs</text>
  
  <!-- Leaf links -->
  <path d="M190 502 L210 502" stroke="#A855F7" stroke-width="2" fill="none" marker-end="url(#arrow-purple)"/>
  <path d="M340 502 L360 502" stroke="#A855F7" stroke-width="2" fill="none" marker-end="url(#arrow-purple)"/>
  <path d="M490 502 L510 502" stroke="#A855F7" stroke-width="2" fill="none" marker-end="url(#arrow-purple)"/>
  <path d="M640 502 L660 502" stroke="#A855F7" stroke-width="2" fill="none" marker-end="url(#arrow-purple)"/>
  <path d="M790 502 L810 502" stroke="#A855F7" stroke-width="2" fill="none" marker-end="url(#arrow-purple)"/>
  
  <text x="540" y="555" font-family="system-ui, sans-serif" font-size="12" fill="#A855F7" text-anchor="middle">Leaf nodes linked for efficient range scans â†’</text>
  
  <!-- Complexity comparison -->
  <rect x="80" y="590" width="440" height="180" rx="12" fill="#18181B"/>
  <text x="300" y="630" font-family="system-ui, sans-serif" font-size="18" font-weight="600" fill="#FAFAFA" text-anchor="middle">Sequential Scan vs Index Lookup</text>
  
  <rect x="110" y="655" width="180" height="90" rx="8" fill="#EF4444" opacity="0.3"/>
  <text x="200" y="685" font-family="system-ui, sans-serif" font-size="14" fill="#EF4444" text-anchor="middle" font-weight="600">Sequential Scan</text>
  <text x="200" y="710" font-family="monospace" font-size="18" fill="#FAFAFA" text-anchor="middle">O(n)</text>
  <text x="200" y="735" font-family="system-ui, sans-serif" font-size="11" fill="#FAFAFA" text-anchor="middle">10M rows = 10M checks</text>
  
  <rect x="310" y="655" width="180" height="90" rx="8" fill="#22C55E" opacity="0.3"/>
  <text x="400" y="685" font-family="system-ui, sans-serif" font-size="14" fill="#22C55E" text-anchor="middle" font-weight="600">B-Tree Lookup</text>
  <text x="400" y="710" font-family="monospace" font-size="18" fill="#FAFAFA" text-anchor="middle">O(log n)</text>
  <text x="400" y="735" font-family="system-ui, sans-serif" font-size="11" fill="#FAFAFA" text-anchor="middle">10M rows = ~24 checks</text>
  
  <!-- Index types -->
  <rect x="560" y="590" width="440" height="180" rx="12" fill="#3B82F6" opacity="0.1" stroke="#3B82F6" stroke-width="2"/>
  <text x="780" y="625" font-family="system-ui, sans-serif" font-size="18" font-weight="600" fill="#18181B" text-anchor="middle">PostgreSQL Index Types</text>
  
  <text x="590" y="660" font-family="system-ui, sans-serif" font-size="13" fill="#3B82F6" font-weight="600">B-Tree</text>
  <text x="660" y="660" font-family="system-ui, sans-serif" font-size="12" fill="#71717A">= &lt; &gt; â‰¤ â‰¥ BETWEEN (Default)</text>
  
  <text x="590" y="690" font-family="system-ui, sans-serif" font-size="13" fill="#22C55E" font-weight="600">Hash</text>
  <text x="660" y="690" font-family="system-ui, sans-serif" font-size="12" fill="#71717A">= only (exact match)</text>
  
  <text x="590" y="720" font-family="system-ui, sans-serif" font-size="13" fill="#A855F7" font-weight="600">GIN</text>
  <text x="660" y="720" font-family="system-ui, sans-serif" font-size="12" fill="#71717A">Arrays, JSONB, Full-text</text>
  
  <text x="590" y="750" font-family="system-ui, sans-serif" font-size="13" fill="#EF4444" font-weight="600">BRIN</text>
  <text x="660" y="750" font-family="system-ui, sans-serif" font-size="12" fill="#71717A">Time-series, append-only</text>
  
  <!-- Leftmost prefix rule -->
  <rect x="80" y="800" width="920" height="120" rx="12" fill="#A855F7" opacity="0.1" stroke="#A855F7" stroke-width="2"/>
  <text x="540" y="835" font-family="system-ui, sans-serif" font-size="18" font-weight="600" fill="#A855F7" text-anchor="middle">Composite Index: Leftmost Prefix Rule</text>
  
  <text x="120" y="870" font-family="monospace" font-size="14" fill="#18181B">CREATE INDEX idx ON orders(user_id, status, created_at);</text>
  
  <text x="160" y="905" font-family="system-ui, sans-serif" font-size="13" fill="#22C55E">âœ“ (user_id)</text>
  <text x="310" y="905" font-family="system-ui, sans-serif" font-size="13" fill="#22C55E">âœ“ (user_id, status)</text>
  <text x="520" y="905" font-family="system-ui, sans-serif" font-size="13" fill="#22C55E">âœ“ (user_id, status, created_at)</text>
  <text x="780" y="905" font-family="system-ui, sans-serif" font-size="13" fill="#EF4444">âœ— (status)</text>
  <text x="880" y="905" font-family="system-ui, sans-serif" font-size="13" fill="#EF4444">âœ— (created_at)</text>
  
  <!-- Key insight -->
  <rect x="80" y="940" width="920" height="60" rx="12" fill="#22C55E" opacity="0.1" stroke="#22C55E" stroke-width="2"/>
  <text x="120" y="975" font-family="system-ui, sans-serif" font-size="16" fill="#22C55E" font-weight="600">ðŸ’¡ Key Rule:</text>
  <text x="260" y="975" font-family="system-ui, sans-serif" font-size="15" fill="#18181B">Composite indexes work left-to-right. Skipping columns breaks the index. Order columns by selectivity!</text>
  
  <!-- Arrow markers -->
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#71717A"/>
    </marker>
    <marker id="arrow-purple" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#A855F7"/>
    </marker>
  </defs>
  
  <!-- Footer -->
  <text x="540" y="1040" font-family="system-ui, sans-serif" font-size="14" fill="#71717A" text-anchor="middle">@devweekends</text>
</svg>