<svg width="1080" height="1080" viewBox="0 0 1080 1080" fill="none" xmlns="http://www.w3.org/2000/svg">
  <rect width="1080" height="1080" fill="#18181B"/>
  
  <text x="60" y="80" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="#FAFAFA" letter-spacing="3">DEV WEEKENDS</text>
  
  <rect x="60" y="140" width="260" height="40" fill="#0EA5E9"/>
  <text x="190" y="168" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#FAFAFA" text-anchor="middle" letter-spacing="2">DATABASE ENGINEERING</text>
  
  <text x="60" y="280" font-family="system-ui, sans-serif" font-size="48" font-weight="700" fill="#FAFAFA">MVCC</text>
  <text x="60" y="340" font-family="system-ui, sans-serif" font-size="48" font-weight="700" fill="#0EA5E9">Explained</text>
  
  <text x="60" y="400" font-family="system-ui, sans-serif" font-size="18" fill="#A1A1AA">Multi-Version Concurrency Control</text>
  
  <!-- Main diagram area -->
  <rect x="60" y="440" width="960" height="520" fill="#27272A" rx="8"/>
  
  <!-- Timeline -->
  <text x="100" y="480" font-family="system-ui, sans-serif" font-size="16" font-weight="600" fill="#FAFAFA">Transaction Timeline</text>
  
  <line x1="100" y1="510" x2="900" y2="510" stroke="#52525B" stroke-width="2"/>
  
  <!-- T1 starts -->
  <circle cx="200" cy="510" r="6" fill="#22C55E"/>
  <text x="200" y="535" font-family="system-ui, sans-serif" font-size="11" fill="#22C55E" text-anchor="middle">T1 starts</text>
  <text x="200" y="550" font-family="monospace" font-size="9" fill="#71717A" text-anchor="middle">t=100</text>
  
  <!-- T2 starts -->
  <circle cx="400" cy="510" r="6" fill="#3B82F6"/>
  <text x="400" y="535" font-family="system-ui, sans-serif" font-size="11" fill="#3B82F6" text-anchor="middle">T2 starts</text>
  <text x="400" y="550" font-family="monospace" font-size="9" fill="#71717A" text-anchor="middle">t=200</text>
  
  <!-- T1 commits -->
  <circle cx="600" cy="510" r="6" fill="#22C55E"/>
  <text x="600" y="535" font-family="system-ui, sans-serif" font-size="11" fill="#22C55E" text-anchor="middle">T1 commits</text>
  <text x="600" y="550" font-family="monospace" font-size="9" fill="#71717A" text-anchor="middle">t=300</text>
  
  <!-- T2 commits -->
  <circle cx="800" cy="510" r="6" fill="#3B82F6"/>
  <text x="800" y="535" font-family="system-ui, sans-serif" font-size="11" fill="#3B82F6" text-anchor="middle">T2 commits</text>
  <text x="800" y="550" font-family="monospace" font-size="9" fill="#71717A" text-anchor="middle">t=400</text>
  
  <!-- Row Versions -->
  <text x="100" y="600" font-family="system-ui, sans-serif" font-size="16" font-weight="600" fill="#FAFAFA">Row Versions (users table, id=1)</text>
  
  <!-- Version 1 -->
  <rect x="100" y="620" width="380" height="120" fill="#14532D" rx="8"/>
  <text x="290" y="645" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="#22C55E" text-anchor="middle">Version 1</text>
  
  <text x="120" y="675" font-family="system-ui, sans-serif" font-size="12" fill="#BBF7D0">Data:</text>
  <rect x="170" y="660" width="290" height="25" fill="#166534" rx="4"/>
  <text x="315" y="678" font-family="monospace" font-size="11" fill="#FAFAFA" text-anchor="middle">{name: "Alice", age: 25}</text>
  
  <text x="120" y="710" font-family="monospace" font-size="11" fill="#BBF7D0">xmin: 100</text>
  <text x="250" y="710" font-family="system-ui, sans-serif" font-size="9" fill="#71717A">(created by T1)</text>
  
  <text x="120" y="730" font-family="monospace" font-size="11" fill="#EF4444">xmax: 300</text>
  <text x="250" y="730" font-family="system-ui, sans-serif" font-size="9" fill="#71717A">(updated by T1)</text>
  
  <!-- Version 2 -->
  <rect x="520" y="620" width="380" height="120" fill="#1E3A8A" rx="8"/>
  <text x="710" y="645" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="#3B82F6" text-anchor="middle">Version 2 (current)</text>
  
  <text x="540" y="675" font-family="system-ui, sans-serif" font-size="12" fill="#93C5FD">Data:</text>
  <rect x="590" y="660" width="290" height="25" fill="#1E40AF" rx="4"/>
  <text x="735" y="678" font-family="monospace" font-size="11" fill="#FAFAFA" text-anchor="middle">{name: "Alice", age: 26}</text>
  
  <text x="540" y="710" font-family="monospace" font-size="11" fill="#93C5FD">xmin: 300</text>
  <text x="670" y="710" font-family="system-ui, sans-serif" font-size="9" fill="#71717A">(created by T1)</text>
  
  <text x="540" y="730" font-family="monospace" font-size="11" fill="#22C55E">xmax: ∞</text>
  <text x="670" y="730" font-family="system-ui, sans-serif" font-size="9" fill="#71717A">(still active)</text>
  
  <!-- Visibility Rules -->
  <text x="100" y="780" font-family="system-ui, sans-serif" font-size="16" font-weight="600" fill="#FAFAFA">Visibility Rules</text>
  
  <rect x="100" y="795" width="800" height="60" fill="#3F3F46" rx="8"/>
  
  <circle cx="120" cy="815" r="4" fill="#3B82F6"/>
  <text x="135" y="820" font-family="system-ui, sans-serif" font-size="12" fill="#FAFAFA">T2 (snapshot at t=200) sees Version 1</text>
  <text x="135" y="835" font-family="system-ui, sans-serif" font-size="10" fill="#71717A">Because xmin=100 &lt; 200 and xmax=300 &gt; 200</text>
  
  <circle cx="120" cy="850" r="4" fill="#22C55E"/>
  <text x="135" y="855" font-family="system-ui, sans-serif" font-size="12" fill="#FAFAFA">New transactions (t&gt;300) see Version 2</text>
  
  <!-- Benefits -->
  <text x="100" y="890" font-family="system-ui, sans-serif" font-size="16" font-weight="600" fill="#FAFAFA">Key Benefits</text>
  
  <rect x="100" y="905" width="280" height="40" fill="#14532D" rx="4"/>
  <text x="240" y="930" font-family="system-ui, sans-serif" font-size="13" fill="#22C55E" text-anchor="middle">✓ Readers don't block writers</text>
  
  <rect x="400" y="905" width="250" height="40" fill="#1E3A8A" rx="4"/>
  <text x="525" y="930" font-family="system-ui, sans-serif" font-size="13" fill="#3B82F6" text-anchor="middle">✓ Writers don't block readers</text>
  
  <rect x="670" y="905" width="230" height="40" fill="#7C2D12" rx="4"/>
  <text x="785" y="930" font-family="system-ui, sans-serif" font-size="13" fill="#F97316" text-anchor="middle">✓ Snapshot isolation</text>
  
  <!-- Key insight -->
  <rect x="60" y="980" width="960" height="40" fill="#27272A" rx="8"/>
  <text x="540" y="1007" font-family="system-ui, sans-serif" font-size="14" fill="#A1A1AA" text-anchor="middle">No locks needed for reads! Each transaction sees a <tspan fill="#0EA5E9">consistent snapshot</tspan> of the database</text>
  
  <text x="540" y="1050" font-family="system-ui, sans-serif" font-size="14" fill="#52525B" text-anchor="middle">@devweekends</text>
</svg>
