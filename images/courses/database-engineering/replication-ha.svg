<svg width="1080" height="1080" viewBox="0 0 1080 1080" fill="none" xmlns="http://www.w3.org/2000/svg">
  <rect width="1080" height="1080" fill="#18181B"/>

  <text x="60" y="80" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="#FAFAFA" letter-spacing="3">DEV WEEKENDS</text>

  <rect x="60" y="140" width="260" height="40" fill="#0EA5E9"/>
  <text x="190" y="168" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#FAFAFA" text-anchor="middle" letter-spacing="2">DATABASE ENGINEERING</text>

  <text x="60" y="280" font-family="system-ui, sans-serif" font-size="48" font-weight="700" fill="#FAFAFA">Replication &amp;</text>
  <text x="60" y="340" font-family="system-ui, sans-serif" font-size="48" font-weight="700" fill="#0EA5E9">High Availability</text>

  <text x="60" y="400" font-family="system-ui, sans-serif" font-size="18" fill="#A1A1AA">Common PostgreSQL topologies and trade-offs</text>

  <rect x="60" y="440" width="960" height="520" fill="#27272A" rx="8"/>

  <!-- Single primary + replicas -->
  <text x="150" y="480" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="#E5E5E5">Single Primary</text>
  <text x="150" y="502" font-family="system-ui, sans-serif" font-size="11" fill="#A1A1AA">Async read replicas</text>

  <rect x="90" y="510" width="220" height="190" fill="#0F172A" rx="8"/>

  <rect x="165" y="540" width="70" height="40" fill="#22C55E" rx="4"/>
  <text x="200" y="565" font-family="system-ui, sans-serif" font-size="11" fill="#FAFAFA" text-anchor="middle">Primary</text>

  <rect x="110" y="610" width="70" height="40" fill="#0EA5E9" rx="4"/>
  <text x="145" y="635" font-family="system-ui, sans-serif" font-size="10" fill="#FAFAFA" text-anchor="middle">Replica</text>
  <rect x="205" y="610" width="70" height="40" fill="#0EA5E9" rx="4"/>
  <text x="240" y="635" font-family="system-ui, sans-serif" font-size="10" fill="#FAFAFA" text-anchor="middle">Replica</text>

  <line x1="200" y1="580" x2="145" y2="610" stroke="#22C55E" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="200" y1="580" x2="240" y2="610" stroke="#22C55E" stroke-width="2" marker-end="url(#arrow)"/>

  <text x="200" y="710" font-family="system-ui, sans-serif" font-size="10" fill="#A1A1AA" text-anchor="middle">Simple, read scaling, async lag</text>

  <!-- Sync vs async -->
  <text x="440" y="480" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="#E5E5E5">Sync vs Async</text>
  <text x="440" y="502" font-family="system-ui, sans-serif" font-size="11" fill="#A1A1AA">Durability vs latency</text>

  <rect x="370" y="510" width="320" height="190" fill="#0F172A" rx="8"/>

  <!-- Async -->
  <rect x="390" y="540" width="80" height="35" fill="#22C55E" rx="4"/>
  <text x="430" y="562" font-family="system-ui, sans-serif" font-size="11" fill="#FAFAFA" text-anchor="middle">Primary</text>
  <rect x="510" y="540" width="80" height="35" fill="#0EA5E9" rx="4"/>
  <text x="550" y="562" font-family="system-ui, sans-serif" font-size="11" fill="#FAFAFA" text-anchor="middle">Replica</text>
  <line x1="470" y1="558" x2="510" y2="558" stroke="#22C55E" stroke-width="2" marker-end="url(#arrow)" stroke-dasharray="4,4"/>
  <text x="470" y="535" font-family="system-ui, sans-serif" font-size="9" fill="#F97316" text-anchor="middle">async</text>

  <!-- Sync -->
  <rect x="390" y="610" width="80" height="35" fill="#22C55E" rx="4"/>
  <text x="430" y="632" font-family="system-ui, sans-serif" font-size="11" fill="#FAFAFA" text-anchor="middle">Primary</text>
  <rect x="510" y="610" width="80" height="35" fill="#0EA5E9" rx="4"/>
  <text x="550" y="632" font-family="system-ui, sans-serif" font-size="11" fill="#FAFAFA" text-anchor="middle">Replica</text>
  <line x1="470" y1="628" x2="510" y2="628" stroke="#22C55E" stroke-width="2" marker-end="url(#arrow)"/>
  <text x="470" y="605" font-family="system-ui, sans-serif" font-size="9" fill="#22C55E" text-anchor="middle">sync</text>

  <text x="530" y="690" font-family="system-ui, sans-serif" font-size="10" fill="#A1A1AA" text-anchor="middle">Async: better latency, risk data loss</text>
  <text x="530" y="708" font-family="system-ui, sans-serif" font-size="10" fill="#A1A1AA" text-anchor="middle">Sync: stronger guarantees, higher latency</text>

  <!-- Logical replication -->
  <text x="830" y="480" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="#E5E5E5">Logical Replication</text>
  <text x="830" y="502" font-family="system-ui, sans-serif" font-size="11" fill="#A1A1AA">Publications &amp; subscriptions</text>

  <rect x="710" y="510" width="310" height="190" fill="#0F172A" rx="8"/>

  <rect x="730" y="545" width="105" height="40" fill="#22C55E" rx="4"/>
  <text x="782" y="568" font-family="system-ui, sans-serif" font-size="11" fill="#FAFAFA" text-anchor="middle">Publisher</text>

  <rect x="900" y="545" width="95" height="40" fill="#0EA5E9" rx="4"/>
  <text x="948" y="568" font-family="system-ui, sans-serif" font-size="11" fill="#FAFAFA" text-anchor="middle">Subscriber</text>

  <line x1="835" y1="565" x2="900" y2="565" stroke="#22C55E" stroke-width="2" marker-end="url(#arrow)"/>
  <text x="870" y="545" font-family="system-ui, sans-serif" font-size="9" fill="#F97316" text-anchor="middle">WAL stream</text>

  <text x="865" y="610" font-family="system-ui, sans-serif" font-size="10" fill="#A1A1AA" text-anchor="middle">• Cross-version upgrades</text>
  <text x="865" y="628" font-family="system-ui, sans-serif" font-size="10" fill="#A1A1AA" text-anchor="middle">• Partial table replication</text>

  <!-- Summary bullets -->
  <rect x="90" y="740" width="930" height="190" fill="#18181B" rx="8"/>
  <text x="555" y="775" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="#0EA5E9" text-anchor="middle">Design Checklist</text>

  <text x="120" y="810" font-family="system-ui, sans-serif" font-size="11" fill="#E5E5E5">• Define RPO/RTO first (how much data &amp; downtime can you afford?)</text>
  <text x="120" y="835" font-family="system-ui, sans-serif" font-size="11" fill="#E5E5E5">• Use sync replica for critical data, async for extra read scaling</text>
  <text x="120" y="860" font-family="system-ui, sans-serif" font-size="11" fill="#E5E5E5">• Combine with connection pooling and health checks</text>

  <text x="120" y="885" font-family="system-ui, sans-serif" font-size="11" fill="#A1A1AA">• Automate failover carefully to avoid split-brain</text>

  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#22C55E"/>
    </marker>
  </defs>

  <text x="540" y="1040" font-family="system-ui, sans-serif" font-size="14" fill="#52525B" text-anchor="middle">@devweekends</text>
</svg>