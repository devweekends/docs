<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 650">
  <defs>
    <style>
      .bg { fill: #1e1e1e; }
      .tx-bg { fill: #2d2d2d; stroke: #3b82f6; stroke-width: 2; }
      .tx-header { fill: #3b82f6; }
      .timeline { stroke: #6b7280; stroke-width: 2; }
      .op-text { font-family: 'Consolas', monospace; font-size: 14px; fill: #d1d5db; }
      .title { font-family: 'Segoe UI', sans-serif; font-size: 16px; font-weight: bold; fill: #e5e7eb; }
      .anomaly { stroke: #ef4444; stroke-width: 2; stroke-dasharray: 5,5; fill: none; }
      .anomaly-text { font-family: 'Segoe UI', sans-serif; font-size: 14px; fill: #ef4444; font-weight: bold; }
      .value-box { fill: #374151; stroke: #4b5563; }
      .brand-text { font-family: system-ui, sans-serif; fill: #FAFAFA; }
      .brand-sub { font-family: system-ui, sans-serif; fill: #FAFAFA; font-weight: 600; text-anchor: middle; letter-spacing: 2px; font-size: 12px; }
      .footer-text { font-family: system-ui, sans-serif; fill: #52525B; text-anchor: middle; font-size: 14px; }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#6b7280" />
    </marker>
    <marker id="arrowhead-red" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#ef4444" />
    </marker>
  </defs>

  <!-- Background -->
  <rect width="800" height="650" fill="#1e1e1e"/>

  <!-- Branding Header -->
  <text x="50" y="50" class="brand-text" font-size="14" font-weight="600" letter-spacing="3px">DEV WEEKENDS</text>
  <rect x="50" y="70" width="220" height="30" fill="#F97316" rx="2"/>
  <text x="160" y="90" class="brand-sub">DATABASE ENGINEERING</text>
  
  <!-- Diagram Title -->
  <text x="50" y="140" class="brand-text" font-size="24" font-weight="700">Isolation Anomalies</text>

  <!-- Main Content -->
  <g transform="translate(0, 150)">
      <!-- Dirty Read Example -->
      <g transform="translate(50, 50)">
        <text x="150" y="-20" text-anchor="middle" class="title">Dirty Read (Read Uncommitted)</text>
        
        <!-- Transaction A -->
        <rect x="0" y="0" width="120" height="200" rx="4" class="tx-bg" />
        <rect x="0" y="0" width="120" height="30" rx="4" class="tx-header" />
        <text x="60" y="20" text-anchor="middle" fill="white" font-weight="bold">Tx A</text>
        
        <!-- Transaction B -->
        <rect x="180" y="0" width="120" height="200" rx="4" class="tx-bg" />
        <rect x="180" y="0" width="120" height="30" rx="4" class="tx-header" />
        <text x="240" y="20" text-anchor="middle" fill="white" font-weight="bold">Tx B</text>

        <!-- Timeline -->
        <line x1="150" y1="40" x2="150" y2="220" class="timeline" marker-end="url(#arrowhead)" />

        <!-- Operations -->
        <text x="60" y="60" text-anchor="middle" class="op-text">UPDATE x=50</text>
        <text x="240" y="90" text-anchor="middle" class="op-text">SELECT x</text>
        <text x="240" y="110" text-anchor="middle" class="op-text" fill="#ef4444">Reads 50!</text>
        <text x="60" y="140" text-anchor="middle" class="op-text">ROLLBACK</text>
        <text x="240" y="170" text-anchor="middle" class="op-text">Uses 50...</text>

        <!-- Anomaly Arrow -->
        <path d="M120, 60 L180, 90" class="anomaly" marker-end="url(#arrowhead-red)" />
      </g>

      <!-- Non-Repeatable Read Example -->
      <g transform="translate(450, 50)">
        <text x="150" y="-20" text-anchor="middle" class="title">Non-Repeatable Read (Read Committed)</text>
        
        <!-- Transaction A -->
        <rect x="0" y="0" width="120" height="200" rx="4" class="tx-bg" />
        <rect x="0" y="0" width="120" height="30" rx="4" class="tx-header" />
        <text x="60" y="20" text-anchor="middle" fill="white" font-weight="bold">Tx A</text>
        
        <!-- Transaction B -->
        <rect x="180" y="0" width="120" height="200" rx="4" class="tx-bg" />
        <rect x="180" y="0" width="120" height="30" rx="4" class="tx-header" />
        <text x="240" y="20" text-anchor="middle" fill="white" font-weight="bold">Tx B</text>

        <!-- Timeline -->
        <line x1="150" y1="40" x2="150" y2="220" class="timeline" marker-end="url(#arrowhead)" />

        <!-- Operations -->
        <text x="60" y="60" text-anchor="middle" class="op-text">SELECT x</text>
        <text x="60" y="80" text-anchor="middle" class="op-text">Reads 10</text>
        
        <text x="240" y="100" text-anchor="middle" class="op-text">UPDATE x=20</text>
        <text x="240" y="120" text-anchor="middle" class="op-text">COMMIT</text>
        
        <text x="60" y="150" text-anchor="middle" class="op-text">SELECT x</text>
        <text x="60" y="170" text-anchor="middle" class="op-text" fill="#ef4444">Reads 20!</text>

        <!-- Anomaly Arrow -->
        <path d="M180, 120 L120, 150" class="anomaly" marker-end="url(#arrowhead-red)" />
      </g>

      <!-- Phantom Read Example -->
      <g transform="translate(250, 280)">
        <text x="150" y="-20" text-anchor="middle" class="title">Phantom Read (Repeatable Read)</text>
        
        <!-- Transaction A -->
        <rect x="0" y="0" width="120" height="200" rx="4" class="tx-bg" />
        <rect x="0" y="0" width="120" height="30" rx="4" class="tx-header" />
        <text x="60" y="20" text-anchor="middle" fill="white" font-weight="bold">Tx A</text>
        
        <!-- Transaction B -->
        <rect x="180" y="0" width="120" height="200" rx="4" class="tx-bg" />
        <rect x="180" y="0" width="120" height="30" rx="4" class="tx-header" />
        <text x="240" y="20" text-anchor="middle" fill="white" font-weight="bold">Tx B</text>

        <!-- Timeline -->
        <line x1="150" y1="40" x2="150" y2="220" class="timeline" marker-end="url(#arrowhead)" />

        <!-- Operations -->
        <text x="60" y="60" text-anchor="middle" class="op-text">SELECT count(*)</text>
        <text x="60" y="80" text-anchor="middle" class="op-text">Returns 5</text>
        
        <text x="240" y="100" text-anchor="middle" class="op-text">INSERT ...</text>
        <text x="240" y="120" text-anchor="middle" class="op-text">COMMIT</text>
        
        <text x="60" y="150" text-anchor="middle" class="op-text">SELECT count(*)</text>
        <text x="60" y="170" text-anchor="middle" class="op-text" fill="#ef4444">Returns 6!</text>

        <!-- Anomaly Arrow -->
        <path d="M180, 120 L120, 150" class="anomaly" marker-end="url(#arrowhead-red)" />
      </g>
  </g>

  <!-- Footer Branding -->
  <text x="400" y="630" class="footer-text">@devweekends</text>

</svg>
