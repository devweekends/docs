<svg width="1080" height="1080" viewBox="0 0 1080 1080" fill="none" xmlns="http://www.w3.org/2000/svg">
  <rect width="1080" height="1080" fill="#18181B"/>
  
  <text x="60" y="80" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="#FAFAFA" letter-spacing="3">DEV WEEKENDS</text>
  
  <rect x="60" y="140" width="220" height="40" fill="#F97316"/>
  <text x="170" y="168" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#FAFAFA" text-anchor="middle" letter-spacing="2">LINUX INTERNALS</text>
  
  <text x="60" y="280" font-family="system-ui, sans-serif" font-size="48" font-weight="700" fill="#FAFAFA">eBPF</text>
  <text x="60" y="340" font-family="system-ui, sans-serif" font-size="48" font-weight="700" fill="#F97316">Architecture</text>
  
  <text x="60" y="400" font-family="system-ui, sans-serif" font-size="18" fill="#A1A1AA">Safe kernel programmability for observability</text>
  
  <!-- Main diagram area -->
  <rect x="60" y="440" width="960" height="520" fill="#27272A" rx="8"/>
  
  <!-- User Space -->
  <rect x="100" y="470" width="880" height="140" fill="#1E3A8A" rx="8"/>
  <text x="540" y="500" font-family="system-ui, sans-serif" font-size="16" font-weight="700" fill="#FAFAFA" text-anchor="middle">USER SPACE</text>
  
  <rect x="130" y="520" width="140" height="70" fill="#1E40AF" rx="4"/>
  <text x="200" y="545" font-family="system-ui, sans-serif" font-size="12" fill="#FAFAFA" text-anchor="middle">BPF Program</text>
  <text x="200" y="560" font-family="system-ui, sans-serif" font-size="10" fill="#93C5FD" text-anchor="middle">(C code)</text>
  <text x="200" y="580" font-family="monospace" font-size="9" fill="#E5E5E5" text-anchor="middle">bpftrace</text>
  
  <rect x="300" y="520" width="140" height="70" fill="#1E40AF" rx="4"/>
  <text x="370" y="545" font-family="system-ui, sans-serif" font-size="12" fill="#FAFAFA" text-anchor="middle">Compiler</text>
  <text x="370" y="560" font-family="system-ui, sans-serif" font-size="10" fill="#93C5FD" text-anchor="middle">(LLVM/Clang)</text>
  <text x="370" y="580" font-family="monospace" font-size="9" fill="#E5E5E5" text-anchor="middle">→ BPF bytecode</text>
  
  <rect x="470" y="520" width="140" height="70" fill="#1E40AF" rx="4"/>
  <text x="540" y="545" font-family="system-ui, sans-serif" font-size="12" fill="#FAFAFA" text-anchor="middle">Loader</text>
  <text x="540" y="560" font-family="system-ui, sans-serif" font-size="10" fill="#93C5FD" text-anchor="middle">(libbpf)</text>
  <text x="540" y="580" font-family="monospace" font-size="9" fill="#E5E5E5" text-anchor="middle">bpf() syscall</text>
  
  <rect x="640" y="520" width="140" height="70" fill="#1E40AF" rx="4"/>
  <text x="710" y="545" font-family="system-ui, sans-serif" font-size="12" fill="#FAFAFA" text-anchor="middle">User Tools</text>
  <text x="710" y="565" font-family="monospace" font-size="9" fill="#E5E5E5" text-anchor="middle">bpftool</text>
  <text x="710" y="580" font-family="monospace" font-size="9" fill="#E5E5E5" text-anchor="middle">perf</text>
  
  <rect x="810" y="520" width="140" height="70" fill="#1E40AF" rx="4"/>
  <text x="880" y="545" font-family="system-ui, sans-serif" font-size="12" fill="#FAFAFA" text-anchor="middle">BPF Maps</text>
  <text x="880" y="560" font-family="system-ui, sans-serif" font-size="10" fill="#93C5FD" text-anchor="middle">(Data exchange)</text>
  <text x="880" y="580" font-family="monospace" font-size="9" fill="#E5E5E5" text-anchor="middle">hash, array, ring</text>
  
  <!-- Syscall boundary -->
  <rect x="100" y="620" width="880" height="30" fill="#F59E0B" rx="4"/>
  <text x="540" y="640" font-family="system-ui, sans-serif" font-size="13" font-weight="600" fill="#FAFAFA" text-anchor="middle">SYSTEM CALL BOUNDARY (bpf syscall)</text>
  
  <!-- Kernel Space -->
  <rect x="100" y="660" width="880" height="270" fill="#166534" rx="8"/>
  <text x="540" y="690" font-family="system-ui, sans-serif" font-size="16" font-weight="700" fill="#FAFAFA" text-anchor="middle">KERNEL SPACE</text>
  
  <!-- Verifier -->
  <rect x="130" y="710" width="180" height="90" fill="#14532D" rx="4"/>
  <text x="220" y="735" font-family="system-ui, sans-serif" font-size="13" font-weight="600" fill="#FAFAFA" text-anchor="middle">BPF Verifier</text>
  <text x="220" y="755" font-family="system-ui, sans-serif" font-size="9" fill="#BBF7D0" text-anchor="middle">Safety checks:</text>
  <text x="150" y="770" font-family="system-ui, sans-serif" font-size="8" fill="#E5E5E5">• No infinite loops</text>
  <text x="150" y="782" font-family="system-ui, sans-serif" font-size="8" fill="#E5E5E5">• Bounded memory</text>
  <text x="150" y="794" font-family="system-ui, sans-serif" font-size="8" fill="#E5E5E5">• No kernel crashes</text>
  
  <!-- JIT Compiler -->
  <rect x="330" y="710" width="180" height="90" fill="#14532D" rx="4"/>
  <text x="420" y="735" font-family="system-ui, sans-serif" font-size="13" font-weight="600" fill="#FAFAFA" text-anchor="middle">JIT Compiler</text>
  <text x="420" y="755" font-family="system-ui, sans-serif" font-size="9" fill="#BBF7D0" text-anchor="middle">Bytecode → Native</text>
  <text x="350" y="770" font-family="monospace" font-size="8" fill="#E5E5E5">BPF bytecode</text>
  <text x="420" y="782" font-family="system-ui, sans-serif" font-size="10" fill="#22C55E">↓</text>
  <text x="350" y="794" font-family="monospace" font-size="8" fill="#E5E5E5">x86-64 machine code</text>
  
  <!-- Attach Points -->
  <rect x="530" y="710" width="180" height="90" fill="#14532D" rx="4"/>
  <text x="620" y="735" font-family="system-ui, sans-serif" font-size="13" font-weight="600" fill="#FAFAFA" text-anchor="middle">Attach Points</text>
  <text x="550" y="755" font-family="monospace" font-size="8" fill="#E5E5E5">• kprobes</text>
  <text x="550" y="767" font-family="monospace" font-size="8" fill="#E5E5E5">• tracepoints</text>
  <text x="550" y="779" font-family="monospace" font-size="8" fill="#E5E5E5">• XDP (networking)</text>
  <text x="550" y="791" font-family="monospace" font-size="8" fill="#E5E5E5">• TC (traffic control)</text>
  
  <!-- Helper Functions -->
  <rect x="730" y="710" width="220" height="90" fill="#14532D" rx="4"/>
  <text x="840" y="735" font-family="system-ui, sans-serif" font-size="13" font-weight="600" fill="#FAFAFA" text-anchor="middle">Helper Functions</text>
  <text x="750" y="755" font-family="monospace" font-size="8" fill="#E5E5E5">bpf_probe_read()</text>
  <text x="750" y="767" font-family="monospace" font-size="8" fill="#E5E5E5">bpf_get_current_pid()</text>
  <text x="750" y="779" font-family="monospace" font-size="8" fill="#E5E5E5">bpf_map_lookup_elem()</text>
  <text x="750" y="791" font-family="monospace" font-size="8" fill="#E5E5E5">bpf_trace_printk()</text>
  
  <!-- Execution -->
  <rect x="130" y="820" width="820" height="90" fill="#14532D" rx="4"/>
  <text x="540" y="845" font-family="system-ui, sans-serif" font-size="13" font-weight="600" fill="#FAFAFA" text-anchor="middle">BPF Program Execution</text>
  
  <rect x="160" y="860" width="140" height="35" fill="#166534" rx="4"/>
  <text x="230" y="882" font-family="system-ui, sans-serif" font-size="10" fill="#FAFAFA" text-anchor="middle">Event Triggered</text>
  
  <text x="310" y="880" font-family="system-ui, sans-serif" font-size="14" fill="#22C55E">→</text>
  
  <rect x="330" y="860" width="140" height="35" fill="#166534" rx="4"/>
  <text x="400" y="882" font-family="system-ui, sans-serif" font-size="10" fill="#FAFAFA" text-anchor="middle">Run BPF Code</text>
  
  <text x="480" y="880" font-family="system-ui, sans-serif" font-size="14" fill="#22C55E">→</text>
  
  <rect x="500" y="860" width="140" height="35" fill="#166534" rx="4"/>
  <text x="570" y="882" font-family="system-ui, sans-serif" font-size="10" fill="#FAFAFA" text-anchor="middle">Update Maps</text>
  
  <text x="650" y="880" font-family="system-ui, sans-serif" font-size="14" fill="#22C55E">→</text>
  
  <rect x="670" y="860" width="140" height="35" fill="#166534" rx="4"/>
  <text x="740" y="882" font-family="system-ui, sans-serif" font-size="10" fill="#FAFAFA" text-anchor="middle">Return to Kernel</text>
  
  <!-- Use Cases -->
  <rect x="100" y="945" width="880" height="15" fill="#3F3F46" rx="4"/>
  <text x="540" y="957" font-family="system-ui, sans-serif" font-size="10" fill="#A1A1AA" text-anchor="middle">Use Cases: Tracing, Profiling, Networking (XDP), Security (LSM), Monitoring</text>
  
  <!-- Key insight -->
  <rect x="60" y="980" width="960" height="40" fill="#27272A" rx="8"/>
  <text x="540" y="1007" font-family="system-ui, sans-serif" font-size="14" fill="#A1A1AA" text-anchor="middle">eBPF = <tspan fill="#F97316">Safe</tspan> + <tspan fill="#22C55E">Fast</tspan> + <tspan fill="#3B82F6">Powerful</tspan> kernel programming without kernel modules</text>
  
  <text x="540" y="1050" font-family="system-ui, sans-serif" font-size="14" fill="#52525B" text-anchor="middle">@devweekends</text>
</svg>
