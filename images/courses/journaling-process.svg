<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 400">
  <!-- Background -->
  <rect width="800" height="400" fill="#1e1e1e" />
  
  <!-- Title -->
  <text x="400" y="40" font-family="Arial, sans-serif" font-size="24" fill="#ffffff" text-anchor="middle" font-weight="bold">Journaling Process</text>
  
  <!-- Steps -->
  <g transform="translate(50, 100)">
    <!-- Step 1: Journal Write -->
    <rect x="0" y="0" width="180" height="100" fill="#2d2d2d" stroke="#FFC107" stroke-width="2" rx="10" />
    <text x="90" y="30" font-family="Arial, sans-serif" font-size="16" fill="#FFC107" text-anchor="middle" font-weight="bold">1. Log</text>
    <text x="90" y="60" font-family="Arial, sans-serif" font-size="12" fill="#ccc" text-anchor="middle">Write transaction</text>
    <text x="90" y="80" font-family="Arial, sans-serif" font-size="12" fill="#ccc" text-anchor="middle">to Journal</text>
    
    <!-- Step 2: Commit -->
    <rect x="250" y="0" width="180" height="100" fill="#2d2d2d" stroke="#4CAF50" stroke-width="2" rx="10" />
    <text x="340" y="30" font-family="Arial, sans-serif" font-size="16" fill="#4CAF50" text-anchor="middle" font-weight="bold">2. Commit</text>
    <text x="340" y="60" font-family="Arial, sans-serif" font-size="12" fill="#ccc" text-anchor="middle">Write commit block</text>
    <text x="340" y="80" font-family="Arial, sans-serif" font-size="12" fill="#ccc" text-anchor="middle">(Atomic Point)</text>
    
    <!-- Step 3: Checkpoint -->
    <rect x="500" y="0" width="180" height="100" fill="#2d2d2d" stroke="#2196F3" stroke-width="2" rx="10" />
    <text x="590" y="30" font-family="Arial, sans-serif" font-size="16" fill="#2196F3" text-anchor="middle" font-weight="bold">3. Checkpoint</text>
    <text x="590" y="60" font-family="Arial, sans-serif" font-size="12" fill="#ccc" text-anchor="middle">Write to final</text>
    <text x="590" y="80" font-family="Arial, sans-serif" font-size="12" fill="#ccc" text-anchor="middle">disk location</text>
  </g>

  <!-- Arrows -->
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="0" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#ffffff" />
    </marker>
  </defs>
  
  <line x1="230" y1="150" x2="300" y2="150" stroke="#fff" stroke-width="2" marker-end="url(#arrow)" />
  <line x1="480" y1="150" x2="550" y2="150" stroke="#fff" stroke-width="2" marker-end="url(#arrow)" />

  <!-- Crash Scenarios -->
  <g transform="translate(50, 250)">
    <text x="0" y="20" font-family="Arial, sans-serif" font-size="14" fill="#F44336" font-weight="bold">Crash Here:</text>
    <line x1="265" y1="-50" x2="265" y2="10" stroke="#F44336" stroke-width="2" stroke-dasharray="5,5" />
    <text x="100" y="40" font-family="Arial, sans-serif" font-size="12" fill="#ccc">Transaction discarded.</text>
    <text x="100" y="60" font-family="Arial, sans-serif" font-size="12" fill="#ccc">FS remains consistent.</text>
    
    <line x1="515" y1="-50" x2="515" y2="10" stroke="#F44336" stroke-width="2" stroke-dasharray="5,5" />
    <text x="450" y="40" font-family="Arial, sans-serif" font-size="12" fill="#ccc">Replay journal.</text>
    <text x="450" y="60" font-family="Arial, sans-serif" font-size="12" fill="#ccc">Apply changes to disk.</text>
  </g>

</svg>
