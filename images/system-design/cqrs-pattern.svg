<svg viewBox="0 0 800 480" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="cmdGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#3B82F6"/>
      <stop offset="100%" style="stop-color:#1D4ED8"/>
    </linearGradient>
    <linearGradient id="qryGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#10B981"/>
      <stop offset="100%" style="stop-color:#059669"/>
    </linearGradient>
    <linearGradient id="evtGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#8B5CF6"/>
      <stop offset="100%" style="stop-color:#7C3AED"/>
    </linearGradient>
  </defs>
  
  <!-- Background -->
  <rect width="800" height="480" fill="#FAFAFA"/>
  
  <!-- Title -->
  <text x="400" y="35" text-anchor="middle" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="#1F2937">CQRS Pattern</text>
  <text x="400" y="55" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#6B7280">Command Query Responsibility Segregation | DEV WEEKENDS</text>
  
  <!-- Client -->
  <g transform="translate(350, 80)">
    <rect x="0" y="0" width="100" height="50" rx="8" fill="#374151"/>
    <text x="50" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white" font-weight="bold">Client</text>
  </g>
  
  <!-- Command Side -->
  <g transform="translate(80, 180)">
    <rect x="0" y="0" width="280" height="240" rx="10" fill="#EFF6FF" stroke="#3B82F6" stroke-width="2"/>
    <text x="140" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#1D4ED8">COMMAND SIDE (Write)</text>
    
    <!-- Command Handler -->
    <rect x="20" y="45" width="120" height="45" rx="6" fill="url(#cmdGradient)"/>
    <text x="80" y="65" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white" font-weight="bold">Command</text>
    <text x="80" y="80" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">Handler</text>
    
    <!-- Domain Model -->
    <rect x="160" y="45" width="100" height="45" rx="6" fill="#2563EB"/>
    <text x="210" y="65" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white" font-weight="bold">Domain</text>
    <text x="210" y="80" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">Model</text>
    
    <!-- Event Store -->
    <rect x="80" y="110" width="120" height="50" rx="6" fill="url(#evtGradient)"/>
    <text x="140" y="132" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="white" font-weight="bold">Event Store</text>
    <text x="140" y="148" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">Append-only</text>
    
    <!-- Write DB -->
    <rect x="80" y="180" width="120" height="45" rx="6" fill="#6366F1"/>
    <text x="140" y="205" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="white" font-weight="bold">Write DB</text>
  </g>
  
  <!-- Query Side -->
  <g transform="translate(440, 180)">
    <rect x="0" y="0" width="280" height="240" rx="10" fill="#ECFDF5" stroke="#10B981" stroke-width="2"/>
    <text x="140" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#059669">QUERY SIDE (Read)</text>
    
    <!-- Query Handler -->
    <rect x="20" y="45" width="120" height="45" rx="6" fill="url(#qryGradient)"/>
    <text x="80" y="65" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white" font-weight="bold">Query</text>
    <text x="80" y="80" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">Handler</text>
    
    <!-- Projector -->
    <rect x="160" y="45" width="100" height="45" rx="6" fill="#34D399"/>
    <text x="210" y="65" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white" font-weight="bold">Projector</text>
    <text x="210" y="80" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">(Denormalizer)</text>
    
    <!-- Read Model -->
    <rect x="80" y="110" width="120" height="50" rx="6" fill="#10B981"/>
    <text x="140" y="132" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="white" font-weight="bold">Read Model</text>
    <text x="140" y="148" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">Denormalized</text>
    
    <!-- Read DB -->
    <rect x="80" y="180" width="120" height="45" rx="6" fill="#059669"/>
    <text x="140" y="205" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="white" font-weight="bold">Read DB</text>
  </g>
  
  <!-- Event Bus -->
  <g transform="translate(310, 340)">
    <rect x="0" y="0" width="180" height="40" rx="6" fill="url(#evtGradient)"/>
    <text x="90" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white" font-weight="bold">Event Bus</text>
  </g>
  
  <!-- Arrows -->
  <!-- Client to Command -->
  <path d="M360 130 L250 180" stroke="#3B82F6" stroke-width="2" fill="none" marker-end="url(#arrowBlue)"/>
  <text x="280" y="150" font-family="Arial, sans-serif" font-size="9" fill="#3B82F6">Commands</text>
  
  <!-- Client to Query -->
  <path d="M440 130 L550 180" stroke="#10B981" stroke-width="2" fill="none" marker-end="url(#arrowGreen)"/>
  <text x="490" y="150" font-family="Arial, sans-serif" font-size="9" fill="#10B981">Queries</text>
  
  <!-- Events to Event Bus -->
  <path d="M220 350 L310 360" stroke="#8B5CF6" stroke-width="2" fill="none" marker-end="url(#arrowPurple)"/>
  <text x="260" y="345" font-family="Arial, sans-serif" font-size="9" fill="#8B5CF6">Events</text>
  
  <!-- Event Bus to Projector -->
  <path d="M490 360 L600 310" stroke="#8B5CF6" stroke-width="2" fill="none" marker-end="url(#arrowPurple)"/>
  <text x="550" y="340" font-family="Arial, sans-serif" font-size="9" fill="#8B5CF6">Subscribe</text>
  
  <!-- Arrow markers -->
  <defs>
    <marker id="arrowBlue" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#3B82F6"/>
    </marker>
    <marker id="arrowGreen" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#10B981"/>
    </marker>
    <marker id="arrowPurple" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#8B5CF6"/>
    </marker>
  </defs>
  
  <!-- Benefits -->
  <g transform="translate(50, 430)">
    <text x="0" y="0" font-family="Arial, sans-serif" font-size="10" fill="#6B7280">
      <tspan font-weight="bold" fill="#374151">Benefits:</tspan>
      <tspan dx="10">Independent scaling</tspan>
      <tspan dx="10">•</tspan>
      <tspan dx="5">Optimized read models</tspan>
      <tspan dx="10">•</tspan>
      <tspan dx="5">Event sourcing ready</tspan>
      <tspan dx="10">•</tspan>
      <tspan dx="5">Eventual consistency</tspan>
    </text>
  </g>
</svg>