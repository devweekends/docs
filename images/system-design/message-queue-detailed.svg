<svg width="1080" height="800" viewBox="0 0 1080 800" fill="none" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="1080" height="800" fill="#FAFAFA"/>
  
  <!-- Header -->
  <text x="60" y="50" font-family="system-ui, sans-serif" font-size="14" font-weight="600" letter-spacing="3">
    <tspan fill="#667EEA">DEV</tspan><tspan fill="#764BA2"> WEEKENDS</tspan>
  </text>
  
  <!-- Topic Tag -->
  <rect x="60" y="70" width="180" height="32" rx="16" fill="#8B5CF6"/>
  <text x="150" y="92" font-family="system-ui, sans-serif" font-size="11" font-weight="600" fill="#FFFFFF" text-anchor="middle" letter-spacing="2">MESSAGE QUEUES</text>
  
  <!-- Title -->
  <text x="60" y="145" font-family="system-ui, sans-serif" font-size="32" font-weight="800" fill="#1a1a2e">Message Queue Architecture</text>
  <text x="60" y="175" font-family="system-ui, sans-serif" font-size="16" fill="#6B7280">Async processing, decoupling, and reliable message delivery</text>
  
  <!-- Main Architecture Diagram -->
  <!-- Producers -->
  <text x="100" y="220" font-family="system-ui, sans-serif" font-size="14" font-weight="700" fill="#3B82F6">PRODUCERS</text>
  
  <rect x="60" y="240" width="120" height="60" rx="10" fill="#EFF6FF" stroke="#3B82F6" stroke-width="2"/>
  <text x="120" y="265" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#3B82F6" text-anchor="middle">API Server</text>
  <text x="120" y="285" font-family="system-ui, sans-serif" font-size="10" fill="#6B7280" text-anchor="middle">User Actions</text>
  
  <rect x="60" y="320" width="120" height="60" rx="10" fill="#EFF6FF" stroke="#3B82F6" stroke-width="2"/>
  <text x="120" y="345" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#3B82F6" text-anchor="middle">Scheduler</text>
  <text x="120" y="365" font-family="system-ui, sans-serif" font-size="10" fill="#6B7280" text-anchor="middle">Cron Jobs</text>
  
  <rect x="60" y="400" width="120" height="60" rx="10" fill="#EFF6FF" stroke="#3B82F6" stroke-width="2"/>
  <text x="120" y="425" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#3B82F6" text-anchor="middle">Webhook</text>
  <text x="120" y="445" font-family="system-ui, sans-serif" font-size="10" fill="#6B7280" text-anchor="middle">External Events</text>
  
  <!-- Arrows to Queue -->
  <path d="M180 270 L300 330" stroke="#3B82F6" stroke-width="2" marker-end="url(#blueArrow2)"/>
  <path d="M180 350 L300 350" stroke="#3B82F6" stroke-width="2" marker-end="url(#blueArrow2)"/>
  <path d="M180 430 L300 370" stroke="#3B82F6" stroke-width="2" marker-end="url(#blueArrow2)"/>
  
  <!-- Message Queue -->
  <rect x="300" y="280" width="260" height="140" rx="12" fill="#8B5CF6" stroke="#6D28D9" stroke-width="2"/>
  <text x="430" y="315" font-family="system-ui, sans-serif" font-size="16" font-weight="700" fill="#FFFFFF" text-anchor="middle">MESSAGE QUEUE</text>
  <text x="430" y="335" font-family="system-ui, sans-serif" font-size="11" fill="#E9D5FF" text-anchor="middle">(Redis / RabbitMQ / Kafka)</text>
  
  <!-- Messages in Queue -->
  <rect x="320" y="355" width="50" height="45" rx="6" fill="#FFFFFF" stroke="#8B5CF6" stroke-width="1"/>
  <text x="345" y="380" font-family="system-ui, sans-serif" font-size="9" fill="#8B5CF6" text-anchor="middle">msg 1</text>
  <text x="345" y="392" font-family="system-ui, sans-serif" font-size="8" fill="#9CA3AF" text-anchor="middle">HIGH</text>
  
  <rect x="380" y="355" width="50" height="45" rx="6" fill="#FFFFFF" stroke="#8B5CF6" stroke-width="1"/>
  <text x="405" y="380" font-family="system-ui, sans-serif" font-size="9" fill="#8B5CF6" text-anchor="middle">msg 2</text>
  <text x="405" y="392" font-family="system-ui, sans-serif" font-size="8" fill="#9CA3AF" text-anchor="middle">NORMAL</text>
  
  <rect x="440" y="355" width="50" height="45" rx="6" fill="#FFFFFF" stroke="#8B5CF6" stroke-width="1"/>
  <text x="465" y="380" font-family="system-ui, sans-serif" font-size="9" fill="#8B5CF6" text-anchor="middle">msg 3</text>
  <text x="465" y="392" font-family="system-ui, sans-serif" font-size="8" fill="#9CA3AF" text-anchor="middle">LOW</text>
  
  <rect x="500" y="355" width="50" height="45" rx="6" fill="#F3F4F6" stroke="#D1D5DB" stroke-width="1" stroke-dasharray="4,2"/>
  <text x="525" y="382" font-family="system-ui, sans-serif" font-size="9" fill="#9CA3AF" text-anchor="middle">...</text>
  
  <!-- Arrows to Consumers -->
  <path d="M560 310 L680 270" stroke="#10B981" stroke-width="2" marker-end="url(#greenArrow2)"/>
  <path d="M560 350 L680 350" stroke="#10B981" stroke-width="2" marker-end="url(#greenArrow2)"/>
  <path d="M560 390 L680 430" stroke="#10B981" stroke-width="2" marker-end="url(#greenArrow2)"/>
  
  <!-- Consumers -->
  <text x="780" y="220" font-family="system-ui, sans-serif" font-size="14" font-weight="700" fill="#10B981">CONSUMERS</text>
  
  <rect x="680" y="240" width="140" height="60" rx="10" fill="#ECFDF5" stroke="#10B981" stroke-width="2"/>
  <text x="750" y="265" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#10B981" text-anchor="middle">Email Worker</text>
  <text x="750" y="285" font-family="system-ui, sans-serif" font-size="10" fill="#6B7280" text-anchor="middle">Concurrency: 5</text>
  
  <rect x="680" y="320" width="140" height="60" rx="10" fill="#ECFDF5" stroke="#10B981" stroke-width="2"/>
  <text x="750" y="345" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#10B981" text-anchor="middle">Image Worker</text>
  <text x="750" y="365" font-family="system-ui, sans-serif" font-size="10" fill="#6B7280" text-anchor="middle">Concurrency: 10</text>
  
  <rect x="680" y="400" width="140" height="60" rx="10" fill="#ECFDF5" stroke="#10B981" stroke-width="2"/>
  <text x="750" y="425" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#10B981" text-anchor="middle">Analytics Worker</text>
  <text x="750" y="445" font-family="system-ui, sans-serif" font-size="10" fill="#6B7280" text-anchor="middle">Concurrency: 3</text>
  
  <!-- Results -->
  <path d="M820 270 L900 270" stroke="#10B981" stroke-width="2" marker-end="url(#greenArrow2)"/>
  <path d="M820 350 L900 350" stroke="#10B981" stroke-width="2" marker-end="url(#greenArrow2)"/>
  <path d="M820 430 L900 430" stroke="#10B981" stroke-width="2" marker-end="url(#greenArrow2)"/>
  
  <rect x="900" y="240" width="120" height="60" rx="10" fill="#F3F4F6" stroke="#9CA3AF" stroke-width="1"/>
  <text x="960" y="270" font-family="system-ui, sans-serif" font-size="11" fill="#6B7280" text-anchor="middle">ğŸ“§ Email Sent</text>
  
  <rect x="900" y="320" width="120" height="60" rx="10" fill="#F3F4F6" stroke="#9CA3AF" stroke-width="1"/>
  <text x="960" y="350" font-family="system-ui, sans-serif" font-size="11" fill="#6B7280" text-anchor="middle">ğŸ–¼ï¸ Image Resized</text>
  
  <rect x="900" y="400" width="120" height="60" rx="10" fill="#F3F4F6" stroke="#9CA3AF" stroke-width="1"/>
  <text x="960" y="430" font-family="system-ui, sans-serif" font-size="11" fill="#6B7280" text-anchor="middle">ğŸ“Š Stats Updated</text>
  
  <!-- Dead Letter Queue -->
  <rect x="840" y="510" width="180" height="80" rx="10" fill="#FEF2F2" stroke="#EF4444" stroke-width="2"/>
  <text x="930" y="540" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#EF4444" text-anchor="middle">Dead Letter Queue</text>
  <text x="930" y="560" font-family="system-ui, sans-serif" font-size="10" fill="#6B7280" text-anchor="middle">Failed after 3 retries</text>
  <text x="930" y="580" font-family="system-ui, sans-serif" font-size="10" fill="#6B7280" text-anchor="middle">For investigation</text>
  
  <path d="M750 460 L750 490 L840 530" stroke="#EF4444" stroke-width="2" stroke-dasharray="4,4" marker-end="url(#redArrow)"/>
  <text x="770" y="500" font-family="system-ui, sans-serif" font-size="9" fill="#EF4444">Failures</text>
  
  <!-- Arrow Definitions -->
  <defs>
    <marker id="blueArrow2" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#3B82F6"/>
    </marker>
    <marker id="greenArrow2" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#10B981"/>
    </marker>
    <marker id="redArrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#EF4444"/>
    </marker>
  </defs>
  
  <!-- Benefits Section -->
  <text x="60" y="540" font-family="system-ui, sans-serif" font-size="18" font-weight="700" fill="#1a1a2e">Key Benefits</text>
  
  <rect x="60" y="560" width="180" height="90" rx="10" fill="#EFF6FF" stroke="#3B82F6" stroke-width="1"/>
  <text x="150" y="590" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#3B82F6" text-anchor="middle">ğŸ”„ Decoupling</text>
  <text x="150" y="610" font-family="system-ui, sans-serif" font-size="10" fill="#6B7280" text-anchor="middle">Services don't need</text>
  <text x="150" y="625" font-family="system-ui, sans-serif" font-size="10" fill="#6B7280" text-anchor="middle">to know each other</text>
  
  <rect x="260" y="560" width="180" height="90" rx="10" fill="#ECFDF5" stroke="#10B981" stroke-width="1"/>
  <text x="350" y="590" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#10B981" text-anchor="middle">âš¡ Async</text>
  <text x="350" y="610" font-family="system-ui, sans-serif" font-size="10" fill="#6B7280" text-anchor="middle">Non-blocking</text>
  <text x="350" y="625" font-family="system-ui, sans-serif" font-size="10" fill="#6B7280" text-anchor="middle">Fast response times</text>
  
  <rect x="460" y="560" width="180" height="90" rx="10" fill="#FEF3C7" stroke="#F59E0B" stroke-width="1"/>
  <text x="550" y="590" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#F59E0B" text-anchor="middle">ğŸ“ˆ Load Leveling</text>
  <text x="550" y="610" font-family="system-ui, sans-serif" font-size="10" fill="#6B7280" text-anchor="middle">Handle traffic spikes</text>
  <text x="550" y="625" font-family="system-ui, sans-serif" font-size="10" fill="#6B7280" text-anchor="middle">Smooth processing</text>
  
  <rect x="660" y="560" width="180" height="90" rx="10" fill="#F3E8FF" stroke="#8B5CF6" stroke-width="1"/>
  <text x="750" y="590" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#8B5CF6" text-anchor="middle">ğŸ›¡ï¸ Reliability</text>
  <text x="750" y="610" font-family="system-ui, sans-serif" font-size="10" fill="#6B7280" text-anchor="middle">Messages persist</text>
  <text x="750" y="625" font-family="system-ui, sans-serif" font-size="10" fill="#6B7280" text-anchor="middle">Auto-retry on failure</text>
  
  <!-- Queue Types -->
  <rect x="60" y="680" width="960" height="80" rx="10" fill="#FFFFFF" stroke="#E5E7EB" stroke-width="1"/>
  <text x="80" y="710" font-family="system-ui, sans-serif" font-size="14" font-weight="700" fill="#1a1a2e">Common Queue Types:</text>
  <text x="80" y="735" font-family="system-ui, sans-serif" font-size="12" fill="#6B7280">
    <tspan font-weight="600" fill="#3B82F6">Point-to-Point</tspan> (task queues) | 
    <tspan font-weight="600" fill="#10B981">Pub/Sub</tspan> (event broadcasting) | 
    <tspan font-weight="600" fill="#F59E0B">Priority Queue</tspan> (critical first) | 
    <tspan font-weight="600" fill="#EF4444">Dead Letter</tspan> (failed messages)
  </text>
  
  <!-- Footer -->
  <text x="540" y="785" font-family="system-ui, sans-serif" font-size="12" fill="#9CA3AF" text-anchor="middle">@devweekends</text>
</svg>
