<svg width="1080" height="1080" viewBox="0 0 1080 1080" fill="none" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="1080" height="1080" fill="#FAFAFA"/>
  
  <!-- Header -->
  <text x="60" y="80" font-family="system-ui, sans-serif" font-size="14" font-weight="600" letter-spacing="3">
    <tspan fill="#667EEA">DEV</tspan><tspan fill="#764BA2"> WEEKENDS</tspan>
  </text>
  
  <!-- Topic Tag -->
  <rect x="60" y="110" width="200" height="36" rx="18" fill="#FF6B6B"/>
  <text x="160" y="134" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#FFFFFF" text-anchor="middle" letter-spacing="2">SYSTEM DESIGN</text>
  
  <!-- Title -->
  <text x="60" y="220" font-family="system-ui, sans-serif" font-size="52" font-weight="800" fill="#1a1a2e">Rate Limiting</text>
  <text x="60" y="285" font-family="system-ui, sans-serif" font-size="52" font-weight="800" fill="#FF6B6B">Algorithms</text>
  
  <!-- Subtitle -->
  <text x="60" y="335" font-family="system-ui, sans-serif" font-size="18" fill="#6B7280">Protect your APIs from abuse and overload</text>
  
  <!-- Token Bucket -->
  <rect x="60" y="380" width="480" height="280" rx="16" fill="#FFFFFF" stroke="#3B82F6" stroke-width="2"/>
  <rect x="60" y="380" width="480" height="50" rx="16" fill="#3B82F6"/>
  <text x="300" y="413" font-family="system-ui, sans-serif" font-size="18" font-weight="700" fill="#FFFFFF" text-anchor="middle">ðŸª£ Token Bucket</text>
  
  <!-- Bucket visualization -->
  <rect x="200" y="460" width="180" height="140" rx="8" fill="#DBEAFE" stroke="#3B82F6" stroke-width="2"/>
  <text x="290" y="490" font-family="system-ui, sans-serif" font-size="12" fill="#3B82F6" text-anchor="middle">Bucket (capacity: 5)</text>
  
  <!-- Tokens -->
  <circle cx="230" cy="560" r="15" fill="#3B82F6"/>
  <text x="230" y="565" font-family="system-ui, sans-serif" font-size="10" fill="#FFFFFF" text-anchor="middle">T</text>
  <circle cx="270" cy="560" r="15" fill="#3B82F6"/>
  <text x="270" y="565" font-family="system-ui, sans-serif" font-size="10" fill="#FFFFFF" text-anchor="middle">T</text>
  <circle cx="310" cy="560" r="15" fill="#3B82F6"/>
  <text x="310" y="565" font-family="system-ui, sans-serif" font-size="10" fill="#FFFFFF" text-anchor="middle">T</text>
  <circle cx="350" cy="560" r="15" fill="#93C5FD"/>
  <text x="350" y="565" font-family="system-ui, sans-serif" font-size="10" fill="#3B82F6" text-anchor="middle">T</text>
  
  <!-- Refill arrow -->
  <line x1="290" y1="430" x2="290" y2="455" stroke="#10B981" stroke-width="2"/>
  <polygon points="285,455 290,465 295,455" fill="#10B981"/>
  <text x="340" y="445" font-family="system-ui, sans-serif" font-size="10" fill="#10B981">Refill rate: 1/sec</text>
  
  <text x="90" y="630" font-family="system-ui, sans-serif" font-size="11" fill="#10B981">âœ“ Allows bursts up to bucket capacity</text>
  <text x="90" y="650" font-family="system-ui, sans-serif" font-size="11" fill="#6B7280">Used by: AWS, Stripe</text>
  
  <!-- Leaky Bucket -->
  <rect x="560" y="380" width="460" height="280" rx="16" fill="#FFFFFF" stroke="#8B5CF6" stroke-width="2"/>
  <rect x="560" y="380" width="460" height="50" rx="16" fill="#8B5CF6"/>
  <text x="790" y="413" font-family="system-ui, sans-serif" font-size="18" font-weight="700" fill="#FFFFFF" text-anchor="middle">ðŸš¿ Leaky Bucket</text>
  
  <!-- Bucket visualization -->
  <rect x="680" y="460" width="180" height="140" rx="8" fill="#EDE9FE" stroke="#8B5CF6" stroke-width="2"/>
  <text x="770" y="490" font-family="system-ui, sans-serif" font-size="12" fill="#8B5CF6" text-anchor="middle">Queue (FIFO)</text>
  
  <!-- Requests -->
  <rect x="700" y="520" width="50" height="25" rx="4" fill="#8B5CF6"/>
  <text x="725" y="537" font-family="system-ui, sans-serif" font-size="9" fill="#FFFFFF" text-anchor="middle">Req</text>
  <rect x="760" y="520" width="50" height="25" rx="4" fill="#8B5CF6"/>
  <text x="785" y="537" font-family="system-ui, sans-serif" font-size="9" fill="#FFFFFF" text-anchor="middle">Req</text>
  <rect x="700" y="555" width="50" height="25" rx="4" fill="#C4B5FD"/>
  <text x="725" y="572" font-family="system-ui, sans-serif" font-size="9" fill="#8B5CF6" text-anchor="middle">Req</text>
  
  <!-- Output -->
  <line x1="770" y1="600" x2="770" y2="640" stroke="#10B981" stroke-width="2"/>
  <polygon points="765,640 770,650 775,640" fill="#10B981"/>
  <text x="820" y="635" font-family="system-ui, sans-serif" font-size="10" fill="#10B981">Fixed rate output</text>
  
  <text x="590" y="630" font-family="system-ui, sans-serif" font-size="11" fill="#10B981">âœ“ Smooths out bursty traffic</text>
  <text x="590" y="650" font-family="system-ui, sans-serif" font-size="11" fill="#6B7280">Used by: Network traffic shaping</text>
  
  <!-- Fixed Window Counter -->
  <rect x="60" y="680" width="315" height="280" rx="16" fill="#FFFFFF" stroke="#10B981" stroke-width="2"/>
  <rect x="60" y="680" width="315" height="50" rx="16" fill="#10B981"/>
  <text x="217" y="713" font-family="system-ui, sans-serif" font-size="16" font-weight="700" fill="#FFFFFF" text-anchor="middle">ðŸ“Š Fixed Window</text>
  
  <!-- Window visualization -->
  <rect x="90" y="750" width="120" height="80" rx="4" fill="#D1FAE5" stroke="#10B981" stroke-width="1"/>
  <text x="150" y="775" font-family="system-ui, sans-serif" font-size="10" fill="#10B981" text-anchor="middle">Window 1</text>
  <text x="150" y="800" font-family="system-ui, sans-serif" font-size="18" font-weight="700" fill="#10B981" text-anchor="middle">5/5</text>
  <text x="150" y="820" font-family="system-ui, sans-serif" font-size="9" fill="#6B7280" text-anchor="middle">00:00-01:00</text>
  
  <rect x="225" y="750" width="120" height="80" rx="4" fill="#ECFDF5" stroke="#10B981" stroke-width="1"/>
  <text x="285" y="775" font-family="system-ui, sans-serif" font-size="10" fill="#10B981" text-anchor="middle">Window 2</text>
  <text x="285" y="800" font-family="system-ui, sans-serif" font-size="18" font-weight="700" fill="#10B981" text-anchor="middle">2/5</text>
  <text x="285" y="820" font-family="system-ui, sans-serif" font-size="9" fill="#6B7280" text-anchor="middle">01:00-02:00</text>
  
  <text x="90" y="860" font-family="system-ui, sans-serif" font-size="10" fill="#10B981">âœ“ Simple to implement</text>
  <text x="90" y="880" font-family="system-ui, sans-serif" font-size="10" fill="#EF4444">âœ— Burst at window edges</text>
  <text x="90" y="900" font-family="system-ui, sans-serif" font-size="10" fill="#6B7280">Limit: 5 reqs/min</text>
  
  <!-- Sliding Window Log -->
  <rect x="390" y="680" width="315" height="280" rx="16" fill="#FFFFFF" stroke="#F59E0B" stroke-width="2"/>
  <rect x="390" y="680" width="315" height="50" rx="16" fill="#F59E0B"/>
  <text x="547" y="713" font-family="system-ui, sans-serif" font-size="16" font-weight="700" fill="#FFFFFF" text-anchor="middle">ðŸ“œ Sliding Window Log</text>
  
  <!-- Log entries -->
  <rect x="420" y="750" width="255" height="120" rx="4" fill="#FEF3C7" stroke="#F59E0B" stroke-width="1"/>
  <text x="440" y="775" font-family="monospace" font-size="10" fill="#92400E">00:00:15 - req_1</text>
  <text x="440" y="795" font-family="monospace" font-size="10" fill="#92400E">00:00:32 - req_2</text>
  <text x="440" y="815" font-family="monospace" font-size="10" fill="#92400E">00:00:45 - req_3</text>
  <text x="440" y="835" font-family="monospace" font-size="10" fill="#92400E">00:00:58 - req_4</text>
  <text x="440" y="855" font-family="monospace" font-size="10" fill="#F59E0B">â†’ count in last 60s: 4</text>
  
  <text x="420" y="890" font-family="system-ui, sans-serif" font-size="10" fill="#10B981">âœ“ Very accurate</text>
  <text x="420" y="910" font-family="system-ui, sans-serif" font-size="10" fill="#EF4444">âœ— Memory intensive</text>
  <text x="420" y="930" font-family="system-ui, sans-serif" font-size="10" fill="#6B7280">Stores timestamps</text>
  
  <!-- Sliding Window Counter -->
  <rect x="720" y="680" width="300" height="280" rx="16" fill="#FFFFFF" stroke="#EC4899" stroke-width="2"/>
  <rect x="720" y="680" width="300" height="50" rx="16" fill="#EC4899"/>
  <text x="870" y="713" font-family="system-ui, sans-serif" font-size="16" font-weight="700" fill="#FFFFFF" text-anchor="middle">ðŸ”¢ Sliding Counter</text>
  
  <!-- Weighted calculation -->
  <rect x="750" y="760" width="240" height="100" rx="8" fill="#FDF2F8" stroke="#EC4899" stroke-width="1"/>
  <text x="870" y="790" font-family="system-ui, sans-serif" font-size="11" fill="#EC4899" text-anchor="middle">Weighted calculation:</text>
  <text x="870" y="820" font-family="system-ui, sans-serif" font-size="12" fill="#1F2937" text-anchor="middle">prev_count Ã— (1 - elapsed%)</text>
  <text x="870" y="845" font-family="system-ui, sans-serif" font-size="12" fill="#1F2937" text-anchor="middle">+ curr_count</text>
  
  <text x="750" y="890" font-family="system-ui, sans-serif" font-size="10" fill="#10B981">âœ“ Best of both worlds</text>
  <text x="750" y="910" font-family="system-ui, sans-serif" font-size="10" fill="#10B981">âœ“ Low memory usage</text>
  <text x="750" y="930" font-family="system-ui, sans-serif" font-size="10" fill="#6B7280">Recommended approach</text>
  
  <!-- Summary -->
  <rect x="60" y="980" width="960" height="60" rx="12" fill="#F3F4F6"/>
  <text x="90" y="1020" font-family="system-ui, sans-serif" font-size="13" fill="#1F2937">ðŸ’¡ <tspan font-weight="600">Choose based on:</tspan> Token Bucket (bursty traffic) | Sliding Counter (precision + memory) | Fixed Window (simplicity)</text>
  
  <!-- Footer -->
  <text x="540" y="1060" font-family="system-ui, sans-serif" font-size="14" fill="#9CA3AF" text-anchor="middle">@devweekends</text>
</svg>